function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}export function ref(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,watchFuncs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return watchFuncs?ddrWatcher(data,watchFuncs):new Proxy(_.isPlainObject(data)?data:{value:data},{get:function get(target,prop,receiver){return prop in target?_.isNumber(target[prop])?Number(target[prop]):Reflect.get(target,prop,receiver):null}})}var getHandlers=Symbol("handlers"),setHandlers=Symbol("handlers");export function ddrWatcher(proxedObj){var watcherFuncName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(proxedObj=_.isPlainObject(proxedObj)?proxedObj:{proxedObj:proxedObj})[getHandlers]=[],proxedObj[setHandlers]=[],proxedObj.observe=function(funcsObj){var outerGetFunc,outerSetFunc,outerMixFunc;_.isFunction(funcsObj)?outerMixFunc=funcsObj:_.isPlainObject(funcsObj)&&(_.isString(null==funcsObj?void 0:funcsObj.get)?window[null==funcsObj?void 0:funcsObj.get]=function(callback){return outerGetFunc=callback}:outerGetFunc=null==funcsObj?void 0:funcsObj.get,_.isString(null==funcsObj?void 0:funcsObj.set)?window[null==funcsObj?void 0:funcsObj.set]=function(callback){return outerSetFunc=callback}:outerSetFunc=null==funcsObj?void 0:funcsObj.set),outerMixFunc&&(this[getHandlers].push(outerMixFunc),this[setHandlers].push(outerMixFunc)),outerGetFunc&&this[getHandlers].push(outerGetFunc),outerSetFunc&&this[setHandlers].push(outerSetFunc)},_.isString(watcherFuncName)?window[watcherFuncName]=function(data){return proxedObj.observe(data)}:proxedObj.observe(watcherFuncName),new Proxy(proxedObj,{get:function get(target,property,receiver){return target[getHandlers]&&target[getHandlers].forEach((function(handler){return handler({type:"get",target:target,prop:property,value:target[property]})})),Reflect.get.apply(Reflect,arguments)},set:function set(target,property,value,receiver){var success=Reflect.set.apply(Reflect,arguments);return success&&target[setHandlers]&&target[setHandlers].forEach((function(handler){return handler({type:"set",target:target,prop:property,value:value})})),success}})}export function getDataByDot(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,dotString=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!data||!dotString)return!1;var splitSetting=pregSplit(dotString,"."),increment=createCounter();return function _recur(data,splitSetting){var iter=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return iter==splitSetting.length?data:!!data[splitSetting[iter]]&&_recur(data[splitSetting[iter]],splitSetting,increment())}(data,splitSetting)}export function metaKeys(){var event=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(_.isNull(event))throw new Error("metaKeys ошибка! Не передан event!");var shiftKey=event.shiftKey,ctrlKey=event.ctrlKey,altKey=event.altKey,metaKey=event.metaKey;return{isShiftKey:shiftKey,isCtrlKey:ctrlKey||metaKey,isCommandKey:ctrlKey||metaKey,isAltKey:altKey,isOptionKey:altKey,noKeys:!shiftKey&&!altKey&&!(ctrlKey||metaKey),isActiveKey:function isActiveKey(){var key=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!_.isNull(event)&&(_.isArray(key)?!(!["ctrl","command"].some((function(k){return-1!==key.indexOf(k)}))||!ctrlKey&&!metaKey)||(!(!["shift"].some((function(k){return-1!==key.indexOf(k)}))||!shiftKey)||!(!["alt","option"].some((function(k){return-1!==key.indexOf(k)}))||!altKey)):!(-1===["ctrl","command"].indexOf(key)||!ctrlKey&&!metaKey)||(!("shift"!=key||!shiftKey)||!(-1===["alt","option"].indexOf(key)||!altKey)))}}}export function mouseClick(){var event=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(_.isNull(event))throw new Error("mouseClick ошибка! Не передан event!");var which=event.which;return{isLeftClick:1==which,isRightClick:3==which,isCenterClick:2==which}}export function ddrCssVar(){var variable=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,value=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_.isNull(variable))return!1;var v=variable.replace("--","");return _.isNull(value)?getComputedStyle(document.documentElement).getPropertyValue("--"+v):document.documentElement.style.setProperty("--"+v,value)}export function ddrBrowserTab(focusCb,blurCb){$(window).load((function(){window.focus()})),$(window).bind("focus",(function(){focusCb&&"function"==typeof focusCb&&focusCb()})),$(window).bind("blur",(function(){blurCb&&"function"==typeof blurCb&&blurCb()}))}export function tapEventInfo(e,d){var data,attrs,classes,at="";if("mobile"!=thisDevice||isIos?(attrs=e.target.attributes||!1,classes=e.target.className||!1):(attrs=null!=e.changedTouches&&e.changedTouches[0].target.attributes,classes=null!=e.changedTouches&&e.changedTouches[0].target.className),attrs.length&&$.each(attrs,(function(k,a){at+=" "+a.name})),data={classes:!(!classes||"string"!=typeof classes)&&classes.split(" "),attributes:!(!at||"string"!=typeof at)&&at.trim().split(" ")},null!=d&&d.class){if(data.classes){var fStat=!1;return"object"==_typeof(d.class)?($.each(d.class,(function(k,cls){-1!=data.classes.indexOf(cls)&&(fStat=!0)})),fStat):-1!=data.classes.indexOf(d.class)}return!1}if(null!=d&&d.attribute){if(data.attributes){fStat=!1;return"object"==_typeof(d.attribute)?($.each(d.attribute,(function(k,attr){-1!=data.attributes.indexOf(attr)&&(fStat=!0)})),fStat):-1!=data.attributes.indexOf(d.attribute)}return!1}return!(!data.classes&&!data.attributes)&&data}export function getUrlArgs(arg){var item,args=location.search.substr(1,location.search.length).split("&"),argsArr={};return $.each(args,(function(k,i){if(""==i)return!0;item=i.split("="),argsArr[item[0]]=item[1]})),null!=arg&&null!=argsArr[arg]?argsArr[arg]:(null==arg||null!=argsArr[arg])&&(Object.keys(argsArr).length>0?argsArr:null)}export function getUrlSegment(){var segment=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(path?{pathname:path}:window.location).pathname.split("/").filter(Boolean)[segment-1]||!1}