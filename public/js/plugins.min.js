/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
function jBox(type,options){this.options={id:null,width:"auto",height:"auto",minWidth:null,maxHeight:null,minWidth:null,maxHeight:null,attach:null,trigger:"click",preventDefault:!1,title:null,content:null,getTitle:null,getContent:null,ajax:{url:null,data:"",reload:!1,getData:"data-ajax",setContent:!0,spinner:!0},target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},adjustPosition:!1,adjustTracker:!1,adjustDistance:5,fixed:!1,reposition:!1,repositionOnOpen:!0,repositionOnContent:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:"",overlay:!1,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,constructOnInit:!1,blockScroll:!1,appendTo:jQuery("body"),draggable:null,dragOver:!0,onInit:function(){},onCreated:function(){},onOpen:function(){},onClose:function(){},onCloseComplete:function(){},confirmButton:"Submit",cancelButton:"Cancel",confirm:null,cancel:null,autoClose:7e3,color:null,stack:!0,audio:!1,volume:100,src:"href",gallery:"data-jbox-image",imageLabel:"title",imageFade:600,imageSize:"contain"},this.defaultOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0,adjustPosition:!0,reposition:!0},Mouse:{target:"mouse",position:{x:"right",y:"bottom"},offset:15,trigger:"mouseenter",adjustPosition:"flip"},Modal:{target:jQuery(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomOut"},Confirm:{target:jQuery(window),fixed:!0,attach:jQuery("[data-confirm]"),getContent:"data-confirm",content:"Do you really want to do this?",minWidth:320,maxWidth:460,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomOut",preventDefault:!0,_onAttach:function(t){if(!this.options.confirm){var e=t.attr("onclick")?t.attr("onclick"):t.attr("href")?t.attr("target")?'window.open("'+t.attr("href")+'", "'+t.attr("target")+'");':'window.location.href = "'+t.attr("href")+'";':"";t.prop("onclick",null).data("jBox-Confirm-submit",e)}},_onCreated:function(){this.footer=jQuery('<div class="jBox-Confirm-footer"/>'),jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-cancel"/>').html(this.options.cancelButton).click(function(){this.options.cancel&&this.options.cancel(),this.close()}.bind(this)).appendTo(this.footer),this.submitButton=jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-submit"/>').html(this.options.confirmButton).appendTo(this.footer),this.footer.appendTo(this.container)},_onOpen:function(){this.submitButton.off("click.jBox-Confirm"+this.id).on("click.jBox-Confirm"+this.id,function(){this.options.confirm?this.options.confirm():eval(this.source.data("jBox-Confirm-submit")),this.close()}.bind(this))}},Notice:{target:jQuery(window),fixed:!0,position:{x:20,y:20},attributes:{x:"right",y:"top"},animation:"zoomIn",closeOnClick:"box",_onInit:function(){this.open(),this.options.delayClose=this.options.autoClose,this.options.delayClose&&this.close()},_onCreated:function(){this.options.color&&this.wrapper.addClass("jBox-Notice-color jBox-Notice-"+this.options.color),this.wrapper.data("jBox-Notice-position",this.options.attributes.x+"-"+this.options.attributes.y)},_onOpen:function(){jQuery.each(jQuery(".jBox-Notice"),function(t,e){return(e=jQuery(e)).attr("id")!=this.id&&e.data("jBox-Notice-position")==this.options.attributes.x+"-"+this.options.attributes.y?this.options.stack?void e.css("margin-"+this.options.attributes.y,parseInt(e.css("margin-"+this.options.attributes.y))+this.wrapper.outerHeight()+10):void e.data("jBox").close({ignoreDelay:!0}):void 0}.bind(this)),this.options.audio&&this.audio({url:this.options.audio,valume:this.options.volume})},_onCloseComplete:function(){this.destroy()}},Image:{target:jQuery(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomOut",width:800,height:533,attach:jQuery("[data-jbox-image]"),preventDefault:!0,_onInit:function(){this.images=this.currentImage={},this.imageZIndex=1,this.attachedElements&&jQuery.each(this.attachedElements,function(t,e){if(!(e=jQuery(e)).data("jBox-image-gallery")){var i=e.attr(this.options.gallery)||"default";!this.images[i]&&(this.images[i]=[]),this.images[i].push({src:e.attr(this.options.src),label:e.attr(this.options.imageLabel)||""}),"title"==this.options.imageLabel&&e.removeAttr("title"),e.data("jBox-image-gallery",i),e.data("jBox-image-id",this.images[i].length-1)}}.bind(this));var t=function(t,e,i,n){if(!jQuery("#jBox-image-"+t+"-"+e).length){var o=jQuery("<div/>",{id:"jBox-image-"+t+"-"+e,class:"jBox-image-container"}).css({backgroundImage:"url("+this.images[t][e].src+")",backgroundSize:this.options.imageSize,opacity:n?1:0,zIndex:i?0:this.imageZIndex++}).appendTo(this.content);jQuery("<div/>",{id:"jBox-image-label-"+t+"-"+e,class:"jBox-image-label"+(n?" active":"")}).html(this.images[t][e].label).appendTo(this.imageLabel),!n&&!i&&o.animate({opacity:1},this.options.imageFade)}}.bind(this),e=function(t,e){jQuery(".jBox-image-label.active").removeClass("active"),jQuery("#jBox-image-label-"+t+"-"+e).addClass("active")};this.showImage=function(i){if("open"!=i){var n=this.currentImage.gallery;o=(o=this.currentImage.id+(1*("prev"==i)?-1:1))>this.images[n].length-1?0:0>o?this.images[n].length-1:o}else{n=this.source.data("jBox-image-gallery");var o=this.source.data("jBox-image-id");jQuery(".jBox-image-pointer-prev, .jBox-image-pointer-next").css({display:this.images[n].length>1?"block":"none"})}this.currentImage={gallery:n,id:o},jQuery("#jBox-image-"+n+"-"+o).length?(jQuery("#jBox-image-"+n+"-"+o).css({zIndex:this.imageZIndex++,opacity:0}).animate({opacity:1},"open"==i?0:this.options.imageFade),e(n,o)):(this.wrapper.addClass("jBox-loading"),jQuery('<img src="'+this.images[n][o].src+'">').load(function(){t(n,o,!1),e(n,o),this.wrapper.removeClass("jBox-loading")}.bind(this)));var r=o+1;r=r>this.images[n].length-1?0:0>r?this.images[n].length-1:r,!jQuery("#jBox-image-"+n+"-"+r).length&&jQuery('<img src="'+this.images[n][r].src+'">').load((function(){t(n,r,!0)}))}},_onCreated:function(){this.imageLabel=jQuery("<div/>",{id:"jBox-image-label"}).appendTo(this.wrapper),this.wrapper.append(jQuery("<div/>",{class:"jBox-image-pointer-prev",click:function(){this.showImage("prev")}.bind(this)})).append(jQuery("<div/>",{class:"jBox-image-pointer-next",click:function(){this.showImage("next")}.bind(this)}))},_onOpen:function(){jQuery("body").addClass("jBox-image-open"),jQuery(document).on("keyup.jBox-"+this.id,function(t){37==t.keyCode&&this.showImage("prev"),39==t.keyCode&&this.showImage("next")}.bind(this)),this.showImage("open")},_onClose:function(){jQuery("body").removeClass("jBox-image-open"),jQuery(document).off("keyup.jBox-"+this.id)},_onCloseComplete:function(){this.wrapper.find(".jBox-image-container").css("opacity",0)}}},"string"==jQuery.type(type)&&(this.type=type,type=this.defaultOptions[type]),this.options=jQuery.extend(!0,this.options,type,options),null===this.options.id&&(this.options.id="jBoxID"+jBox._getUniqueID()),this.id=this.options.id,("center"==this.options.position.x&&"x"==this.options.outside||"center"==this.options.position.y&&"y"==this.options.outside)&&(this.options.outside=!1),(!this.options.outside||"xy"==this.options.outside)&&(this.options.pointer=!1),"object"!=jQuery.type(this.options.offset)&&(this.options.offset={x:this.options.offset,y:this.options.offset}),this.options.offset.x||(this.options.offset.x=0),this.options.offset.y||(this.options.offset.y=0),this.options.adjustDistance="object"!=jQuery.type(this.options.adjustDistance)?{top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:jQuery.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.align=this.options.outside&&"xy"!=this.options.outside?this.options.position[this.options.outside]:"center"!=this.options.position.y&&"number"!=jQuery.type(this.options.position.y)?this.options.position.x:"center"!=this.options.position.x&&"number"!=jQuery.type(this.options.position.x)?this.options.position.y:this.options.attributes.x,this.options.outside&&"xy"!=this.options.outside&&(this.outside=this.options.position[this.options.outside]);var userAgent=navigator.userAgent.toLowerCase();return this.IE8=-1!=userAgent.indexOf("msie")&&8==parseInt(userAgent.split("msie")[1]),this.prefix=-1!=userAgent.indexOf("webkit")?"-webkit-":"",this._getOpp=function(t){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[t]},this._getXY=function(t){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[t]},this._getTL=function(t){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[t]},this._supportsSVG=function(){return document.createElement("svg").getAttributeNS},this._createSVG=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);return jQuery.each(e,(function(t,e){i.setAttribute(e[0],e[1]||"")})),i},this._appendSVG=function(t,e){return e.appendChild(t)},this._create=function(){if(!this.wrapper){if(this.wrapper=jQuery("<div/>",{id:this.id,class:"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")+(this.IE8?" jBox-IE8":"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.mouseleave(function(t){!this.source||t.relatedTarget!=this.source[0]&&-1===jQuery.inArray(this.source[0],jQuery(t.relatedTarget).parents("*"))&&this.close()}.bind(this)),"box"==this.options.closeOnClick&&this.wrapper.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=jQuery("<div/>",{class:"jBox-container"}).appendTo(this.wrapper),this.content=jQuery("<div/>",{class:"jBox-content"}).css({width:this.options.width,height:this.options.height,minWidth:this.options.minWidth,minHeight:this.options.minHeight,maxWidth:this.options.maxWidth,maxHeight:this.options.maxHeight}).appendTo(this.container),this.options.closeButton){if(this.closeButton=jQuery("<div/>",{class:"jBox-closeButton jBox-noDrag"}).on("touchend click",function(){this.isOpen&&this.close({ignoreDelay:!0})}.bind(this)),this._supportsSVG()){var t=this._createSVG("svg",[["viewBox","0 0 24 24"]]);this._appendSVG(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]]),t),this.closeButton.append(t)}else this.wrapper.addClass("jBox-nosvg");("box"==this.options.closeButton||!0===this.options.closeButton&&!this.options.overlay&&!this.options.title)&&(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))}if(this.wrapper.appendTo(this.options.appendTo),this.options.pointer){if(this.pointer={position:"target"!=this.options.pointTo?this.options.pointTo:this._getOpp(this.outside),xy:this._getXY("target"!=this.options.pointTo?this.options.pointTo:this.outside),align:"center",offset:0},this.pointer.element=jQuery("<div/>",{class:"jBox-pointer jBox-pointer-"+this.pointer.position}).appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},"string"==jQuery.type(this.options.pointer)){var e=this.options.pointer.split(":");e[0]&&(this.pointer.align=e[0]),e[1]&&(this.pointer.offset=parseInt(e[1]))}this.pointer.alignAttribute="x"==this.pointer.xy?"bottom"==this.pointer.align?"bottom":"top":"right"==this.pointer.align?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,"center"==this.pointer.align?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,"center"==this.pointer.align&&this.pointer.element.css(this.prefix+"transform","translate("+("y"==this.pointer.xy?-.5*this.pointer.dimensions.x+"px":0)+", "+("x"==this.pointer.xy?-.5*this.pointer.dimensions.y+"px":0)+")"),this.pointer.element.css("x"==this.pointer.xy?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)}if(this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable)("title"==this.options.draggable?this.titleContainer:this.options.draggable.length>0?this.options.draggable:this.options.draggable.selector?jQuery(this.options.draggable.selector):this.wrapper).addClass("jBox-draggable").on("mousedown",function(t){if(2!=t.button&&!jQuery(t.target).hasClass("jBox-noDrag")&&!jQuery(t.target).parents(".jBox-noDrag").length){this.options.dragOver&&this.wrapper.css("zIndex")<=jBox.zIndexMax&&(jBox.zIndexMax+=1,this.wrapper.css("zIndex",jBox.zIndexMax));var e=this.wrapper.outerHeight(),i=this.wrapper.outerWidth(),n=this.wrapper.offset().top+e-t.pageY,o=this.wrapper.offset().left+i-t.pageX;jQuery(document).on("mousemove.jBox-draggable-"+this.id,function(t){this.wrapper.offset({top:t.pageY+n-e,left:t.pageX+o-i})}.bind(this)),t.preventDefault()}}.bind(this)).on("mouseup",function(){jQuery(document).off("mousemove.jBox-draggable-"+this.id)}.bind(this)),jBox.zIndexMax=jBox.zIndexMax?Math.max(jBox.zIndexMax,this.options.zIndex):this.options.zIndex;this.options.onCreated.bind(this)(),this.options._onCreated&&this.options._onCreated.bind(this)()}},this.options.constructOnInit&&this._create(),this.options.attach&&this.attach(),this._positionMouse=function(t){this.pos={left:t.pageX,top:t.pageY};var e=function(t,e){return"center"==this.options.position[e]?void(this.pos[t]-=Math.ceil(this.dimensions[e]/2)):(this.pos[t]+=t==this.options.position[e]?-1*this.dimensions[e]-this.options.offset[e]:this.options.offset[e],this.pos[t])}.bind(this);this.wrapper.css({left:e("left","x"),top:e("top","y")}),this.targetDimensions={x:0,y:0,left:t.pageX,top:t.pageY},this._adjustPosition()},this._attachEvents=function(){if(this.options.closeOnEsc&&jQuery(document).on("keyup.jBox-"+this.id,function(t){27==t.keyCode&&this.close({ignoreDelay:!0})}.bind(this)),(!0===this.options.closeOnClick||"body"==this.options.closeOnClick)&&jQuery(document).on("touchend.jBox-"+this.id+" click.jBox-"+this.id,function(t){this.blockBodyClick||"body"==this.options.closeOnClick&&(t.target==this.wrapper[0]||this.wrapper.has(t.target).length)||this.close({ignoreDelay:!0})}.bind(this)),(this.options.adjustPosition&&this.options.adjustTracker||this.options.reposition)&&!this.fixed&&this.outside){var t,e=0,i=function(){var i=(new Date).getTime();t||(i-e>150&&(this.options.reposition&&this.position(),this.options.adjustTracker&&this._adjustPosition(),e=i),t=setTimeout(function(){t=null,e=(new Date).getTime(),this.options.reposition&&this.position(),this.options.adjustTracker&&this._adjustPosition()}.bind(this),150))}.bind(this);this.options.adjustTracker&&"resize"!=this.options.adjustTracker&&jQuery(window).on("scroll.jBox-"+this.id,function(){i()}.bind(this)),(this.options.adjustTracker&&"scroll"!=this.options.adjustTracker||this.options.reposition)&&jQuery(window).on("resize.jBox-"+this.id,function(){i()}.bind(this))}"mouse"==this.options.target&&jQuery("body").on("mousemove.jBox-"+this.id,function(t){this._positionMouse(t)}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&jQuery(document).off("keyup.jBox-"+this.id),(!0===this.options.closeOnClick||"body"==this.options.closeOnClick)&&jQuery(document).off("touchend.jBox-"+this.id+" click.jBox-"+this.id),(this.options.adjustPosition&&this.options.adjustTracker||this.options.reposition)&&(jQuery(window).off("scroll.jBox-"+this.id),jQuery(window).off("resize.jBox-"+this.id)),"mouse"==this.options.target&&jQuery("body").off("mousemove.jBox-"+this.id)},this._addOverlay=function(){this.overlay||(this.overlay=jQuery("#jBox-overlay").length?jQuery("#jBox-overlay").css({zIndex:Math.min(jQuery("#jBox-overlay").css("z-index"),this.options.zIndex-1)}):jQuery("<div/>",{id:"jBox-overlay"}).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(jQuery("body")),("overlay"==this.options.closeButton||!0===this.options.closeButton)&&(jQuery("#jBox-overlay .jBox-closeButton").length>0?jQuery("#jBox-overlay .jBox-closeButton").on("touchend click",function(){this.isOpen&&this.close({ignoreDelay:!0})}.bind(this)):this.overlay.append(this.closeButton)),"overlay"==this.options.closeOnClick&&this.overlay.on("touchend click",function(){this.isOpen&&this.close({ignoreDelay:!0})}.bind(this)));var t=this.overlay.data("jBox")||{};t["jBox-"+this.id]=!0,this.overlay.data("jBox",t),"block"!=this.overlay.css("display")&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._removeOverlay=function(){if(this.overlay){var t=this.overlay.data("jBox");delete t["jBox-"+this.id],this.overlay.data("jBox",t),jQuery.isEmptyObject(t)&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))}},this._generateCSS=function(){if(!this.IE8){"object"!=jQuery.type(this.options.animation)&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open?this.options.animation.open[1]:null,this.options.animation.closeDirection=this.options.animation.close?this.options.animation.close[1]:null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var t={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};jQuery.each(["pulse","tada"],(function(e,i){t[i+"Open"]=t[i+"Close"]=t[i]}));var e=function(e,i){return keyframe_css="@"+this.prefix+"keyframes jBox-animation-"+this.options.animation[e]+"-"+e+(i?"-"+i:"")+" {",jQuery.each(t[this.options.animation[e]].css,function(n,o){var r=i?o[1].replace("%XY",this._getXY(i).toUpperCase()):o[1];t[this.options.animation[e]].positions&&(r=r.replace("%V",t[this.options.animation[e]].positions[i][o[0]])),keyframe_css+=o[0]+" {"+this.prefix+"transform:"+r+";}"}.bind(this)),keyframe_css+="}",keyframe_css+=".jBox-animation-"+this.options.animation[e]+"-"+e+(i?"-"+i:"")+" {",keyframe_css+=this.prefix+"animation-duration: "+t[this.options.animation[e]].duration+"ms;",keyframe_css+=this.prefix+"animation-name: jBox-animation-"+this.options.animation[e]+"-"+e+(i?"-"+i:"")+";",keyframe_css+=t[this.options.animation[e]].timing?this.prefix+"animation-timing-function: "+t[this.options.animation[e]].timing+";":"",keyframe_css+="}"}.bind(this),i="";jQuery.each(["open","close"],function(n,o){return this.options.animation[o]&&t[this.options.animation[o]]&&("close"!=o||this.options.fade)?void(t[this.options.animation[o]].positions?jQuery.each(["top","right","bottom","left"],(function(t,n){i+=e(o,n)})):i+=e(o)):""}.bind(this)),jQuery("<style/>").append(i).appendTo(jQuery("head"))}},this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this.options.animation&&this._generateCSS(),this._animate=function(t){if(!this.IE8){if(t||(t=this.isOpen?"open":"close"),!this.options.fade&&"close"==t)return null;var e=this.options.animation[t+"Direction"]||("center"!=this.align?this.align:this.options.attributes.x);this.flipped&&this._getXY(e)==this._getXY(this.align)&&(e=this._getOpp(e));var i="jBox-animation-"+this.options.animation[t]+"-"+t+" jBox-animation-"+this.options.animation[t]+"-"+t+"-"+e;this.wrapper.addClass(i);var n=1e3*parseFloat(this.wrapper.css(this.prefix+"animation-duration"));"close"==t&&(n=Math.min(n,this.options.fade)),setTimeout(function(){this.wrapper.removeClass(i)}.bind(this),n)}},this._abortAnimation=function(){if(!this.IE8){var t=this.wrapper.attr("class").split(" ").filter((function(t){return 0!==t.lastIndexOf("jBox-animation",0)}));this.wrapper.attr("class",t.join(" "))}},this._adjustPosition=function(){if(!this.options.adjustPosition)return null;this.positionAdjusted&&(this.wrapper.css(this.pos),this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var t=jQuery(window),e={x:t.width(),y:t.height(),top:this.options.fixed&&this.target.data("jBox-fixed")?0:t.scrollTop(),left:this.options.fixed&&this.target.data("jBox-fixed")?0:t.scrollLeft()};e.bottom=e.top+e.y,e.right=e.left+e.x;var i=e.top>this.pos.top-(this.options.adjustDistance.top||0),n=e.right<this.pos.left+this.dimensions.x+(this.options.adjustDistance.right||0),o=e.bottom<this.pos.top+this.dimensions.y+(this.options.adjustDistance.bottom||0),r=e.left>this.pos.left-(this.options.adjustDistance.left||0)?"left":n?"right":null,s=i?"top":o?"bottom":null;if(r||s){"move"==this.options.adjustPosition||r!=this.outside&&s!=this.outside||("mouse"==this.target&&(this.outside="right"),("top"==this.outside||"left"==this.outside?e[this._getXY(this.outside)]-(this.targetDimensions[this._getTL(this.outside)]-e[this._getTL(this.outside)])-this.targetDimensions[this._getXY(this.outside)]+this.options.offset[this._getXY(this.outside)]:this.targetDimensions[this._getTL(this.outside)]-e[this._getTL(this.outside)]-this.options.offset[this._getXY(this.outside)])>this.dimensions[this._getXY(this.outside)]+parseInt(this.options.adjustDistance[this._getOpp(this.outside)])&&(this.wrapper.css(this._getTL(this.outside),this.pos[this._getTL(this.outside)]+(this.dimensions[this._getXY(this.outside)]+this.options.offset[this._getXY(this.outside)]*("top"==this.outside||"left"==this.outside?-2:2)+this.targetDimensions[this._getXY(this.outside)])*("top"==this.outside||"left"==this.outside?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+this.outside,this.pointer.dimensions[this._getXY(this.outside)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this.outside),this.positionAdjusted=!0,this.flipped=!0));var a="x"==this._getXY(this.outside)?s:r;if(this.pointer&&"flip"!=this.options.adjustPosition&&this._getXY(a)==this._getOpp(this._getXY(this.outside))){if("center"==this.pointer.align)var l=this.dimensions[this._getXY(a)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(a!=this._getTL(a)?-1:1);else l=a==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):this.dimensions[this._getXY(a)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(a)];spaceDiff=a==this._getTL(a)?e[this._getTL(a)]-this.pos[this._getTL(a)]+this.options.adjustDistance[a]:-1*(e[this._getOpp(this._getTL(a))]-this.pos[this._getTL(a)]-this.options.adjustDistance[a]-this.dimensions[this._getXY(a)]),a==this._getOpp(this._getTL(a))&&this.pos[this._getTL(a)]-spaceDiff<e[this._getTL(a)]+this.options.adjustDistance[this._getTL(a)]&&(spaceDiff-=e[this._getTL(a)]+this.options.adjustDistance[this._getTL(a)]-(this.pos[this._getTL(a)]-spaceDiff)),spaceDiff=Math.min(spaceDiff,l),l>=spaceDiff&&spaceDiff>0&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-spaceDiff*(a!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(a),this.pos[this._getTL(a)]+spaceDiff*(a!=this._getTL(a)?-1:1)),this.positionAdjusted=!0)}}},this.options.onInit.bind(this)(),this.options._onInit&&this.options._onInit.bind(this)(),this}function DdrPopUp(t,e){var i,n=$.extend({title:!1,width:!1,html:"",buttons:!1,buttonsAlign:"right",disabledButtons:!1,closePos:"right",closeByButton:!1,close:!1,winClass:!1,contentToCenter:!1,topClose:!0,lang:"ru"},t),o="",r="",s="",a="",l="ddrpopup"+generateCode("LlnlL"),c="#"+l,d={ru:{closeWin:"Закрыть окно",noData:"Нет данных",systemError:"Системная ошибка!"},en:{closeWin:"Close window",noData:"No data",systemError:"System error!"}},u=$("body").find(".ddrpopup.ddrpopup_opening");if($(u).length&&$(u).remove(),"left"==n.closePos&&n.close&&(o+='<button class="ddrpopup__buttons_close" ddrpopupclose>'+n.close+"</button>"),n.buttons&&$.each(n.buttons,(function(t,e){o+="<button"+(e.disabled||n.disabledButtons?" disabled":"")+(e.close?" ddrpopupclose":"")+'  id="'+e.id+'"'+(e.metrikaId?' onclick="yaCounter'+e.metrikaId+".reachGoal('"+e.metrikaTargetId+"'); return true;\"":"")+' class="ddrpopup__buttons_'+(e.type?e.type:"main")+(e.class?" "+e.class:"")+'">'+e.title+"</button>"})),"right"==n.closePos&&n.close&&(o+='<button class="ddrpopup__buttons_close" ddrpopupclose>'+n.close+"</button>"),n.title){var h=n.title.split("|"),p=h[0],f=h[1]||"1";s='<h5 ddrpopuptitle class="ddrpopup__title'+(1==h[2]?" ddrpopup__title_overflow":"")+" ddrpopup__title_"+f+'">'+p+"</h5>"}function g(t){0!=t?(m(),$(c).scroll((function(){m()})),$(window).resize((function(){m()})),$(c).find("[ddrpopupwait]").text(t||""),$(c).find(".ddrpopup__wait").addClass("ddrpopup__wait_visible")):0==t&&($(c).find(".ddrpopup__wait.ddrpopup__wait_visible").removeClass("ddrpopup__wait_visible"),$(c).off("scroll"))}function m(){var t=$(c).scrollTop(),e=$(window).height(),i=$("[ddrpopupwin]").height(),n=0;i>e&&(n=t-(i/2-e/2),$("[ddrpopupwaitblock]").css("top",+n+"px"))}function v(){clearTimeout(i),$(document).trigger("ddrpopup:close"),$(c).addClass("ddrpopup_closing"),$(c).find(".ddrpopup__win").addClass("ddrpopup__win_closing"),i=setTimeout((function(){$(c).remove(),enableScroll()}),200)}function y(){return $(c).scrollTop()}n.topClose&&(r='<div ddrpopupclose class="ddrpopup__close" title="'+d[n.lang].closeWin+'"></div>'),a+="",a+='<div class="ddrpopup" id="'+l+'">',a+='<div class="ddrpopup__wrap">',a+='<div class="ddrpopup__container">',a+='<div class="ddrpopup__win'+(n.winClass?" "+n.winClass:"")+' noselect" ddrpopupwin>',a+='<div class="ddrpopup__wait">',a+='<div class="ddrpopupwait" ddrpopupwaitblock>',a+='<i class="fa fa-spinner fa-pulse fa-fw"></i>',a+="<p ddrpopupwait></p>",a+="</div>",a+="</div>",(s||r)&&(a+='<div class="ddrpopup__header">',a+=s,a+=r,a+="</div>"),n.contentToCenter?a+='<div class="ddrpopup__content d-flex align-items-center justify-content-center"><div ddrpopupcontent>'+n.html+"</div></div>":a+='<div class="ddrpopup__content" ddrpopupcontent>'+n.html+"</div>",a+='<div class="ddrpopup__footer">',a+='<div class="ddrpopup__buttons'+(n.buttonsAlign?" ddrpopup__buttons_"+n.buttonsAlign:"")+'" ddrpopupbuttons>'+o+"</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",$("body").append(a),n.width&&$(c).find("[ddrpopupwin]").width(n.width),$(c).ready((function(){disableScroll(),$(c).addClass("ddrpopup_opening"),$(c).find(".ddrpopup__win").addClass("ddrpopup__win_opening")})),$(c).on(tapEvent,(function(t){if(tapEventInfo(t,{attribute:"ddrpopupclose"}))v();else if(0==n.closeByButton){tapEventInfo(t,{class:"ddrpopup__wrap"})&&("desktop"==thisDevice&&0==$(".ddrpopup__win").find("input:focus").length&&0==$(".ddrpopup__win").find("textarea:focus").length&&0==$(".ddrpopup__win").find("select:focus").length&&0==$(".ddrpopup__win").find("[contenteditable]:focus").length&&0==$(".ddrpopup__win").find('input[type="checkbox"]:hover').length||"mobile"==thisDevice)&&v()}}));var b={wait:function(t){g(t)},close:function(){v()},getSelector:function(){return c},setData:function(){let t=arguments,e="string"==typeof t[0]&&("/"!=t[0].substr(0,1)&&"http://"!=t[0].substr(0,7)?"/"+t[0]:t[0]);if(!e)throw new Error("ddrPopUp setData -> Ошибка! не передан URL");let i="string"==typeof t[0]&&!1===t[1]&&t[0],o="object"==typeof t[1]&&t[1],r=o||"function"!=typeof t[1]?void 0!==t[2]&&"function"==typeof t[2]&&t[2]:t[1],s="function"!=typeof t[1]&&"object"!=typeof t[1]&&/\d+(px|vh|\%)?/.test(t[1])?t[1]:"function"!=typeof t[2]&&"object"!=typeof t[2]&&/\d+(px|vh|\%)?/.test(t[2])?t[2]:!("function"==typeof t[3]||"object"==typeof t[3]||!/\d+(px|vh|\%)?/.test(t[3]))&&t[3];i?(s&&$(c).find("[ddrpopupwin]").width(s),$(c).find("[ddrpopupcontent]").html(i),n.disabledButtons&&$(c).find(".ddrpopup__buttons_main").removeAttrib("disabled"),$("[ddrpopupcontent]").ready((function(){r&&"function"==typeof r&&r(b),$(document).trigger("popup:load")}))):e&&(g(),$.post(e,o,(function(t){t=t.trim(),s&&$(c).find("[ddrpopupwin]").width(s),$(c).find("[ddrpopupcontent]").html(t),g(!1),setBaseScripts(c),$("[ddrpopupcontent]").ready((function(){var e=!!t;e&&r&&"function"==typeof r?r(t,e):r&&"function"==typeof r&&r('<p class="empty center">'+d[n.lang].noData+"</p>",e),$(document).trigger("popup:load")}))}),"html").fail((function(t){notify(d[n.lang].systemError,"error"),showError(t)})))},setTitle:function(t){var e=t.split("|"),i=(t=e[0],e[1]||"1"),n=1==e[2]?" ddrpopup__title_overflow":"";$(c).find("[ddrpopuptitle]").replaceWith('<h5 ddrpopuptitle class="ddrpopup__title'+n+" ddrpopup__title_"+i+'">'+t+"</h5>")},onScroll:function(t){$(c).scroll((function(){t&&"function"==typeof t&&t(),$(document).trigger("popup:scroll")}))},deleteTitle:function(){$(c).find("[ddrpopuptitle]").empty()},setButtons:function(t,e){var i="";"left"==n.closePos&&e&&(i+='<button class="ddrpopup__buttons_close" ddrpopupclose>'+e+"</button>"),t&&$.each(t,(function(t,e){i+="<button"+(e.disabled?" disabled":"")+(e.close?" ddrpopupclose":"")+'  id="'+e.id+'"'+(e.metrikaId?' onclick="yaCounter'+e.metrikaId+".reachGoal('"+e.metrikaTargetId+"'); return true;\"":"")+' class="ddrpopup__buttons_'+(e.type?e.type:"main")+(e.class?" "+e.class+'"':'"')+">"+e.title+"</button>"})),"right"==n.closePos&&e&&(i+='<button class="ddrpopup__buttons_close" ddrpopupclose>'+e+"</button>"),0==$(c).find("[ddrpopupbuttons]").length?$(c).find("[ddrpopupcontent]").after("<div ddrpopupbuttons>"+i+"</div>"):$(c).find("[ddrpopupbuttons]").html(i)},removeButtons:function(){$(c).find("[ddrpopupbuttons]").empty()},disabledButtons:function(){$(c).find(".ddrpopup__buttons_main").setAttrib("disabled")},enabledButtons:function(){$(c).find("[ddrpopupbuttons]").children("[disabled]").removeAttrib("disabled")},setWidth:function(t){$(c).find("[ddrpopupwin]").addClass("ddrpopup__win_animated"),$(c).find("[ddrpopupwin]").width(t),setTimeout((function(){$(c).find("[ddrpopupwin].ddrpopup__win_animated").removeClass("ddrpopup__win_animated")}),200)},dialog:function(t,e,i,n){if(0==t)$(c).find("[ddrpopupdialog]").remove();else{var o=generateCode("LlnlL"),r='<div class="ddrpopup__dialog" ddrpopupdialog>';r+='<div class="popupdialog">',r+='<div class="popupdialog__message">'+t+"</div>",r+='<div class="popupdialog__buttons">',r+='<button class="cancel" id="popupDialogN'+o+'">'+i+"</button>",r+='<button id="popupDialogY'+o+'">'+e+"</button>",r+="</div>",r+="</div>",r+="</div>",$(c).find("[ddrpopupwin]").prepend(r);var s=$(window).height(),a=$(c).find(".ddrpopup__win").outerHeight(),l=y(),d=$(c).find(".popupdialog").outerHeight();a>s?$(c).find(".popupdialog").css("top","calc(50vh - "+d/2+"px + "+l+"px)"):$(c).find("[ddrpopupdialog]").css("align-items","center"),$(c).scroll((function(){l=y(),$(c).find(".popupdialog").css("top","calc(50vh - "+d/2+"px + "+l+"px)")})),$(c).find("[ddrpopupdialog]").addClass("ddrpopup__dialog_visible"),$("#popupDialogN"+o).on(tapEvent,(function(){$(c).find("[ddrpopupdialog]").remove()})),$("#popupDialogY"+o).on(tapEvent,(function(){"function"==typeof n&&n()}))}},onClose(t){$(document).on("ddrpopup:close",(()=>{t&&"function"==typeof t&&t()}))}};if($(document).trigger("ddrpopup:open"),!e||"function"!=typeof e)return b;e(b)}function ddrScrEnd(t,e,i){var n,o,r,s;function a(){clearTimeout(n),n=setTimeout((function(){o=1==t?$(window).height():$(t).height(),r=1==t?$(document).height():$(t).children().height(),s=1==t?$(document).scrollTop():$(t).scrollTop(),o+s>=r-100&&null!=e&&"function"==typeof e&&e()}),i||200)}"ontouchstart"in window?1==t?$(window).scroll((function(){a()})):$(t).scroll((function(){a()})):1==t?($(window).mousewheel((function(t){-1==t.deltaY&&a()})),$(window).on("keyup",(function(t){-1!=[40,34].indexOf(t.keyCode)&&a()}))):($(t).mousewheel((function(t){-1==t.deltaY&&a()})),$(t).on("keyup",(function(t){-1!=[40,34].indexOf(t.keyCode)&&a()})))}!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){"use strict";var i=[],n=t.document,o=Object.getPrototypeOf,r=i.slice,s=i.concat,a=i.push,l=i.indexOf,c={},d=c.toString,u=c.hasOwnProperty,h=u.toString,p=h.call(Object),f={};function g(t,e){var i=(e=e||n).createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}var m="3.2.1",v=function(t,e){return new v.fn.init(t,e)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^-ms-/,w=/-([a-z])/g,x=function(t,e){return e.toUpperCase()};function k(t){var e=!!t&&"length"in t&&t.length,i=v.type(t);return"function"!==i&&!v.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}v.fn=v.prototype={jquery:m,constructor:v,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=v.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return v.each(this,t)},map:function(t){return this.pushStack(v.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},v.extend=v.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],s!==(n=t[e])&&(c&&n&&(v.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,r=i&&Array.isArray(i)?i:[]):r=i&&v.isPlainObject(i)?i:{},s[e]=v.extend(c,r,n)):void 0!==n&&(s[e]=n));return s},v.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===v.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=v.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==d.call(t)||(e=o(t))&&(i=u.call(e,"constructor")&&e.constructor,"function"!=typeof i||h.call(i)!==p))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[d.call(t)]||"object":typeof t},globalEval:function(t){g(t)},camelCase:function(t){return t.replace(b,"ms-").replace(w,x)},each:function(t,e){var i,n=0;if(k(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(y,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(k(Object(t))?v.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:l.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,r=t.length,s=!i;o<r;o++)!e(t[o],o)!==s&&n.push(t[o]);return n},map:function(t,e,i){var n,o,r=0,a=[];if(k(t))for(n=t.length;r<n;r++)null!=(o=e(t[r],r,i))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,i))&&a.push(o);return s.apply([],a)},guid:1,proxy:function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),v.isFunction(t))return n=r.call(arguments,2),o=function(){return t.apply(e||this,n.concat(r.call(arguments)))},o.guid=t.guid=t.guid||v.guid++,o},now:Date.now,support:f}),"function"==typeof Symbol&&(v.fn[Symbol.iterator]=i[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){c["[object "+e+"]"]=e.toLowerCase()}));var C=function(t){var e,i,n,o,r,s,a,l,c,d,u,h,p,f,g,m,v,y,b,w="sizzle"+1*new Date,x=t.document,k=0,C=0,S=st(),T=st(),_=st(),A=function(t,e){return t===e&&(u=!0),0},D={}.hasOwnProperty,E=[],M=E.pop,I=E.push,$=E.push,L=E.slice,O=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+P+"*("+j+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+P+"*\\]",F=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",B=new RegExp(P+"+","g"),R=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),z=new RegExp("^"+P+"*,"+P+"*"),W=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),Y=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),U=new RegExp(F),q=new RegExp("^"+j+"$"),X={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){h()},ot=yt((function(t){return!0===t.disabled&&("form"in t||"label"in t)}),{dir:"parentNode",next:"legend"});try{$.apply(E=L.call(x.childNodes),x.childNodes),E[x.childNodes.length].nodeType}catch(t){$={apply:E.length?function(t,e){I.apply(t,L.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function rt(t,e,n,o){var r,a,c,d,u,f,v,y=e&&e.ownerDocument,k=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==k&&9!==k&&11!==k)return n;if(!o&&((e?e.ownerDocument||e:x)!==p&&h(e),e=e||p,g)){if(11!==k&&(u=G.exec(t)))if(r=u[1]){if(9===k){if(!(c=e.getElementById(r)))return n;if(c.id===r)return n.push(c),n}else if(y&&(c=y.getElementById(r))&&b(e,c)&&c.id===r)return n.push(c),n}else{if(u[2])return $.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return $.apply(n,e.getElementsByClassName(r)),n}if(i.qsa&&!_[t+" "]&&(!m||!m.test(t))){if(1!==k)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((d=e.getAttribute("id"))?d=d.replace(et,it):e.setAttribute("id",d=w),a=(f=s(t)).length;a--;)f[a]="#"+d+" "+vt(f[a]);v=f.join(","),y=Z.test(t)&&gt(e.parentNode)||e}if(v)try{return $.apply(n,y.querySelectorAll(v)),n}catch(t){}finally{d===w&&e.removeAttribute("id")}}}return l(t.replace(R,"$1"),e,n,o)}function st(){var t=[];return function e(i,o){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=o}}function at(t){return t[w]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),o=i.length;o--;)n.attrHandle[i[o]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ut(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return at((function(e){return e=+e,at((function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))}))}))}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=rt.support={},r=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=rt.setDocument=function(t){var e,o,s=t?t.ownerDocument||t:x;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,g=!r(p),x!==p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",nt,!1):o.attachEvent&&o.attachEvent("onunload",nt)),i.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=lt((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=K.test(p.getElementsByClassName),i.getById=lt((function(t){return f.appendChild(t).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,n,o,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(o=e.getElementsByName(t),n=0;r=o[n++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=K.test(p.querySelectorAll))&&(lt((function(t){f.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+P+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+P+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+P+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(i.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&lt((function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",F)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(f.compareDocumentPosition),b=e||K.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===x&&b(x,t)?-1:e===p||e.ownerDocument===x&&b(x,e)?1:d?O(d,t)-O(d,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!o||!r)return t===p?-1:e===p?1:o?-1:r?1:d?O(d,t)-O(d,e):0;if(o===r)return dt(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?dt(s[n],a[n]):s[n]===x?-1:a[n]===x?1:0},p):p},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&h(t),e=e.replace(Y,"='$1']"),i.matchesSelector&&g&&!_[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return rt(e,p,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==p&&h(t),b(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==p&&h(t);var o=n.attrHandle[e.toLowerCase()],r=o&&D.call(n.attrHandle,e.toLowerCase())?o(t,e,!g):void 0;return void 0!==r?r:i.attributes||!g?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},rt.escape=function(t){return(t+"").replace(et,it)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,n=[],o=0,r=0;if(u=!i.detectDuplicates,d=!i.sortStable&&t.slice(0),t.sort(A),u){for(;e=t[r++];)e===t[r]&&(o=n.push(r));for(;o--;)t.splice(n[o],1)}return d=null,t},o=rt.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=o(e);return i},n=rt.selectors={cacheLength:50,createPseudo:at,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&U.test(i)&&(e=s(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+P+")"+t+"("+P+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var o=rt.attr(n,t);return null==o?"!="===e:!e||(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o.replace(B," ")+" ").indexOf(i)>-1:"|="===e&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,d,u,h,p,f,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(r){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(b=(p=(c=(d=(u=(h=m)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]||[])[0]===k&&c[1])&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){d[t]=[k,p,b];break}}else if(y&&(b=p=(c=(d=(u=(h=e)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]||[])[0]===k&&c[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((d=(u=h[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]=[k,b]),h!==e)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,e){var i,o=n.pseudos[t]||n.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return o[w]?o(e):o.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?at((function(t,i){for(var n,r=o(t,e),s=r.length;s--;)t[n=O(t,r[s])]=!(i[n]=r[s])})):function(t){return o(t,0,i)}):o}},pseudos:{not:at((function(t){var e=[],i=[],n=a(t.replace(R,"$1"));return n[w]?at((function(t,e,i,o){for(var r,s=n(t,null,o,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))})):function(t,o,r){return e[0]=t,n(e,null,r,i),e[0]=null,!i.pop()}})),has:at((function(t){return function(e){return rt(t,e).length>0}})),contains:at((function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||o(e)).indexOf(t)>-1}})),lang:at((function(t){return q.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return V.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft((function(){return[0]})),last:ft((function(t,e){return[e-1]})),eq:ft((function(t,e,i){return[i<0?i+e:i]})),even:ft((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:ft((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:ft((function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t})),gt:ft((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ut(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ht(e);function mt(){}function vt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function yt(t,e,i){var n=e.dir,o=e.next,r=o||n,s=i&&"parentNode"===r,a=C++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,o);return!1}:function(e,i,l){var c,d,u,h=[k,a];if(l){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(d=(u=e[w]||(e[w]={}))[e.uniqueID]||(u[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=d[r])&&c[0]===k&&c[1]===a)return h[2]=c[2];if(d[r]=h,h[2]=t(e,i,l))return!0}return!1}}function bt(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function wt(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,o)||(s.push(r),c&&e.push(a)));return s}function xt(t,e,i,n,o,r){return n&&!n[w]&&(n=xt(n)),o&&!o[w]&&(o=xt(o,r)),at((function(r,s,a,l){var c,d,u,h=[],p=[],f=s.length,g=r||function(t,e,i){for(var n=0,o=e.length;n<o;n++)rt(t,e[n],i);return i}(e||"*",a.nodeType?[a]:a,[]),m=!t||!r&&e?g:wt(g,h,t,a,l),v=i?o||(r?t:f||n)?[]:s:m;if(i&&i(m,v,a,l),n)for(c=wt(v,p),n(c,[],a,l),d=c.length;d--;)(u=c[d])&&(v[p[d]]=!(m[p[d]]=u));if(r){if(o||t){if(o){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(m[d]=u);o(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=o?O(r,u):h[d])>-1&&(r[c]=!(s[c]=u))}}else v=wt(v===s?v.splice(f,v.length):v),o?o(null,s,v,l):$.apply(s,v)}))}function kt(t){for(var e,i,o,r=t.length,s=n.relative[t[0].type],a=s||n.relative[" "],l=s?1:0,d=yt((function(t){return t===e}),a,!0),u=yt((function(t){return O(e,t)>-1}),a,!0),h=[function(t,i,n){var o=!s&&(n||i!==c)||((e=i).nodeType?d(t,i,n):u(t,i,n));return e=null,o}];l<r;l++)if(i=n.relative[t[l].type])h=[yt(bt(h),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[w]){for(o=++l;o<r&&!n.relative[t[o].type];o++);return xt(l>1&&bt(h),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(R,"$1"),i,l<o&&kt(t.slice(l,o)),o<r&&kt(t=t.slice(o)),o<r&&vt(t))}h.push(i)}return bt(h)}function Ct(t,e){var i=e.length>0,o=t.length>0,r=function(r,s,a,l,d){var u,f,m,v=0,y="0",b=r&&[],w=[],x=c,C=r||o&&n.find.TAG("*",d),S=k+=null==x?1:Math.random()||.1,T=C.length;for(d&&(c=s===p||s||d);y!==T&&null!=(u=C[y]);y++){if(o&&u){for(f=0,s||u.ownerDocument===p||(h(u),a=!g);m=t[f++];)if(m(u,s||p,a)){l.push(u);break}d&&(k=S)}i&&((u=!m&&u)&&v--,r&&b.push(u))}if(v+=y,i&&y!==v){for(f=0;m=e[f++];)m(b,w,s,a);if(r){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=M.call(l));w=wt(w)}$.apply(l,w),d&&!r&&w.length>0&&v+e.length>1&&rt.uniqueSort(l)}return d&&(k=S,c=x),b};return i?at(r):r}return mt.prototype=n.filters=n.pseudos,n.setFilters=new mt,s=rt.tokenize=function(t,e){var i,o,r,s,a,l,c,d=T[t+" "];if(d)return e?0:d.slice(0);for(a=t,l=[],c=n.preFilter;a;){for(s in i&&!(o=z.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=W.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(R," ")}),a=a.slice(i.length)),n.filter)!(o=X[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return e?a.length:a?rt.error(t):T(t,l).slice(0)},a=rt.compile=function(t,e){var i,n=[],o=[],r=_[t+" "];if(!r){for(e||(e=s(t)),i=e.length;i--;)(r=kt(e[i]))[w]?n.push(r):o.push(r);(r=_(t,Ct(o,n))).selector=t}return r},l=rt.select=function(t,e,i,o){var r,l,c,d,u,h="function"==typeof t&&t,p=!o&&s(t=h.selector||t);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(J,tt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(r=X.needsContext.test(t)?0:l.length;r--&&(c=l[r],!n.relative[d=c.type]);)if((u=n.find[d])&&(o=u(c.matches[0].replace(J,tt),Z.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(r,1),!(t=o.length&&vt(l)))return $.apply(i,o),i;break}}return(h||a(t,p))(o,e,!g,i,!e||Z.test(t)&&gt(e.parentNode)||e),i},i.sortStable=w.split("").sort(A).join("")===w,i.detectDuplicates=!!u,h(),i.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ct("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ct("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||ct(N,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),rt}(t);v.find=C,v.expr=C.selectors,v.expr[":"]=v.expr.pseudos,v.uniqueSort=v.unique=C.uniqueSort,v.text=C.getText,v.isXMLDoc=C.isXML,v.contains=C.contains,v.escapeSelector=C.escape;var S=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&v(t).is(i))break;n.push(t)}return n},T=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},_=v.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,E=/^.[^:#\[\.,]*$/;function M(t,e,i){return v.isFunction(e)?v.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?v.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?v.grep(t,(function(t){return l.call(e,t)>-1!==i})):E.test(e)?v.filter(e,t,i):(e=v.filter(e,t),v.grep(t,(function(t){return l.call(e,t)>-1!==i&&1===t.nodeType})))}v.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?v.find.matchesSelector(n,t)?[n]:[]:v.find.matches(t,v.grep(e,(function(t){return 1===t.nodeType})))},v.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!=typeof t)return this.pushStack(v(t).filter((function(){for(e=0;e<n;e++)if(v.contains(o[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)v.find(t,o[e],i);return n>1?v.uniqueSort(i):i},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&_.test(t)?v(t):t||[],!1).length}});var I,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,L=v.fn.init=function(t,e,i){var o,r;if(!t)return this;if(i=i||I,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:$.exec(t))||!o[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(o[1]){if(e=e instanceof v?e[0]:e,v.merge(this,v.parseHTML(o[1],e&&e.nodeType?e.ownerDocument||e:n,!0)),D.test(o[1])&&v.isPlainObject(e))for(o in e)v.isFunction(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}return(r=n.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v.isFunction(t)?void 0!==i.ready?i.ready(t):t(v):v.makeArray(t,this)};L.prototype=v.fn,I=v(n);var O=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}v.fn.extend({has:function(t){var e=v(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(v.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,o=this.length,r=[],s="string"!=typeof t&&v(t);if(!_.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&v.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?v.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?l.call(v(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),v.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,i){return S(t,"parentNode",i)},next:function(t){return P(t,"nextSibling")},prev:function(t){return P(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,i){return S(t,"nextSibling",i)},prevUntil:function(t,e,i){return S(t,"previousSibling",i)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return A(t,"iframe")?t.contentDocument:(A(t,"template")&&(t=t.content||t),v.merge([],t.childNodes))}},(function(t,e){v.fn[t]=function(i,n){var o=v.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=v.filter(n,o)),this.length>1&&(N[t]||v.uniqueSort(o),O.test(t)&&o.reverse()),this.pushStack(o)}}));var j=/[^\x20\t\r\n\f]+/g;function H(t){return t}function F(t){throw t}function B(t,e,i,n){var o;try{t&&v.isFunction(o=t.promise)?o.call(t).done(e).fail(i):t&&v.isFunction(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}v.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return v.each(t.match(j)||[],(function(t,i){e[i]=!0})),e}(t):v.extend({},t);var e,i,n,o,r=[],s=[],a=-1,l=function(){for(o=o||t.once,n=e=!0;s.length;a=-1)for(i=s.shift();++a<r.length;)!1===r[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=r.length,i=!1);t.memory||(i=!1),e=!1,o&&(r=i?[]:"")},c={add:function(){return r&&(i&&!e&&(a=r.length-1,s.push(i)),function e(i){v.each(i,(function(i,n){v.isFunction(n)?t.unique&&c.has(n)||r.push(n):n&&n.length&&"string"!==v.type(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return v.each(arguments,(function(t,e){for(var i;(i=v.inArray(e,r,i))>-1;)r.splice(i,1),i<=a&&a--})),this},has:function(t){return t?v.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=i="",this},disabled:function(){return!r},lock:function(){return o=s=[],i||e||(r=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=[t,(i=i||[]).slice?i.slice():i],s.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},v.extend({Deferred:function(e){var i=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return v.Deferred((function(e){v.each(i,(function(i,n){var o=v.isFunction(t[n[4]])&&t[n[4]];r[n[1]]((function(){var t=o&&o.apply(this,arguments);t&&v.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(e,n,o){var r=0;function s(e,i,n,o){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<r)){if((t=n.apply(a,l))===i.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,v.isFunction(c)?o?c.call(t,s(r,i,H,o),s(r,i,F,o)):(r++,c.call(t,s(r,i,H,o),s(r,i,F,o),s(r,i,H,i.notifyWith))):(n!==H&&(a=void 0,l=[t]),(o||i.resolveWith)(a,l))}},d=o?c:function(){try{c()}catch(t){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(t,d.stackTrace),e+1>=r&&(n!==F&&(a=void 0,l=[t]),i.rejectWith(a,l))}};e?d():(v.Deferred.getStackHook&&(d.stackTrace=v.Deferred.getStackHook()),t.setTimeout(d))}}return v.Deferred((function(t){i[0][3].add(s(0,t,v.isFunction(o)?o:H,t.notifyWith)),i[1][3].add(s(0,t,v.isFunction(e)?e:H)),i[2][3].add(s(0,t,v.isFunction(n)?n:F))})).promise()},promise:function(t){return null!=t?v.extend(t,o):o}},r={};return v.each(i,(function(t,e){var s=e[2],a=e[5];o[e[1]]=s.add,a&&s.add((function(){n=a}),i[3-t][2].disable,i[0][2].lock),s.add(e[3].fire),r[e[0]]=function(){return r[e[0]+"With"](this===r?void 0:this,arguments),this},r[e[0]+"With"]=s.fireWith})),o.promise(r),e&&e.call(r,r),r},when:function(t){var e=arguments.length,i=e,n=Array(i),o=r.call(arguments),s=v.Deferred(),a=function(t){return function(i){n[t]=this,o[t]=arguments.length>1?r.call(arguments):i,--e||s.resolveWith(n,o)}};if(e<=1&&(B(t,s.done(a(i)).resolve,s.reject,!e),"pending"===s.state()||v.isFunction(o[i]&&o[i].then)))return s.then();for(;i--;)B(o[i],a(i),s.reject);return s.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&R.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},v.readyException=function(e){t.setTimeout((function(){throw e}))};var z=v.Deferred();function W(){n.removeEventListener("DOMContentLoaded",W),t.removeEventListener("load",W),v.ready()}v.fn.ready=function(t){return z.then(t).catch((function(t){v.readyException(t)})),this},v.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==t&&--v.readyWait>0||z.resolveWith(n,[v]))}}),v.ready.then=z.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(v.ready):(n.addEventListener("DOMContentLoaded",W),t.addEventListener("load",W));var Y=function(t,e,i,n,o,r,s){var a=0,l=t.length,c=null==i;if("object"===v.type(i))for(a in o=!0,i)Y(t,e,a,i[a],!0,r,s);else if(void 0!==n&&(o=!0,v.isFunction(n)||(s=!0),c&&(s?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(v(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:c?e.call(t):l?e(t[0],i):r},U=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function q(){this.expando=v.expando+q.uid++}q.uid=1,q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},U(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[v.camelCase(e)]=i;else for(n in e)o[v.camelCase(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][v.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){Array.isArray(e)?e=e.map(v.camelCase):e=(e=v.camelCase(e))in n?[e]:e.match(j)||[],i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||v.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!v.isEmptyObject(e)}};var X=new q,Q=new q,V=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function G(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(K,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:V.test(t)?JSON.parse(t):t)}(i)}catch(t){}Q.set(t,e,i)}else i=void 0;return i}v.extend({hasData:function(t){return Q.hasData(t)||X.hasData(t)},data:function(t,e,i){return Q.access(t,e,i)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,i){return X.access(t,e,i)},_removeData:function(t,e){X.remove(t,e)}}),v.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=Q.get(r),1===r.nodeType&&!X.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(0===(n=s[i].name).indexOf("data-")&&(n=v.camelCase(n.slice(5)),G(r,n,o[n])));X.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){Q.set(this,t)})):Y(this,(function(e){var i;if(r&&void 0===e){if(void 0!==(i=Q.get(r,t)))return i;if(void 0!==(i=G(r,t)))return i}else this.each((function(){Q.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Q.remove(this,t)}))}}),v.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=X.get(t,e),i&&(!n||Array.isArray(i)?n=X.access(t,e,v.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=v.queue(t,e),n=i.length,o=i.shift(),r=v._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,(function(){v.dequeue(t,e)}),r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return X.get(t,i)||X.access(t,i,{empty:v.Callbacks("once memory").add((function(){X.remove(t,[e+"queue",i])}))})}}),v.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?v.queue(this[0],t):void 0===e?this:this.each((function(){var i=v.queue(this,t,e);v._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&v.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){v.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=v.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=X.get(r[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),tt=["Top","Right","Bottom","Left"],et=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&v.contains(t.ownerDocument,t)&&"none"===v.css(t,"display")},it=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=i.apply(t,n||[]),e)t.style[r]=s[r];return o};function nt(t,e,i,n){var o,r=1,s=20,a=n?function(){return n.cur()}:function(){return v.css(t,e,"")},l=a(),c=i&&i[3]||(v.cssNumber[e]?"":"px"),d=(v.cssNumber[e]||"px"!==c&&+l)&&J.exec(v.css(t,e));if(d&&d[3]!==c){c=c||d[3],i=i||[],d=+l||1;do{d/=r=r||".5",v.style(t,e,d+c)}while(r!==(r=a()/l)&&1!==r&&--s)}return i&&(d=+d||+l||0,o=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=o)),o}var ot={};function rt(t){var e,i=t.ownerDocument,n=t.nodeName,o=ot[n];return o||(e=i.body.appendChild(i.createElement(n)),o=v.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),ot[n]=o,o)}function st(t,e){for(var i,n,o=[],r=0,s=t.length;r<s;r++)(n=t[r]).style&&(i=n.style.display,e?("none"===i&&(o[r]=X.get(n,"display")||null,o[r]||(n.style.display="")),""===n.style.display&&et(n)&&(o[r]=rt(n))):"none"!==i&&(o[r]="none",X.set(n,"display",i)));for(r=0;r<s;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}v.fn.extend({show:function(){return st(this,!0)},hide:function(){return st(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){et(this)?v(this).show():v(this).hide()}))}});var at=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ct=/^$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ut(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?v.merge([t],i):i}function ht(t,e){for(var i=0,n=t.length;i<n;i++)X.set(t[i],"globalEval",!e||X.get(e[i],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var pt=/<|&#?\w+;/;function ft(t,e,i,n,o){for(var r,s,a,l,c,d,u=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===v.type(r))v.merge(h,r.nodeType?[r]:r);else if(pt.test(r)){for(s=s||u.appendChild(e.createElement("div")),a=(lt.exec(r)||["",""])[1].toLowerCase(),l=dt[a]||dt._default,s.innerHTML=l[1]+v.htmlPrefilter(r)+l[2],d=l[0];d--;)s=s.lastChild;v.merge(h,s.childNodes),(s=u.firstChild).textContent=""}else h.push(e.createTextNode(r));for(u.textContent="",p=0;r=h[p++];)if(n&&v.inArray(r,n)>-1)o&&o.push(r);else if(c=v.contains(r.ownerDocument,r),s=ut(u.appendChild(r),"script"),c&&ht(s),i)for(d=0;r=s[d++];)ct.test(r.type||"")&&i.push(r);return u}!function(){var t=n.createDocumentFragment().appendChild(n.createElement("div")),e=n.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),f.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var gt=n.documentElement,mt=/^key/,vt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yt=/^([^.]*)(?:\.(.+)|)/;function bt(){return!0}function wt(){return!1}function xt(){try{return n.activeElement}catch(t){}}function kt(t,e,i,n,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)kt(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=wt;else if(!o)return t;return 1===r&&(s=o,o=function(t){return v().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=v.guid++)),t.each((function(){v.event.add(this,e,o,n,i)}))}v.event={global:{},add:function(t,e,i,n,o){var r,s,a,l,c,d,u,h,p,f,g,m=X.get(t);if(m)for(i.handler&&(i=(r=i).handler,o=r.selector),o&&v.find.matchesSelector(gt,o),i.guid||(i.guid=v.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==v&&v.event.triggered!==e.type?v.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(j)||[""]).length;c--;)p=g=(a=yt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(u=v.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=v.event.special[p]||{},d=v.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&v.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,s)||t.addEventListener&&t.addEventListener(p,s)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),v.event.global[p]=!0)},remove:function(t,e,i,n,o){var r,s,a,l,c,d,u,h,p,f,g,m=X.hasData(t)&&X.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(j)||[""]).length;c--;)if(p=g=(a=yt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(u=v.event.special[p]||{},h=l[p=(n?u.delegateType:u.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)d=h[r],!o&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(h.splice(r,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(t,d));s&&!h.length&&(u.teardown&&!1!==u.teardown.call(t,f,m.handle)||v.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)v.event.remove(t,p+e[c],i,n,!0);v.isEmptyObject(l)&&X.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,r,s,a=v.event.fix(t),l=new Array(arguments.length),c=(X.get(this,"events")||{})[a.type]||[],d=v.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,a)){for(s=v.event.handlers.call(this,a,c),e=0;(o=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(n=((v.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,o,r,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],s={},i=0;i<l;i++)void 0===s[o=(n=e[i]).selector+" "]&&(s[o]=n.needsContext?v(o,this).index(c)>-1:v.find(o,this,null,[c]).length),s[o]&&r.push(n);r.length&&a.push({elem:c,handlers:r})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(v.Event.prototype,t,{enumerable:!0,configurable:!0,get:v.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[v.expando]?t:new v.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},v.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},v.Event=function(t,e){return this instanceof v.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?bt:wt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&v.extend(this,e),this.timeStamp=t&&t.timeStamp||v.now(),void(this[v.expando]=!0)):new v.Event(t,e)},v.Event.prototype={constructor:v.Event,isDefaultPrevented:wt,isPropagationStopped:wt,isImmediatePropagationStopped:wt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=bt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=bt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=bt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&mt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&vt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},v.event.addProp),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){v.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,o=t.handleObj;return n&&(n===this||v.contains(this,n))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}})),v.fn.extend({on:function(t,e,i,n){return kt(this,t,e,i,n)},one:function(t,e,i,n){return kt(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,v(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=wt),this.each((function(){v.event.remove(this,t,i,e)}))}});var Ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,St=/<script|<style|<link/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,_t=/^true\/(.*)/,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&v(">tbody",t)[0]||t}function Et(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){var e=_t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function It(t,e){var i,n,o,r,s,a,l,c;if(1===e.nodeType){if(X.hasData(t)&&(r=X.access(t),s=X.set(e,r),c=r.events))for(o in delete s.handle,s.events={},c)for(i=0,n=c[o].length;i<n;i++)v.event.add(e,o,c[o][i]);Q.hasData(t)&&(a=Q.access(t),l=v.extend({},a),Q.set(e,l))}}function $t(t,e){var i=e.nodeName.toLowerCase();"input"===i&&at.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Lt(t,e,i,n){e=s.apply([],e);var o,r,a,l,c,d,u=0,h=t.length,p=h-1,m=e[0],y=v.isFunction(m);if(y||h>1&&"string"==typeof m&&!f.checkClone&&Tt.test(m))return t.each((function(o){var r=t.eq(o);y&&(e[0]=m.call(this,o,r.html())),Lt(r,e,i,n)}));if(h&&(r=(o=ft(e,t[0].ownerDocument,!1,t,n)).firstChild,1===o.childNodes.length&&(o=r),r||n)){for(l=(a=v.map(ut(o,"script"),Et)).length;u<h;u++)c=o,u!==p&&(c=v.clone(c,!0,!0),l&&v.merge(a,ut(c,"script"))),i.call(t[u],c,u);if(l)for(d=a[a.length-1].ownerDocument,v.map(a,Mt),u=0;u<l;u++)c=a[u],ct.test(c.type||"")&&!X.access(c,"globalEval")&&v.contains(d,c)&&(c.src?v._evalUrl&&v._evalUrl(c.src):g(c.textContent.replace(At,""),d))}return t}function Ot(t,e,i){for(var n,o=e?v.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||v.cleanData(ut(n)),n.parentNode&&(i&&v.contains(n.ownerDocument,n)&&ht(ut(n,"script")),n.parentNode.removeChild(n));return t}v.extend({htmlPrefilter:function(t){return t.replace(Ct,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a=t.cloneNode(!0),l=v.contains(t.ownerDocument,t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||v.isXMLDoc(t)))for(s=ut(a),n=0,o=(r=ut(t)).length;n<o;n++)$t(r[n],s[n]);if(e)if(i)for(r=r||ut(t),s=s||ut(a),n=0,o=r.length;n<o;n++)It(r[n],s[n]);else It(t,a);return(s=ut(a,"script")).length>0&&ht(s,!l&&ut(t,"script")),a},cleanData:function(t){for(var e,i,n,o=v.event.special,r=0;void 0!==(i=t[r]);r++)if(U(i)){if(e=i[X.expando]){if(e.events)for(n in e.events)o[n]?v.event.remove(i,n):v.removeEvent(i,n,e.handle);i[X.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),v.fn.extend({detach:function(t){return Ot(this,t,!0)},remove:function(t){return Ot(this,t)},text:function(t){return Y(this,(function(t){return void 0===t?v.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Lt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)}))},prepend:function(){return Lt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Lt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Lt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(v.cleanData(ut(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return v.clone(this,t,e)}))},html:function(t){return Y(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!St.test(t)&&!dt[(lt.exec(t)||["",""])[1].toLowerCase()]){t=v.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(v.cleanData(ut(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Lt(this,arguments,(function(e){var i=this.parentNode;v.inArray(this,t)<0&&(v.cleanData(ut(this)),i&&i.replaceChild(e,this))}),t)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){v.fn[t]=function(t){for(var i,n=[],o=v(t),r=o.length-1,s=0;s<=r;s++)i=s===r?this:this.clone(!0),v(o[s])[e](i),a.apply(n,i.get());return this.pushStack(n)}}));var Nt=/^margin/,Pt=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),jt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)};function Ht(t,e,i){var n,o,r,s,a=t.style;return(i=i||jt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||v.contains(t.ownerDocument,t)||(s=v.style(t,e)),!f.pixelMarginRight()&&Pt.test(s)&&Nt.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function Ft(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}!function(){function e(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",gt.appendChild(a);var e=t.getComputedStyle(l);i="1%"!==e.top,s="2px"===e.marginLeft,o="4px"===e.width,l.style.marginRight="50%",r="4px"===e.marginRight,gt.removeChild(a),l=null}}var i,o,r,s,a=n.createElement("div"),l=n.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===l.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(l),v.extend(f,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return e(),o},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),s}}))}();var Bt=/^(none|table(?!-c[ea]).+)/,Rt=/^--/,zt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","Moz","ms"],Ut=n.createElement("div").style;function qt(t){var e=v.cssProps[t];return e||(e=v.cssProps[t]=function(t){if(t in Ut)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Yt.length;i--;)if((t=Yt[i]+e)in Ut)return t}(t)||t),e}function Xt(t,e,i){var n=J.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Qt(t,e,i,n,o){var r,s=0;for(r=i===(n?"border":"content")?4:"width"===e?1:0;r<4;r+=2)"margin"===i&&(s+=v.css(t,i+tt[r],!0,o)),n?("content"===i&&(s-=v.css(t,"padding"+tt[r],!0,o)),"margin"!==i&&(s-=v.css(t,"border"+tt[r]+"Width",!0,o))):(s+=v.css(t,"padding"+tt[r],!0,o),"padding"!==i&&(s+=v.css(t,"border"+tt[r]+"Width",!0,o)));return s}function Vt(t,e,i){var n,o=jt(t),r=Ht(t,e,o),s="border-box"===v.css(t,"boxSizing",!1,o);return Pt.test(r)?r:(n=s&&(f.boxSizingReliable()||r===t.style[e]),"auto"===r&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)]),(r=parseFloat(r)||0)+Qt(t,e,i||(s?"border":"content"),n,o)+"px")}function Kt(t,e,i,n,o){return new Kt.prototype.init(t,e,i,n,o)}v.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ht(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=v.camelCase(e),l=Rt.test(e),c=t.style;return l||(e=qt(a)),s=v.cssHooks[e]||v.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:c[e]:("string"===(r=typeof i)&&(o=J.exec(i))&&o[1]&&(i=nt(t,e,o),r="number"),void(null!=i&&i==i&&("number"===r&&(i+=o&&o[3]||(v.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))))}},css:function(t,e,i,n){var o,r,s,a=v.camelCase(e);return Rt.test(e)||(e=qt(a)),(s=v.cssHooks[e]||v.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=Ht(t,e,n)),"normal"===o&&e in Wt&&(o=Wt[e]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),v.each(["height","width"],(function(t,e){v.cssHooks[e]={get:function(t,i,n){if(i)return!Bt.test(v.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Vt(t,e,n):it(t,zt,(function(){return Vt(t,e,n)}))},set:function(t,i,n){var o,r=n&&jt(t),s=n&&Qt(t,e,n,"border-box"===v.css(t,"boxSizing",!1,r),r);return s&&(o=J.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=v.css(t,e)),Xt(0,i,s)}}})),v.cssHooks.marginLeft=Ft(f.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-it(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),v.each({margin:"",padding:"",border:"Width"},(function(t,e){v.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+tt[n]+e]=r[n]||r[n-2]||r[0];return o}},Nt.test(t)||(v.cssHooks[t+e].set=Xt)})),v.fn.extend({css:function(t,e){return Y(this,(function(t,e,i){var n,o,r={},s=0;if(Array.isArray(e)){for(n=jt(t),o=e.length;s<o;s++)r[e[s]]=v.css(t,e[s],!1,n);return r}return void 0!==i?v.style(t,e,i):v.css(t,e)}),t,e,arguments.length>1)}}),v.Tween=Kt,Kt.prototype={constructor:Kt,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||v.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(v.cssNumber[i]?"":"px")},cur:function(){var t=Kt.propHooks[this.prop];return t&&t.get?t.get(this):Kt.propHooks._default.get(this)},run:function(t){var e,i=Kt.propHooks[this.prop];return this.options.duration?this.pos=e=v.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Kt.propHooks._default.set(this),this}},Kt.prototype.init.prototype=Kt.prototype,Kt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=v.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){v.fx.step[t.prop]?v.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[v.cssProps[t.prop]]&&!v.cssHooks[t.prop]?t.elem[t.prop]=t.now:v.style(t.elem,t.prop,t.now+t.unit)}}},Kt.propHooks.scrollTop=Kt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},v.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},v.fx=Kt.prototype.init,v.fx.step={};var Gt,Zt,Jt=/^(?:toggle|show|hide)$/,te=/queueHooks$/;function ee(){Zt&&(!1===n.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ee):t.setTimeout(ee,v.fx.interval),v.fx.tick())}function ie(){return t.setTimeout((function(){Gt=void 0})),Gt=v.now()}function ne(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=tt[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function oe(t,e,i){for(var n,o=(re.tweeners[e]||[]).concat(re.tweeners["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,e,t))return n}function re(t,e,i){var n,o,r=0,s=re.prefilters.length,a=v.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=Gt||ie(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(n);return a.notifyWith(t,[c,n,i]),n<1&&s?i:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:v.extend({},e),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},i),originalProperties:e,originalOptions:i,startTime:Gt||ie(),duration:i.duration,tweens:[],createTween:function(e,i){var n=v.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),d=c.props;for(function(t,e){var i,n,o,r,s;for(i in t)if(o=e[n=v.camelCase(i)],r=t[i],Array.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(s=v.cssHooks[n])&&"expand"in s)for(i in r=s.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=o);else e[n]=o}(d,c.opts.specialEasing);r<s;r++)if(n=re.prefilters[r].call(c,t,d,c.opts))return v.isFunction(n.stop)&&(v._queueHooks(c.elem,c.opts.queue).stop=v.proxy(n.stop,n)),n;return v.map(d,oe,c),v.isFunction(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),v.fx.timer(v.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}v.Animation=v.extend(re,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return nt(i.elem,t,J.exec(e),i),i}]},tweener:function(t,e){v.isFunction(t)?(e=t,t=["*"]):t=t.match(j);for(var i,n=0,o=t.length;n<o;n++)i=t[n],re.tweeners[i]=re.tweeners[i]||[],re.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,o,r,s,a,l,c,d,u="width"in e||"height"in e,h=this,p={},f=t.style,g=t.nodeType&&et(t),m=X.get(t,"fxshow");for(n in i.queue||(null==(s=v._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,v.queue(t,"fx").length||s.empty.fire()}))}))),e)if(o=e[n],Jt.test(o)){if(delete e[n],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||v.style(t,n)}if((l=!v.isEmptyObject(e))||!v.isEmptyObject(p))for(n in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=X.get(t,"display")),"none"===(d=v.css(t,"display"))&&(c?d=c:(st([t],!0),c=t.style.display||c,d=v.css(t,"display"),st([t]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===v.css(t,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(t,"fxshow",{display:c}),r&&(m.hidden=!g),g&&st([t],!0),h.done((function(){for(n in g||st([t]),X.remove(t,"fxshow"),p)v.style(t,n,p[n])}))),l=oe(g?m[n]:0,n,h),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?re.prefilters.unshift(t):re.prefilters.push(t)}}),v.speed=function(t,e,i){var n=t&&"object"==typeof t?v.extend({},t):{complete:i||!i&&e||v.isFunction(t)&&t,duration:t,easing:i&&e||e&&!v.isFunction(e)&&e};return v.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in v.fx.speeds?n.duration=v.fx.speeds[n.duration]:n.duration=v.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v.isFunction(n.old)&&n.old.call(this),n.queue&&v.dequeue(this,n.queue)},n},v.fn.extend({fadeTo:function(t,e,i,n){return this.filter(et).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=v.isEmptyObject(t),r=v.speed(e,i,n),s=function(){var e=re(this,v.extend({},t),r);(o||X.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",r=v.timers,s=X.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&te.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||v.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=X.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=v.timers,s=n?n.length:0;for(i.finish=!0,v.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),v.each(["toggle","show","hide"],(function(t,e){var i=v.fn[e];v.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ne(e,!0),t,n,o)}})),v.each({slideDown:ne("show"),slideUp:ne("hide"),slideToggle:ne("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){v.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),v.timers=[],v.fx.tick=function(){var t,e=0,i=v.timers;for(Gt=v.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||v.fx.stop(),Gt=void 0},v.fx.timer=function(t){v.timers.push(t),v.fx.start()},v.fx.interval=13,v.fx.start=function(){Zt||(Zt=!0,ee())},v.fx.stop=function(){Zt=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(e,i){return e=v.fx&&v.fx.speeds[e]||e,i=i||"fx",this.queue(i,(function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}}))},function(){var t=n.createElement("input"),e=n.createElement("select").appendChild(n.createElement("option"));t.type="checkbox",f.checkOn=""!==t.value,f.optSelected=e.selected,(t=n.createElement("input")).value="t",t.type="radio",f.radioValue="t"===t.value}();var se,ae=v.expr.attrHandle;v.fn.extend({attr:function(t,e){return Y(this,v.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){v.removeAttr(this,t)}))}}),v.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?v.prop(t,e,i):(1===r&&v.isXMLDoc(t)||(o=v.attrHooks[e.toLowerCase()]||(v.expr.match.bool.test(e)?se:void 0)),void 0!==i?null===i?void v.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:null==(n=v.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&A(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(j);if(o&&1===t.nodeType)for(;i=o[n++];)t.removeAttribute(i)}}),se={set:function(t,e,i){return!1===e?v.removeAttr(t,i):t.setAttribute(i,i),i}},v.each(v.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=ae[e]||v.find.attr;ae[e]=function(t,e,n){var o,r,s=e.toLowerCase();return n||(r=ae[s],ae[s]=o,o=null!=i(t,e,n)?s:null,ae[s]=r),o}}));var le=/^(?:input|select|textarea|button)$/i,ce=/^(?:a|area)$/i;function de(t){return(t.match(j)||[]).join(" ")}function ue(t){return t.getAttribute&&t.getAttribute("class")||""}v.fn.extend({prop:function(t,e){return Y(this,v.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[v.propFix[t]||t]}))}}),v.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&v.isXMLDoc(t)||(e=v.propFix[e]||e,o=v.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=v.find.attr(t,"tabindex");return e?parseInt(e,10):le.test(t.nodeName)||ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(v.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){v.propFix[this.toLowerCase()]=this})),v.fn.extend({addClass:function(t){var e,i,n,o,r,s,a,l=0;if(v.isFunction(t))return this.each((function(e){v(this).addClass(t.call(this,e,ue(this)))}));if("string"==typeof t&&t)for(e=t.match(j)||[];i=this[l++];)if(o=ue(i),n=1===i.nodeType&&" "+de(o)+" "){for(s=0;r=e[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(a=de(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,o,r,s,a,l=0;if(v.isFunction(t))return this.each((function(e){v(this).removeClass(t.call(this,e,ue(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(j)||[];i=this[l++];)if(o=ue(i),n=1===i.nodeType&&" "+de(o)+" "){for(s=0;r=e[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");o!==(a=de(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):v.isFunction(t)?this.each((function(i){v(this).toggleClass(t.call(this,i,ue(this),e),e)})):this.each((function(){var e,n,o,r;if("string"===i)for(n=0,o=v(this),r=t.match(j)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=ue(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":X.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+de(ue(i))+" ").indexOf(e)>-1)return!0;return!1}});var he=/\r/g;v.fn.extend({val:function(t){var e,i,n,o=this[0];return arguments.length?(n=v.isFunction(t),this.each((function(i){var o;1===this.nodeType&&(null==(o=n?t.call(this,i,v(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=v.map(o,(function(t){return null==t?"":t+""}))),(e=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=v.valHooks[o.type]||v.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(he,""):null==i?"":i:void 0}}),v.extend({valHooks:{option:{get:function(t){var e=v.find.attr(t,"value");return null!=e?e:de(v.text(t))}},select:{get:function(t){var e,i,n,o=t.options,r=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?r+1:o.length;for(n=r<0?l:s?r:0;n<l;n++)if(((i=o[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(e=v(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,r=v.makeArray(e),s=o.length;s--;)((n=o[s]).selected=v.inArray(v.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),v.each(["radio","checkbox"],(function(){v.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=v.inArray(v(t).val(),e)>-1}},f.checkOn||(v.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var pe=/^(?:focusinfocus|focusoutblur)$/;v.extend(v.event,{trigger:function(e,i,o,r){var s,a,l,c,d,h,p,f=[o||n],g=u.call(e,"type")?e.type:e,m=u.call(e,"namespace")?e.namespace.split("."):[];if(a=l=o=o||n,3!==o.nodeType&&8!==o.nodeType&&!pe.test(g+v.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),d=g.indexOf(":")<0&&"on"+g,(e=e[v.expando]?e:new v.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),i=null==i?[e]:v.makeArray(i,[e]),p=v.event.special[g]||{},r||!p.trigger||!1!==p.trigger.apply(o,i))){if(!r&&!p.noBubble&&!v.isWindow(o)){for(c=p.delegateType||g,pe.test(c+g)||(a=a.parentNode);a;a=a.parentNode)f.push(a),l=a;l===(o.ownerDocument||n)&&f.push(l.defaultView||l.parentWindow||t)}for(s=0;(a=f[s++])&&!e.isPropagationStopped();)e.type=s>1?c:p.bindType||g,(h=(X.get(a,"events")||{})[e.type]&&X.get(a,"handle"))&&h.apply(a,i),(h=d&&a[d])&&h.apply&&U(a)&&(e.result=h.apply(a,i),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(f.pop(),i)||!U(o)||d&&v.isFunction(o[g])&&!v.isWindow(o)&&((l=o[d])&&(o[d]=null),v.event.triggered=g,o[g](),v.event.triggered=void 0,l&&(o[d]=l)),e.result}},simulate:function(t,e,i){var n=v.extend(new v.Event,i,{type:t,isSimulated:!0});v.event.trigger(n,null,e)}}),v.fn.extend({trigger:function(t,e){return this.each((function(){v.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return v.event.trigger(t,e,i,!0)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){v.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}})),v.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),f.focusin="onfocusin"in t,f.focusin||v.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){v.event.simulate(e,t.target,v.event.fix(t))};v.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=X.access(n,e);o||n.addEventListener(t,i,!0),X.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=X.access(n,e)-1;o?X.access(n,e,o):(n.removeEventListener(t,i,!0),X.remove(n,e))}}}));var fe=t.location,ge=v.now(),me=/\?/;v.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+e),i};var ve=/\[\]$/,ye=/\r?\n/g,be=/^(?:submit|button|image|reset|file)$/i,we=/^(?:input|select|textarea|keygen)/i;function xe(t,e,i,n){var o;if(Array.isArray(e))v.each(e,(function(e,o){i||ve.test(t)?n(t,o):xe(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)}));else if(i||"object"!==v.type(e))n(t,e);else for(o in e)xe(t+"["+o+"]",e[o],i,n)}v.param=function(t,e){var i,n=[],o=function(t,e){var i=v.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!v.isPlainObject(t))v.each(t,(function(){o(this.name,this.value)}));else for(i in t)xe(i,t[i],e,o);return n.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=v.prop(this,"elements");return t?v.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!v(this).is(":disabled")&&we.test(this.nodeName)&&!be.test(t)&&(this.checked||!at.test(t))})).map((function(t,e){var i=v(this).val();return null==i?null:Array.isArray(i)?v.map(i,(function(t){return{name:e.name,value:t.replace(ye,"\r\n")}})):{name:e.name,value:i.replace(ye,"\r\n")}})).get()}});var ke=/%20/g,Ce=/#.*$/,Se=/([?&])_=[^&]*/,Te=/^(.*?):[ \t]*([^\r\n]*)$/gm,_e=/^(?:GET|HEAD)$/,Ae=/^\/\//,De={},Ee={},Me="*/".concat("*"),Ie=n.createElement("a");function $e(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(j)||[];if(v.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Le(t,e,i,n){var o={},r=t===Ee;function s(a){var l;return o[a]=!0,v.each(t[a]||[],(function(t,a){var c=a(e,i,n);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),l}return s(e.dataTypes[0])||!o["*"]&&s("*")}function Oe(t,e){var i,n,o=v.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&v.extend(!0,t,n),t}Ie.href=fe.href,v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(fe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Me,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Oe(Oe(t,v.ajaxSettings),e):Oe(v.ajaxSettings,t)},ajaxPrefilter:$e(De),ajaxTransport:$e(Ee),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,r,s,a,l,c,d,u,h,p,f=v.ajaxSetup({},i),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?v(g):v.event,y=v.Deferred(),b=v.Callbacks("once memory"),w=f.statusCode||{},x={},k={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(d){if(!a)for(a={};e=Te.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return d?s:null},setRequestHeader:function(t,e){return null==d&&(t=k[t.toLowerCase()]=k[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==d&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(d)S.always(t[S.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||C;return o&&o.abort(e),T(0,e),this}};if(y.promise(S),f.url=((e||f.url||fe.href)+"").replace(Ae,fe.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(j)||[""],null==f.crossDomain){c=n.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Ie.protocol+"//"+Ie.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=v.param(f.data,f.traditional)),Le(De,f,i,S),d)return S;for(h in(u=v.event&&f.global)&&0==v.active++&&v.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!_e.test(f.type),r=f.url.replace(Ce,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(ke,"+")):(p=f.url.slice(r.length),f.data&&(r+=(me.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Se,"$1"),p=(me.test(r)?"&":"?")+"_="+ge+++p),f.url=r+p),f.ifModified&&(v.lastModified[r]&&S.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&S.setRequestHeader("If-None-Match",v.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Me+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(g,S,f)||d))return S.abort();if(C="abort",b.add(f.complete),S.done(f.success),S.fail(f.error),o=Le(Ee,f,i,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,f]),d)return S;f.async&&f.timeout>0&&(l=t.setTimeout((function(){S.abort("timeout")}),f.timeout));try{d=!1,o.send(x,T)}catch(t){if(d)throw t;T(-1,t)}}else T(-1,"No Transport");function T(e,i,n,a){var c,h,p,x,k,C=i;d||(d=!0,l&&t.clearTimeout(l),o=void 0,s=a||"",S.readyState=e>0?4:0,c=e>=200&&e<300||304===e,n&&(x=function(t,e,i){for(var n,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}(f,S,n)),x=function(t,e,i,n){var o,r,s,a,l,c={},d=t.dataTypes.slice();if(d[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=d.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(o in c)if((a=o.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(r=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(f,x,S,c),c?(f.ifModified&&((k=S.getResponseHeader("Last-Modified"))&&(v.lastModified[r]=k),(k=S.getResponseHeader("etag"))&&(v.etag[r]=k)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=x.state,h=x.data,c=!(p=x.error))):(p=C,!e&&C||(C="error",e<0&&(e=0))),S.status=e,S.statusText=(i||C)+"",c?y.resolveWith(g,[h,C,S]):y.rejectWith(g,[S,C,p]),S.statusCode(w),w=void 0,u&&m.trigger(c?"ajaxSuccess":"ajaxError",[S,f,c?h:p]),b.fireWith(g,[S,C]),u&&(m.trigger("ajaxComplete",[S,f]),--v.active||v.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,i){return v.get(t,e,i,"json")},getScript:function(t,e){return v.get(t,void 0,e,"script")}}),v.each(["get","post"],(function(t,e){v[e]=function(t,i,n,o){return v.isFunction(i)&&(o=o||n,n=i,i=void 0),v.ajax(v.extend({url:t,type:e,dataType:o,data:i,success:n},v.isPlainObject(t)&&t))}})),v._evalUrl=function(t){return v.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},v.fn.extend({wrapAll:function(t){var e;return this[0]&&(v.isFunction(t)&&(t=t.call(this[0])),e=v(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v.isFunction(t)?this.each((function(e){v(this).wrapInner(t.call(this,e))})):this.each((function(){var e=v(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v.isFunction(t);return this.each((function(i){v(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){v(this).replaceWith(this.childNodes)})),this}}),v.expr.pseudos.hidden=function(t){return!v.expr.pseudos.visible(t)},v.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ne={0:200,1223:204},Pe=v.ajaxSettings.xhr();f.cors=!!Pe&&"withCredentials"in Pe,f.ajax=Pe=!!Pe,v.ajaxTransport((function(e){var i,n;if(f.cors||Pe&&!e.crossDomain)return{send:function(o,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Ne[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){i&&n()}))},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}})),v.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return v.globalEval(t),t}}}),v.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),v.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain)return{send:function(o,r){e=v("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),n.head.appendChild(e[0])},abort:function(){i&&i()}}}));var je=[],He=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=je.pop()||v.expando+"_"+ge++;return this[t]=!0,t}}),v.ajaxPrefilter("json jsonp",(function(e,i,n){var o,r,s,a=!1!==e.jsonp&&(He.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&He.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(He,"$1"+o):!1!==e.jsonp&&(e.url+=(me.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||v.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},n.always((function(){void 0===r?v(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,je.push(o)),s&&v.isFunction(r)&&r(s[0]),s=r=void 0})),"script"})),f.createHTMLDocument=function(){var t=n.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),v.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(f.createHTMLDocument?((o=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(o)):e=n),s=!i&&[],(r=D.exec(t))?[e.createElement(r[1])]:(r=ft([t],e,s),s&&s.length&&v(s).remove(),v.merge([],r.childNodes)));var o,r,s},v.fn.load=function(t,e,i){var n,o,r,s=this,a=t.indexOf(" ");return a>-1&&(n=de(t.slice(a)),t=t.slice(0,a)),v.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&v.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){r=arguments,s.html(n?v("<div>").append(v.parseHTML(t)).find(n):t)})).always(i&&function(t,e){s.each((function(){i.apply(this,r||[t.responseText,e,t])}))}),this},v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){v.fn[e]=function(t){return this.on(e,t)}})),v.expr.pseudos.animated=function(t){return v.grep(v.timers,(function(e){return t===e.elem})).length},v.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,c=v.css(t,"position"),d=v(t),u={};"static"===c&&(t.style.position="relative"),a=d.offset(),r=v.css(t,"top"),l=v.css(t,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(s=(n=d.position()).top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),v.isFunction(e)&&(e=e.call(t,i,v.extend({},a))),null!=e.top&&(u.top=e.top-a.top+s),null!=e.left&&(u.left=e.left-a.left+o),"using"in e?e.using.call(t,u):d.css(u)}},v.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){v.offset.setOffset(this,t,e)}));var e,i,n,o,r=this[0];return r?r.getClientRects().length?(n=r.getBoundingClientRect(),i=(e=r.ownerDocument).documentElement,o=e.defaultView,{top:n.top+o.pageYOffset-i.clientTop,left:n.left+o.pageXOffset-i.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===v.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),A(t[0],"html")||(n=t.offset()),n={top:n.top+v.css(t[0],"borderTopWidth",!0),left:n.left+v.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-v.css(i,"marginTop",!0),left:e.left-n.left-v.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===v.css(t,"position");)t=t.offsetParent;return t||gt}))}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;v.fn[t]=function(n){return Y(this,(function(t,n,o){var r;return v.isWindow(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===o?r?r[e]:t[n]:void(r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):t[n]=o)}),t,n,arguments.length)}})),v.each(["top","left"],(function(t,e){v.cssHooks[e]=Ft(f.pixelPosition,(function(t,i){if(i)return i=Ht(t,e),Pt.test(i)?v(t).position()[e]+"px":i}))})),v.each({Height:"height",Width:"width"},(function(t,e){v.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){v.fn[n]=function(o,r){var s=arguments.length&&(i||"boolean"!=typeof o),a=i||(!0===o||!0===r?"margin":"border");return Y(this,(function(e,i,o){var r;return v.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?v.css(e,i,a):v.style(e,i,o,a)}),e,s?o:void 0,s)}}))})),v.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),v.holdReady=function(t){t?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=A,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return v}));var Fe=t.jQuery,Be=t.$;return v.noConflict=function(e){return t.$===v&&(t.$=Be),e&&t.jQuery===v&&(t.jQuery=Fe),v},e||(t.jQuery=t.$=v),v})),
/*! jQuery Migrate v3.0.0 | (c) jQuery Foundation and other contributors | jquery.org/license */
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t,e){"use strict";function i(i){var n=e.console;o[i]||(o[i]=!0,t.migrateWarnings.push(i),n&&n.warn&&!t.migrateMute&&(n.warn("JQMIGRATE: "+i),t.migrateTrace&&n.trace&&n.trace()))}function n(t,e,n,o){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i(o),n}})}t.migrateVersion="3.0.0",function(){var i=e.console&&e.console.log&&function(){e.console.log.apply(e.console,arguments)};i&&(t&&!/^[12]\./.test(t.fn.jquery)||i("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),t.migrateWarnings&&i("JQMIGRATE: Migrate plugin loaded multiple times"))}();var o={};t.migrateWarnings=[],void 0===t.migrateTrace&&(t.migrateTrace=!0),t.migrateReset=function(){o={},t.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var r,s=t.fn.init,a=t.isNumeric,l=t.find,c=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,d=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;for(r in t.fn.init=function(t){var e=Array.prototype.slice.call(arguments);return"string"==typeof t&&"#"===t&&(i("jQuery( '#' ) is not a valid selector"),e[0]=[]),s.apply(this,e)},t.fn.init.prototype=t.fn,t.find=function(t){var e=Array.prototype.slice.call(arguments);if("string"==typeof t&&c.test(t))try{document.querySelector(t)}catch(n){t=t.replace(d,(function(t,e,i,n){return"["+e+i+'"'+n+'"]'}));try{document.querySelector(t),i("Attribute selector with '#' must be quoted: "+e[0]),e[0]=t}catch(t){i("Attribute selector with '#' was not fixed: "+e[0])}}return l.apply(this,e)},l)Object.prototype.hasOwnProperty.call(l,r)&&(t.find[r]=l[r]);t.fn.size=function(){return i("jQuery.fn.size() is deprecated; use the .length property"),this.length},t.parseJSON=function(){return i("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},t.isNumeric=function(e){var n=a(e),o=function(e){var i=e&&e.toString();return!t.isArray(e)&&i-parseFloat(i)+1>=0}(e);return n!==o&&i("jQuery.isNumeric() should not be called on constructed objects"),o},n(t,"unique",t.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),n(t.expr,"filters",t.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),n(t.expr,":",t.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var u=t.ajax;t.ajax=function(){var t=u.apply(this,arguments);return t.promise&&(n(t,"success",t.done,"jQXHR.success is deprecated and removed"),n(t,"error",t.fail,"jQXHR.error is deprecated and removed"),n(t,"complete",t.always,"jQXHR.complete is deprecated and removed")),t};var h=t.fn.removeAttr,p=t.fn.toggleClass,f=/\S+/g;t.fn.removeAttr=function(e){var n=this;return t.each(e.match(f),(function(e,o){t.expr.match.bool.test(o)&&(i("jQuery.fn.removeAttr no longer sets boolean properties: "+o),n.prop(o,!1))})),h.apply(this,arguments)},t.fn.toggleClass=function(e){return void 0!==e&&"boolean"!=typeof e?p.apply(this,arguments):(i("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each((function(){var i=this.getAttribute&&this.getAttribute("class")||"";i&&t.data(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":t.data(this,"__className__")||"")})))};var g=!1;t.swap&&t.each(["height","width","reliableMarginRight"],(function(e,i){var n=t.cssHooks[i]&&t.cssHooks[i].get;n&&(t.cssHooks[i].get=function(){var t;return g=!0,t=n.apply(this,arguments),g=!1,t})})),t.swap=function(t,e,n,o){var r,s,a={};for(s in g||i("jQuery.swap() is undocumented and deprecated"),e)a[s]=t.style[s],t.style[s]=e[s];for(s in r=n.apply(t,o||[]),e)t.style[s]=a[s];return r};var m=t.data;t.data=function(e,n,o){var r;return n&&n!==t.camelCase(n)&&((r=t.hasData(e)&&m.call(this,e))&&n in r)?(i("jQuery.data() always sets/gets camelCased names: "+n),arguments.length>2&&(r[n]=o),r[n]):m.apply(this,arguments)};var v=t.Tween.prototype.run;t.Tween.prototype.run=function(e){t.easing[this.easing].length>1&&(i('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),t.easing[this.easing]=t.easing[this.easing].bind(t.easing,e,this.options.duration*e,0,1,this.options.duration)),v.apply(this,arguments)};var y=t.fn.load,b=t.event.fix;t.event.props=[],t.event.fixHooks={},t.event.fix=function(e){var n,o=e.type,r=this.fixHooks[o],s=t.event.props;if(s.length)for(i("jQuery.event.props are deprecated and removed: "+s.join());s.length;)t.event.addProp(s.pop());if(r&&!r._migrated_&&(r._migrated_=!0,i("jQuery.event.fixHooks are deprecated and removed: "+o),(s=r.props)&&s.length))for(;s.length;)t.event.addProp(s.pop());return n=b.call(this,e),r&&r.filter?r.filter(n,e):n},t.each(["load","unload","error"],(function(e,n){t.fn[n]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===n&&"string"==typeof t[0]?y.apply(this,t):(i("jQuery.fn."+n+"() is deprecated"),t.splice(0,0,n),arguments.length?this.on.apply(this,t):(this.triggerHandler.apply(this,t),this))}})),t((function(){t(document).triggerHandler("ready")})),t.event.special.ready={setup:function(){this===document&&i("'ready' event is deprecated")}},t.fn.extend({bind:function(t,e,n){return i("jQuery.fn.bind() is deprecated"),this.on(t,null,e,n)},unbind:function(t,e){return i("jQuery.fn.unbind() is deprecated"),this.off(t,null,e)},delegate:function(t,e,n,o){return i("jQuery.fn.delegate() is deprecated"),this.on(e,t,n,o)},undelegate:function(t,e,n){return i("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var w=t.fn.offset;t.fn.offset=function(){var e,n=this[0],o={top:0,left:0};return n&&n.nodeType?(e=(n.ownerDocument||document).documentElement,t.contains(e,n)?w.apply(this,arguments):(i("jQuery.fn.offset() requires an element connected to a document"),o)):(i("jQuery.fn.offset() requires a valid DOM element"),o)};var x=t.param;t.param=function(e,n){var o=t.ajaxSettings&&t.ajaxSettings.traditional;return void 0===n&&o&&(i("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),n=o),x.call(this,e,n)};var k=t.fn.andSelf||t.fn.addBack;t.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),k.apply(this,arguments)};var C=t.Deferred,S=[["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory"),t.Callbacks("memory")]];t.Deferred=function(e){var n=C(),o=n.promise();return n.pipe=o.pipe=function(){var e=arguments;return i("deferred.pipe() is deprecated"),t.Deferred((function(i){t.each(S,(function(r,s){var a=t.isFunction(e[r])&&e[r];n[s[1]]((function(){var e=a&&a.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===o?i.promise():this,a?[e]:arguments)}))})),e=null})).promise()},e&&e.call(n,n),n}}(jQuery,window),
/*! jQuery UI - v1.12.1 - 2019-05-19
* http://jqueryui.com
* Includes: widget.js, data.js, keycode.js, scroll-parent.js, widgets/selectable.js, widgets/sortable.js, widgets/datepicker.js, widgets/mouse.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){t.ui=t.ui||{};t.ui.version="1.12.1";
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var e,i=0,n=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)try{(n=t._data(o,"events"))&&n.remove&&t(o).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,n){var o,r,s,a={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(s=new i).options=t.widget.extend({},s.options),t.each(n,(function(e,n){t.isFunction(n)?a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}():a[e]=n})),r.prototype=t.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||e},a,{constructor:r,namespace:l,widgetName:e,widgetFullName:c}),o?(t.each(o._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)})),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,o,r=n.call(arguments,1),s=0,a=r.length;s<a;s++)for(i in r[s])o=r[s][i],r[s].hasOwnProperty(i)&&void 0!==o&&(t.isPlainObject(o)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):e[i]=o);return e},t.widget.bridge=function(e,i){var o=i.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,a=n.call(arguments,1),l=this;return s?this.length||"instance"!==r?this.each((function(){var i,n=t.data(this,o);return"instance"===r?(l=n,!1):n?t.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,a))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")})):l=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each((function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new i(r,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,o,r,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(o=s[e]=t.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(e=n.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,o;for(i in e)o=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&o&&o.length&&(n=t(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;function o(o,r){var s,a;for(a=0;a<o.length;a++)s=n.classesElementLookup[o[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),n.classesElementLookup[o[a]]=s,i.push(o[a]),r&&e.classes[o[a]]&&i.push(e.classes[o[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(n,o){-1!==t.inArray(e.target,o)&&(i.classesElementLookup[n]=t(o.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof t||null===t,r={extra:o?e:i,keys:o?t:e,element:o?this.element:t,add:n};return r.element.toggleClass(this._classes(r),n),this},_on:function(e,i,n){var o,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,(function(n,s){function a(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?o.on(c,d,a):i.on(c,a)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var o,r,s=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,o,r){var s;"string"==typeof o&&(o={effect:o});var a=o?!0===o||"number"==typeof o?i:o.effect||i:e;"number"==typeof(o=o||{})&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&t.effects&&t.effects.effect[a]?n[e](o):a!==e&&n[a]?n[a](o.duration,o.easing,r):n.queue((function(i){t(this)[e](),r&&r.call(n[0]),i()}))}}));t.widget,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,n){return!!t.data(e,n[3])}}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter((function(){var e=t(this);return(!n||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var o=!1;t(document).on("mouseup",(function(){o=!1}));var r;
/*!
 * jQuery UI Selectable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each((function(){var i=t(this),n=i.offset(),o={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:o.left,top:o.top,right:o.left+i.outerWidth(),bottom:o.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))})),t(e.target).parents().addBack().each((function(){var n,o=t.data(this,"selectable-item");if(o)return n=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),i._removeClass(o.$element,n?"ui-unselecting":"ui-selected")._addClass(o.$element,n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1})))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,r=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(i=a,a=r,r=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each((function(){var i=t.data(this,"selectable-item"),c=!1,d={};i&&i.element!==n.element[0]&&(d.left=i.left+n.elementPos.left,d.right=i.right+n.elementPos.left,d.top=i.top+n.elementPos.top,d.bottom=i.bottom+n.elementPos.top,"touch"===o.tolerance?c=!(d.left>a||d.right<r||d.top>l||d.bottom<s):"fit"===o.tolerance&&(c=d.left>r&&d.right<a&&d.top>s&&d.bottom<l),c?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))})),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each((function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})})),t(".ui-selecting",this.element[0]).each((function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})})),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,r.widgetName+"-item")===r)return n=t(this),!1})),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each((function(){this===e.target&&(o=!0)})),!o))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(o=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){n._clear(e)}))}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each((function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))})),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each((function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")})),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>a&&n+c<l,h="y"===this.options.axis||e+d>r&&e+d<s,p=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!o)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,o,r,s=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(n=(o=t(l[i],this.document[0])).length-1;n>=0;n--)(r=t.data(o[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function c(){s.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(c);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,o,r,s,a,l,c,d=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(n=(o=t(h[i],this.document[0])).length-1;n>=0;n--)(r=t.data(o[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=u.length-1;i>=0;i--)for(s=u[i][1],n=0,c=(a=u[i][0]).length;n<c;n++)(l=t(a[n])).data(this.widgetName+"-item",s),d.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,o,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+n+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===n?e._createTrPlaceholder(e.currentItem,o):"img"===n&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){i&&!n.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each((function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)}))},_contactContainers:function(e){var i,n,o,r,s,a,l,c,d,u,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&t.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,r=null,s=(d=h.floating||this._isFloating(this.currentItem))?"left":"top",a=d?"width":"height",u=d?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],c=!1,e[u]-l>this.items[n][a]/2&&(c=!0),Math.abs(e[u]-l)<o&&(o=Math.abs(e[u]-l),r=this.items[n],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(e){var i,n,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay((function(){o===this.counter&&this.refreshPositions(!n)}))},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}for(this.fromOutside&&!e&&n.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(n.push((function(t){this._trigger("remove",t,this._uiHash())})),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=a(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",i,l)}function l(){t.datepicker._isDisabledDatepicker(r.inline?r.dpDiv.parent()[0]:r.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function c(e,i){for(var n in t.extend(e,i),i)null==i[n]&&(e[n]=i[n]);return e}
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return c(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,o,r;o="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(t(e),o)).settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,r):o&&this._inlineDatepicker(e,r)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,o,r,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||e.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(o=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:o,title:o}):o)),e[a?"before":"after"](i.trigger),i.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,n=0,o=0;o<t.length;o++)t[o].length>i&&(i=t[o].length,n=o);return n},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,r){var s,a,l,d,u,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),c(h.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+d,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var i,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),r===o&&(r=null))},_enableDatepicker:function(e){var i,n,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((n=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var i,n,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((n=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var o,r,s,a,l=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null;o=i||{},"string"==typeof i&&((o={})[i]=n),l&&(this._curInst===l&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(l,"min"),a=this._getMinMaxDate(l,"max"),c(l.settings,o),null!==s&&void 0!==o.dateFormat&&void 0===o.minDate&&(l.settings.minDate=this._formatDate(l,s)),null!==a&&void 0!==o.dateFormat&&void 0===o.maxDate&&(l.settings.maxDate=this._formatDate(l,a)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,r),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,o,r=t.datepicker._getInst(e.target),s=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv))[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,o[0]),(i=t.datepicker._get(r,"onSelect"))?(n=t.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,o=t.datepicker._getInst(e.target);if(t.datepicker._get(o,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(t){}return!0},_showDatepicker:function(e){var i,n,o,r,s,a,l;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(o=(n=t.datepicker._get(i,"beforeShow"))?n.apply(e,[e,i]):{})&&(c(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each((function(){return!(r|="fixed"===t(this).css("position"))})),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),s=t.datepicker._checkOffset(i,s,r),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),i.inline||(a=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[a]?i.dpDiv.show(a,t.datepicker._get(i,"showOptions"),l):i.dpDiv[a||"show"](a?l:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,r=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),o=n[1],s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&l.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout((function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var o=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?o-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+r>c&&c>r?Math.abs(r+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),o=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,n,o,r,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),o=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),n,o):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,(r=this._get(s,"onClose"))&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var o=t(e),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var i,n=t(e),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var o=t(e),r=this._getInst(o[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(e,i,n,o){var r,s=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((r=this._getInst(s[0])).selectedDay=r.currentDay=t("a",o).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,o=t(e),r=this._getInst(o[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,o,r=this._get(e,"altField");r&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),o=this.formatDate(i,n,this._getFormatConfig(e)),t(r).val(o))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var o,r,s,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var i=o+1<e.length&&e.charAt(o+1)===t;return i&&o++,i},x=function(t){var e=w(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),r=i.substring(l).match(o);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},k=function(e,n,o){var r=-1,s=t.map(w(e)?o:n,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(s,(function(t,e){var n=e[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return r=e[0],l+=n.length,!1})),-1!==r)return r+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(b)"'"!==e.charAt(o)||w("'")?C():b=!1;else switch(e.charAt(o)){case"d":v=x("d");break;case"D":k("D",u,h);break;case"o":y=x("o");break;case"m":m=x("m");break;case"M":m=k("M",p,f);break;case"y":g=x("y");break;case"@":g=(a=new Date(x("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?C():b=!0;break;default:C()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=d?0:-100)),y>-1)for(m=1,v=y;;){if(v<=(r=this._getDaysInMonth(g,m-1)))break;m++,v-=r}if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},d=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",h=!1;if(e)for(n=0;n<t.length;n++)if(h)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):h=!1;else switch(t.charAt(n)){case"d":u+=c("d",e.getDate(),2);break;case"D":u+=d("D",e.getDay(),o,r);break;case"o":u+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",e.getMonth()+1,2);break;case"M":u+=d("M",e.getMonth(),s,a);break;case"y":u+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,o=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||o("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,s=this._getFormatConfig(t);try{r=this.parseDate(i,n,s)||o}catch(t){n=e?"":n}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=n?r.getDate():0,t.currentMonth=n?r.getMonth():0,t.currentYear=n?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var o=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),r=n.getMonth(),s=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,r))}l=a.exec(i)}return new Date(o,r,s)}(i):"number"==typeof i?isNaN(i)?n:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(o=o&&"Invalid Date"===o.toString()?n:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,i,n,o,r,s,a,l,c,d,u,h,p,f,g,m,v,y,b,w,x,k,C,S,T,_,A,D,E,M,I,$,L,O,N,P,j,H,F,B=new Date,R=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),z=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),X=this._get(t,"showCurrentAtPos"),Q=this._get(t,"stepMonths"),V=1!==q[0]||1!==q[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-X,tt=t.drawYear;if(J<0&&(J+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate())),e=G&&e<G?G:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-Q,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=U?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,J+Q,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:R,s=U?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(z?"":l)+"</div>":"",d=parseInt(this._get(t,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",k=0;k<q[0];k++){for(C="",this.maxRows=4,S=0;S<q[1];S++){if(T=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),_=" ui-corner-all",A="",V){if(A+="<div class='ui-datepicker-group",q[1]>1)switch(S){case 0:A+=" ui-datepicker-group-first",_=" ui-corner-"+(z?"right":"left");break;case q[1]-1:A+=" ui-datepicker-group-last",_=" ui-corner-"+(z?"left":"right");break;default:A+=" ui-datepicker-group-middle",_=""}A+="'>"}for(A+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+_+"'>"+(/all|left/.test(_)&&0===k?z?r:n:"")+(/all|right/.test(_)&&0===k?z?n:r:"")+this._generateMonthYearHeader(t,J,tt,G,Z,k>0||S>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)D+="<th scope='col'"+((x+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[E=(x+d)%7]+"'>"+p[E]+"</span></th>";for(A+=D+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),I=(this._getFirstDayOfMonth(tt,J)-d+7)%7,$=Math.ceil((I+M)/7),L=V&&this.maxRows>$?this.maxRows:$,this.maxRows=L,O=this._daylightSavingAdjust(new Date(tt,J,1-I)),N=0;N<L;N++){for(A+="<tr>",P=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",x=0;x<7;x++)j=m?m.apply(t.input?t.input[0]:null,[O]):[!0,""],F=(H=O.getMonth()!==J)&&!y||!j[0]||G&&O<G||Z&&O>Z,P+="<td class='"+((x+d+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(O.getTime()===T.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===O.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+j[1]+(O.getTime()===K.getTime()?" "+this._currentClass:"")+(O.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===R.getTime()?" ui-state-highlight":"")+(O.getTime()===K.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);A+=P+"</tr>"}++J>11&&(J=0,tt++),C+=A+="</tbody></table>"+(V?"</div>"+(q[0]>0&&S===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=C}return w+=c,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,n,o,r,s,a){var l,c,d,u,h,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(r||!m)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;d<12;d++)(!l||d>=n.getMonth())&&(!c||d<=o.getMonth())&&(w+="<option value='"+d+"'"+(d===e?" selected='selected'":"")+">"+a[d]+"</option>");w+="</select>"}if(y||(b+=w+(!r&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=o?Math.min(g,o.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!r&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),o=t.selectedMonth+("M"===i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&e<i?i:e;return n&&o>n?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(e<0?e:o[0]*o[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1";t.datepicker})),
/**
 * Obscene words detector for russian language
 *
 * @name antimat
 * @version 0.0.1
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 * @see https://github.com/itlessons/js-antimat
 *
 * Copyright (c) 2014, www.itlessons.info
 */
function(){var t={};window.containsMat=function(e){return t.containsMat(e)},window.antimat=t,t.badPatterns=["^(о|а)н(о|а)нист.*","^лошар.*","^к(а|о)злина$","^к(о|а)зел$","^сволоч(ь|ъ|и|уга|ам|ами).*","^лох[уеыаоэяию].*",".*урод(ы|у|ам|ина|ины).*",".*бля(т|д).*",".*гандо.*","^м(а|о)нд(а|о).*",".*сперма.*",".*[уеыаоэяию]еб$","^сучк(а|у|и|е|ой|ай).*","^придур(ок|ки).*","^д(е|и)би(л|лы).*","^сос(ать|и|ешь|у)$","^залуп.*","^муд(е|ил|о|а|я|еб).*",".*шалав(а|ы|ам|е|ами).*",".*пр(а|о)ст(и|е)т(у|е)тк(а|и|ам|е|ами).*",".*шлюх(а|и|ам|е|ами).*",".*ху(й|и|я|е|л(и|е)).*",".*п(и|е|ы)зд.*","^бл(я|т|д).*","(с|сц)ук(а|о|и|у).*","^еб.*",".*(д(о|а)лб(о|а)|разъ|разь|за|вы|по)ебы*.*",".*пид(а|о|е)р.*",".*хер.*"],t.goodPatterns=[".*психу.*",".*к(о|а)манд.*",".*истр(е|и)блять.*",".*л(о|а)х(о|а)трон.*",".*(о|а)ск(о|а)рблять.*","хул(е|и)ган",".*м(а|о)нд(а|о)рин.*",".*р(а|о)ссл(а|о)блять.*",".*п(о|а)тр(е|и)блять.*",".*@.*\\.(ру|сом|нет)$"],t.goodWords=["дезмонда","застрахуйте","одномандатный","подстрахуй","психуй"],t.letters={a:"а",b:"в",c:"с",e:"е",f:"ф",g:"д",h:"н",i:"и",k:"к",l:"л",m:"м",n:"н",o:"о",p:"р",r:"р",s:"с",t:"т",u:"у",v:"в",x:"х",y:"у",w:"ш",z:"з","ё":"е",6:"б",9:"д"},t.containsMat=function(e){for(var i=(e=t.cleanBadSymbols(e.toLowerCase())).split(" "),n=0;n<i.length;n++){var o=t.convertEngToRus(i[n]);if((!t.isInGoodWords(o)||!t.isInGoodPatterns(o))&&t.isInBadPatterns(o))return!0}return!!t.containsMatInSpaceWords(i)},t.convertEngToRus=function(e){for(var i=0;i<e.length;i++)for(var n in t.letters)e.charAt(i)==n&&(e=e.substring(0,i)+t.letters[n]+e.substring(i+1,e.length));return e},t.cleanBadSymbols=function(t){return t.replace(/[^a-zA-Zа-яА-Яё0-9\s]/g,"")},t.isInGoodWords=function(e){for(var i=0;i<t.goodWords.length;i++)if(e==t.goodWords[i])return!0;return!1},t.isInGoodPatterns=function(e){for(var i=0;i<t.goodPatterns.length;i++){if(new RegExp(t.goodPatterns[i]).test(e))return!0}return!1},t.isInBadPatterns=function(e){for(var i=0;i<t.badPatterns.length;i++){if(new RegExp(t.badPatterns[i]).test(e))return!0}return!1},t.containsMatInSpaceWords=function(e){for(var i=t.findSpaceWords(e),n=0;n<i.length;n++){var o=t.convertEngToRus(i[n]);if(t.isInBadPatterns(o))return!0}return!1},t.findSpaceWords=function(t){for(var e=[],i="",n=0;n<t.length;n++){var o=t[n];o.length<=3?i+=o:i.length>=3&&(e.push(i),i="")}return e},t.addBadPattern=function(e){t.badPatterns.push(e)},t.addGoodPattern=function(e){t.goodPatterns.push(e)},t.addGoodWord=function(e){t.goodWords.push(e)}}(),
/*!
  документация: https://github.com/fengyuanchen/compressorjs/blob/master/README.md
 * Compressor.js v1.0.6
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-11-23T04:43:12.442Z
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Compressor=e()}(this,(function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i.apply(this,arguments)}function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?n(Object(o),!0).forEach((function(i){e(t,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var r=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){"undefined"!=typeof window&&function(e){var i=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),o=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),r=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,a=(n||r)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,i,a,l,c,d,u,h,p;if(!(e=t.match(s)))throw new Error("invalid data URI");for(i=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),a=!!e[4],l=t.slice(e[0].length),c=a?atob(l):decodeURIComponent(l),d=new ArrayBuffer(c.length),u=new Uint8Array(d),h=0;h<c.length;h+=1)u[h]=c.charCodeAt(h);return n?new Blob([o?u:d],{type:i}):((p=new r).append(d),p.getBlob(i))};e.HTMLCanvasElement&&!i.toBlob&&(i.mozGetAsFile?i.toBlob=function(t,e,n){var o=this;setTimeout((function(){n&&i.toDataURL&&a?t(a(o.toDataURL(e,n))):t(o.mozGetAsFile("blob",e))}))}:i.toDataURL&&a&&(i.toBlob=function(t,e,i){var n=this;setTimeout((function(){t(a(n.toDataURL(e,i)))}))})),t.exports?t.exports=a:e.dataURLtoBlob=a}(window)})),s={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},a="undefined"!=typeof window&&void 0!==window.document?window:{},l=Array.prototype.slice;var c=/^image\/.+$/;function d(t){return c.test(t)}var u=String.fromCharCode;var h=a.btoa;function p(t){var e,i=new DataView(t);try{var n,o,r;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var s=i.byteLength,a=2;a+1<s;){if(255===i.getUint8(a)&&225===i.getUint8(a+1)){o=a;break}a+=1}if(o){var l=o+10;if("Exif"===function(t,e,i){var n,o="";for(i+=e,n=e;n<i;n+=1)o+=u(t.getUint8(n));return o}(i,o+4,4)){var c=i.getUint16(l);if(((n=18761===c)||19789===c)&&42===i.getUint16(l+2,n)){var d=i.getUint32(l+4,n);d>=8&&(r=l+d)}}}if(r){var h,p,f=i.getUint16(r,n);for(p=0;p<f;p+=1)if(h=r+12*p+2,274===i.getUint16(h,n)){h+=8,e=i.getUint16(h,n),i.setUint16(h,1,n);break}}}catch(t){e=1}return e}var f=/\.\d*(?:0|9){12}\d*$/;function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return f.test(t)?Math.round(t*e)/e:t}var m=a.ArrayBuffer,v=a.FileReader,y=a.URL||a.webkitURL,b=/\.\w+$/,w=a.Compressor;return function(){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.file=t,this.image=new Image,this.options=o({},s,{},i),this.aborted=!1,this.result=null,this.init()}var n,c,f;return n=e,f=[{key:"noConflict",value:function(){return window.Compressor=w,e}},{key:"setDefaults",value:function(t){i(s,t)}}],(c=[{key:"init",value:function(){var t=this,e=this.file,n=this.options;if(o=e,"undefined"!=typeof Blob&&(o instanceof Blob||"[object Blob]"===Object.prototype.toString.call(o))){var o,r=e.type;if(d(r))if(y&&v)if(m||(n.checkOrientation=!1),y&&!n.checkOrientation)this.load({url:y.createObjectURL(e)});else{var s=new v,a=n.checkOrientation&&"image/jpeg"===r;this.reader=s,s.onload=function(n){var o=n.target.result,s={};if(a){var c=p(o);c>1||!y?(s.url=function(t,e){for(var i,n=[],o=new Uint8Array(t);o.length>0;)n.push(u.apply(null,(i=o.subarray(0,8192),Array.from?Array.from(i):l.call(i)))),o=o.subarray(8192);return"data:".concat(e,";base64,").concat(h(n.join("")))}(o,r),c>1&&i(s,function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(c))):s.url=y.createObjectURL(e)}else s.url=o;t.load(s)},s.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},s.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},s.onloadend=function(){t.reader=null},a?s.readAsArrayBuffer(e):s.readAsDataURL(e)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var e=this,i=this.file,n=this.image;n.onload=function(){e.draw(o({},t,{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}))},n.onabort=function(){e.fail(new Error("Aborted to load the image."))},n.onerror=function(){e.fail(new Error("Failed to load the image."))},a.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(a.navigator.userAgent)&&(n.crossOrigin="anonymous"),n.alt=i.name,n.src=t.url}},{key:"draw",value:function(t){var e=this,i=t.naturalWidth,n=t.naturalHeight,o=t.rotate,s=void 0===o?0:o,a=t.scaleX,l=void 0===a?1:a,c=t.scaleY,u=void 0===c?1:c,h=this.file,p=this.image,f=this.options,m=document.createElement("canvas"),v=m.getContext("2d"),y=i/n,b=Math.abs(s)%180==90,w=Math.max(f.maxWidth,0)||1/0,x=Math.max(f.maxHeight,0)||1/0,k=Math.max(f.minWidth,0)||0,C=Math.max(f.minHeight,0)||0,S=Math.max(f.width,0)||i,T=Math.max(f.height,0)||n;if(b){var _=[x,w];w=_[0],x=_[1];var A=[C,k];k=A[0],C=A[1];var D=[T,S];S=D[0],T=D[1]}w<1/0&&x<1/0?x*y>w?x=w/y:w=x*y:w<1/0?x=w/y:x<1/0&&(w=x*y),k>0&&C>0?C*y>k?C=k/y:k=C*y:k>0?C=k/y:C>0&&(k=C*y),T*y>S?T=S/y:S=T*y;var E=-(S=Math.floor(g(Math.min(Math.max(S,k),w))))/2,M=-(T=Math.floor(g(Math.min(Math.max(T,C),x))))/2,I=S,$=T;if(b){var L=[T,S];S=L[0],T=L[1]}m.width=S,m.height=T,d(f.mimeType)||(f.mimeType=h.type);var O="transparent";if(h.size>f.convertSize&&"image/png"===f.mimeType&&(O="#fff",f.mimeType="image/jpeg"),v.fillStyle=O,v.fillRect(0,0,S,T),f.beforeDraw&&f.beforeDraw.call(this,v,m),!this.aborted&&(v.save(),v.translate(S/2,T/2),v.rotate(s*Math.PI/180),v.scale(l,u),v.drawImage(p,E,M,I,$),v.restore(),f.drew&&f.drew.call(this,v,m),!this.aborted)){var N=function(t){e.aborted||e.done({naturalWidth:i,naturalHeight:n,result:t})};m.toBlob?m.toBlob(N,f.mimeType,f.quality):N(r(m.toDataURL(f.mimeType,f.quality)))}}},{key:"done",value:function(t){var e,i,n=t.naturalWidth,o=t.naturalHeight,r=t.result,s=this.file,a=this.image,l=this.options;if(y&&!l.checkOrientation&&y.revokeObjectURL(a.src),r)if(l.strict&&r.size>s.size&&l.mimeType===s.type&&!(l.width>n||l.height>o||l.minWidth>n||l.minHeight>o))r=s;else{var c=new Date;r.lastModified=c.getTime(),r.lastModifiedDate=c,r.name=s.name,r.name&&r.type!==s.type&&(r.name=r.name.replace(b,(e=r.type,"jpeg"===(i=d(e)?e.substr(6):"")&&(i="jpg"),".".concat(i))))}else r=s;this.result=r,l.success&&l.success.call(this,r)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&t(n.prototype,c),f&&t(n,f),e}()})),$(document).ready((function(){var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(i){var n="dropdown",o="bs.dropdown",r="."+o,s=".data-api",a=i.fn[n],l={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"tap"+r,CLICK_DATA_API:"tap"+r+s,FOCUSIN_DATA_API:"focusin"+r+s,KEYDOWN_DATA_API:"keydown"+r+s},c={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",SHOW:"active"},d={DATA_TOGGLE:"[touch]",FORM_CHILD:"[touch] ~ div, [touch] ~ ul, [touch] ~ nav",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},u=function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this._element=t,this._addEventListeners()}return n.prototype.toggle=function(){if(c.SHOW=i(this).attr("touch"),this.disabled||i(this).hasClass(c.DISABLED))return!1;var t=n._getParentFromElement(this),e=i(t).hasClass(c.SHOW);if(n._clearMenus(),e)return!1;if("ontouchstart"in document.documentElement&&!i(t).closest(d.NAVBAR_NAV).length){var o=document.createElement("div");o.className=c.BACKDROP,i(o).on("tap",n._clearMenus)}var r={relatedTarget:this},s=i.Event(l.SHOW,r);return i(t).trigger(s),s.isDefaultPrevented()||(this.focus(),this.setAttribute("aria-expanded",!0),i(t).toggleClass(c.SHOW),i(t).trigger(i.Event(l.SHOWN,r))),!1},n.prototype.dispose=function(){i.removeData(this._element,o),i(this._element).off(r),this._element=null},n.prototype._addEventListeners=function(){i(this._element).on(l.CLICK,this.toggle)},n._jQueryInterface=function(t){return this.each((function(){var e=i(this).data(o);if(e||(e=new n(this),i(this).data(o,e)),"string"==typeof t){if(void 0===e[t])throw new Error('No method named "'+t+'"');e[t].call(this)}}))},n._clearMenus=function(t){if(!t||3!==t.which){var e=i(d.BACKDROP)[0];e&&e.parentNode.removeChild(e);for(var o=i.makeArray(i(d.DATA_TOGGLE)),r=0;r<o.length;r++){var s=n._getParentFromElement(o[r]),a={relatedTarget:o[r]};if(i(s).hasClass(c.SHOW)&&!(t&&("tap"===t.type&&/input|textarea/i.test(t.target.tagName)||"focusin"===t.type)&&i.contains(s,t.target))){var u=i.Event(l.HIDE,a);i(s).trigger(u),u.isDefaultPrevented()||(o[r].setAttribute("aria-expanded","false"),i(s).removeClass(c.SHOW).trigger(i.Event(l.HIDDEN,a)))}}}},n._getParentFromElement=function(t){var n=void 0,o=e.getSelectorFromElement(t);return o&&(n=i(o)[0]),n||t.parentNode},n._dataApiKeydownHandler=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!i(this).hasClass(c.DISABLED))){var e=n._getParentFromElement(this),o=i(e).hasClass(c.SHOW);if(!o&&27!==t.which||o&&27===t.which){if(27===t.which){var r=i(e).find(d.DATA_TOGGLE)[0];i(r).trigger("focus")}i(this).trigger("tap")}else{var s=i(e).find(d.VISIBLE_ITEMS).get();if(s.length){var a=s.indexOf(t.target);38===t.which&&a>0&&a--,40===t.which&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}}},t(n,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),n}();i(document).on(l.KEYDOWN_DATA_API,d.DATA_TOGGLE,u._dataApiKeydownHandler).on(l.KEYDOWN_DATA_API,d.ROLE_MENU,u._dataApiKeydownHandler).on(l.KEYDOWN_DATA_API,d.ROLE_LISTBOX,u._dataApiKeydownHandler).on(l.CLICK_DATA_API+" "+l.FOCUSIN_DATA_API,u._clearMenus).on(l.CLICK_DATA_API,d.DATA_TOGGLE,u.prototype.toggle).on(l.CLICK_DATA_API,d.FORM_CHILD,(function(t){t.stopPropagation()})),i.fn[n]=u._jQueryInterface,i.fn[n].Constructor=u,i.fn[n].noConflict=function(){return i.fn[n]=a,u._jQueryInterface}}(jQuery);var e=function(t){var e=!1,i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};function n(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function o(e){var i=this,n=!1;return t(this).one(r.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||r.triggerTransitionEnd(i)}),e),this}var r={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(i){t(i).trigger(e.end)},supportsTransitionEnd:function(){return Boolean(e)},typeCheckConfig:function(t,e,i){for(var o in i)if(i.hasOwnProperty(o)){var r=i[o],s=e[o],a=s&&((l=s)[0]||l).nodeType?"element":n(s);if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+o+'" provided type "'+a+'" but expected type "'+r+'".')}var l}};return e=function(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in i)if(void 0!==t.style[e])return{end:i[e]};return!1}(),t.fn.emulateTransitionEnd=o,r.supportsTransitionEnd()&&(t.event.special[r.TRANSITION_END]={bindType:e.end,delegateType:e.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),r}(jQuery)})),jBox.prototype.attach=function(t,e){return t||(t=jQuery(this.options.attach.selector||this.options.attach)),e||(e=this.options.trigger),t&&t.length&&jQuery.each(t,function(t,i){(i=jQuery(i)).data("jBox-attached-"+this.id)||("title"==this.options.getContent&&null!=i.attr("title")&&i.data("jBox-getContent",i.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(i[0]),i.on(e+".jBox-attach-"+this.id,function(t){if(this.timer&&clearTimeout(this.timer),"mouseenter"!=e||!this.isOpen||this.source[0]!=i[0]){if(this.isOpen&&this.source&&this.source[0]!=i[0])var n=!0;this.source=i,!this.options.target&&(this.target=i),"click"==e&&this.options.preventDefault&&t.preventDefault(),this["click"!=e||n?"open":"toggle"]()}}.bind(this)),"mouseenter"==this.options.trigger&&i.on("mouseleave",function(t){(!this.options.closeOnMouseleave||t.relatedTarget!=this.wrapper[0]&&!jQuery(t.relatedTarget).parents("#"+this.id).length)&&this.close()}.bind(this)),i.data("jBox-attached-"+this.id,e),this.options._onAttach&&this.options._onAttach.bind(this)(i))}.bind(this)),this},jBox.prototype.detach=function(t){return t||(t=this.attachedElements||[]),t&&t.length&&jQuery.each(t,function(t,e){(e=jQuery(e)).data("jBox-attached-"+this.id)&&(e.off(e.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),e.data("jBox-attached-"+this.id,null)),this.attachedElements=jQuery.grep(this.attachedElements,(function(t){return t!=e[0]}))}.bind(this)),this},jBox.prototype.setTitle=function(t,e){var i=this.wrapper.height(),n=this.wrapper.width();return null==t||null==t||(!this.wrapper&&this._create(),this.title||(this.titleContainer=jQuery("<div/>",{class:"jBox-title"}),this.title=jQuery("<div/>").appendTo(this.titleContainer),this.wrapper.addClass("jBox-hasTitle"),("title"==this.options.closeButton||!0===this.options.closeButton&&!this.options.overlay)&&(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content)),this.title.html(t),!e&&this.options.repositionOnContent&&(i!=this.wrapper.height()||n!=this.wrapper.width())&&this.position()),this},jBox.prototype.setContent=function(t,e){if(null==t)return this;!this.wrapper&&this._create();var i=this.wrapper.height(),n=this.wrapper.width(),o=jQuery("body").height(),r=jQuery("body").width();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),jQuery.type(t)){case"string":this.content.html(t);break;case"object":this.content.html(""),t.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})}var s={x:r-jQuery("body").width(),y:o-jQuery("body").height()};return!e&&this.options.repositionOnContent&&(i!=this.wrapper.height()||n!=this.wrapper.width())&&this.position({adjustOffset:s}),this},jBox.prototype.setDimensions=function(t,e,i){!this.wrapper&&this._create(),this.content.css(t,e),(null==i||i)&&this.position()},jBox.prototype.setWidth=function(t,e){this.setDimensions("width",t,e)},jBox.prototype.setHeight=function(t,e){this.setDimensions("height",t,e)},jBox.prototype.position=function(t){if(t||(t={}),this.target=t.target||this.target||this.options.target||jQuery(window),this.dimensions={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()},"mouse"!=this.target){if("center"==this.options.position.x&&"center"==this.options.position.y)return this.wrapper.css({left:"50%",top:"50%",marginLeft:-.5*this.dimensions.x+this.options.offset.x,marginTop:-.5*this.dimensions.y+this.options.offset.y}),this;var e=this.target.offset();!this.target.data("jBox-fixed")&&this.target.data("jBox-fixed",this.target[0]==jQuery(window)[0]||"fixed"!=this.target.css("position")&&this.target.parents().filter((function(){return"fixed"==jQuery(this).css("position")})).length<=0?"static":"fixed"),"fixed"==this.target.data("jBox-fixed")&&this.options.fixed&&(e.top=e.top-jQuery(window).scrollTop(),e.left=e.left-jQuery(window).scrollLeft()),this.targetDimensions={x:this.target.outerWidth(),y:this.target.outerHeight(),top:e?e.top:0,left:e?e.left:0},this.pos={};var i=function(t){if(-1!=jQuery.inArray(this.options.position[t],["top","right","bottom","left","center"])){var e=this.options.attributes[t]="x"==t?"left":"top";return this.pos[e]=this.targetDimensions[e],"center"==this.options.position[t]?void(this.pos[e]+=Math.ceil((this.targetDimensions[t]-this.dimensions[t])/2)):(e!=this.options.position[t]&&(this.pos[e]+=this.targetDimensions[t]-this.dimensions[t]),void((this.options.outside==t||"xy"==this.options.outside)&&(this.pos[e]+=this.dimensions[t]*(e!=this.options.position[t]?1:-1))))}this.pos[this.options.attributes[t]]=this.options.position[t]}.bind(this);if(i("x"),i("y"),this.options.pointer&&"number"!=jQuery.type(this.options.position.x)&&"number"!=jQuery.type(this.options.position.y)){var n=0;if("center"===this.pointer.align)"center"!=this.options.position[this._getOpp(this.options.outside)]&&(n+=this.dimensions[this._getOpp(this.options.outside)]/2);else if("center"===this.options.position[this._getOpp(this.options.outside)])n+=(this.dimensions[this._getOpp(this.options.outside)]/2-this.pointer.dimensions[this._getOpp(this.options.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1);else n+=this.pointer.align!=this.options.position[this._getOpp(this.options.outside)]?this.dimensions[this._getOpp(this.options.outside)]*(-1!==jQuery.inArray(this.pointer.align,["top","left"])?1:-1)+this.pointer.dimensions[this._getOpp(this.options.outside)]/2*(-1!==jQuery.inArray(this.pointer.align,["top","left"])?-1:1):this.pointer.dimensions[this._getOpp(this.options.outside)]/2*(-1!==jQuery.inArray(this.pointer.align,["top","left"])?1:-1);n*=this.options.position[this._getOpp(this.options.outside)]==this.pointer.alignAttribute?-1:1,n+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),this.pos[this._getTL(this._getOpp(this.pointer.xy))]+=n}return t.adjustOffset&&t.adjustOffset.x&&(this.pos[this.options.attributes.x]+=parseInt(t.adjustOffset.x)*("left"==this.options.attributes.x?1:-1)),t.adjustOffset&&t.adjustOffset.y&&(this.pos[this.options.attributes.y]+=parseInt(t.adjustOffset.y)*("top"==this.options.attributes.y?1:-1)),this.pos[this.options.attributes.x]+=this.options.offset.x,this.pos[this.options.attributes.y]+=this.options.offset.y,this.wrapper.css(this.pos),this._adjustPosition(),this}},jBox.prototype.open=function(t){if(t||(t={}),this.isDestroyed)return!1;if(!this.wrapper&&this._create(),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var e=function(){this.source&&this.options.getTitle&&(this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle))),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)&&this.setContent(this.source.attr(this.options.getContent),!0)),this.options.onOpen.bind(this)(),this.options._onOpen&&this.options._onOpen.bind(this)(),(this.options.ajax&&this.options.ajax.url&&(!this.ajaxLoaded||this.options.ajax.reload)||t.ajax&&t.ajax.url)&&this.ajax(t.ajax||null),(!this.positionedOnOpen||this.options.repositionOnOpen)&&this.position({target:t.target})&&(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this._attachEvents(),this.options.blockScroll&&jQuery("body").addClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._addOverlay(),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),always:function(){this.isOpening=!1}.bind(this)}):this.wrapper.css({display:"block",opacity:1}))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||t.ignoreDelay?e():this.timer=setTimeout(e,this.options.delayOpen),this},jBox.prototype.close=function(t){if(t||(t={}),this.isDestroyed)return!1;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var e=function(){this.options.onClose.bind(this)(),this.options._onClose&&this.options._onClose.bind(this)(),this.isOpen&&(this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&jQuery("body").removeClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._removeOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.fade?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:this.options.fade,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this.options.onCloseComplete&&this.options.onCloseComplete.bind(this)(),this.options._onCloseComplete&&this.options._onCloseComplete.bind(this)()}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this.options._onCloseComplete&&this.options._onCloseComplete.bind(this)()))}.bind(this);return t.ignoreDelay?e():this.timer=setTimeout(e,Math.max(this.options.delayClose,10)),this},jBox.prototype.toggle=function(t){return this[this.isOpen?"close":"open"](t),this},jBox.prototype.disable=function(){return this.isDisabled=!0,this},jBox.prototype.enable=function(){return this.isDisabled=!1,this},jBox.prototype.ajax=function(t){t||(t={}),this.options.ajax.getData&&!t.data&&this.source&&null!=this.source.attr(this.options.ajax.getData)&&(t.data=this.source.attr(this.options.ajax.getData)||"");var e=jQuery.extend(!0,{},this.options.ajax);this.ajaxRequest&&this.ajaxRequest.abort();var i=t.beforeSend||e.beforeSend||function(){},n=t.complete||e.complete||function(){},o=jQuery.extend(!0,e,t);return o.beforeSend=function(){o.spinner&&(this.wrapper.addClass("jBox-loading"),this.spinner=jQuery(!0!==o.spinner?o.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container)),i.bind(this)()}.bind(this),o.complete=function(t){this.wrapper.removeClass("jBox-loading"),this.spinner&&this.spinner.remove(),o.setContent&&this.setContent(t.responseText),this.ajaxLoaded=!0,n.bind(this)(t)}.bind(this),this.ajaxRequest=jQuery.ajax(o),this},jBox.prototype.audio=function(t){if(t||(t={}),jBox._audio||(jBox._audio={}),!t.url||this.IE8)return this;if(!jBox._audio[t.url]){var e=jQuery("<audio/>");jQuery("<source/>",{src:t.url+".mp3"}).appendTo(e),jQuery("<source/>",{src:t.url+".ogg"}).appendTo(e),jBox._audio[t.url]=e[0]}jBox._audio[t.url].volume=Math.min(null!=t.volume?t.volume:(null!=this.options.volume?this.options.volume:100)/100,1),jBox._audio[t.url].pause();try{jBox._audio[t.url].currentTime=0}catch(t){}return jBox._audio[t.url].play(),this},jBox.prototype.destroy=function(){return this.detach().close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.isDestroyed=!0,this},jBox._getUniqueID=function(){var t=1;return function(){return t++}}(),jQuery.fn.jBox=function(t,e){return t||(t={}),e||(e={}),new jBox(t,jQuery.extend(e,{attach:this}))},Function.prototype.bind||(Function.prototype.bind=function(t){var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o}),function(t){var e=function(t){return t.split("").reverse().join("")},i={numberStep:function(e,i){var n=Math.floor(e);t(i.elem).text(n)}},n=function(t){var e=t.elem;e.nodeType&&e.parentNode&&((e=e._animateNumberSetter)||(e=i.numberStep),e(t.now,t))};t.Tween&&t.Tween.propHooks?t.Tween.propHooks.number={set:n}:t.fx.step.number=n,t.animateNumber={numberStepFactories:{append:function(e){return function(i,n){var o=Math.floor(i);t(n.elem).prop("number",i).text(o+e)}},separator:function(i,n,o){return i=i||" ",n=n||3,o=o||"",function(r,s){var a=0>r,l=Math.floor((a?-1:1)*r).toString(),c=t(s.elem);if(l.length>n){for(var d,u,h,p=l,f=n,g=p.split("").reverse(),m=(l=[],0),v=Math.ceil(p.length/f);m<v;m++){for(d="",h=0;h<f&&(u=m*f+h)!==p.length;h++)d+=g[u];l.push(d)}p=l.length-1,f=e(l[p]),l[p]=e(parseInt(f,10).toString()),l=l.join(i),l=e(l)}c.prop("number",r).text((a?"-":"")+l+o)}}}},t.fn.animateNumber=function(){for(var e=arguments[0],n=t.extend({},i,e),o=t(this),r=[n],s=1,a=arguments.length;s<a;s++)r.push(arguments[s]);if(e.numberStep){var l=this.each((function(){this._animateNumberSetter=e.numberStep})),c=n.complete;n.complete=function(){l.each((function(){delete this._animateNumberSetter})),c&&c.apply(this,arguments)}}return o.animate.apply(o,r)}}(jQuery),
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){var e=/\+/g;function i(t){return r.raw?t:encodeURIComponent(t)}function n(t){return i(r.json?JSON.stringify(t):String(t))}function o(i,n){var o=r.raw?i:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(e," ")),r.json?JSON.parse(t):t}catch(t){}}(i);return t.isFunction(n)?n(o):o}var r=t.cookie=function(e,s,a){if(arguments.length>1&&!t.isFunction(s)){if("number"==typeof(a=t.extend({},r.defaults,a)).expires){var l=a.expires,c=a.expires=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*l)}return document.cookie=[i(e),"=",n(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var d,u=e?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;p<f;p++){var g=h[p].split("="),m=(d=g.shift(),r.raw?d:decodeURIComponent(d)),v=g.join("=");if(e===m){u=o(v,s);break}e||void 0===(v=o(v))||(u[m]=v)}return u};r.defaults={},t.removeCookie=function(e,i){return t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e)}})),function(t){"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e)})):"object"==typeof module&&"object"==typeof module.exports?exports=t(require("jquery")):t(jQuery)}((function(t){function e(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var i=Math.pow,n=Math.sqrt,o=Math.sin,r=Math.cos,s=Math.PI,a=1.70158,l=1.525*a,c=2*s/3,d=2*s/4.5;t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-i(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-i(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-i(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-i(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-i(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-i(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-i(-2*t+2,5)/2},easeInSine:function(t){return 1-r(t*s/2)},easeOutSine:function(t){return o(t*s/2)},easeInOutSine:function(t){return-(r(s*t)-1)/2},easeInExpo:function(t){return 0===t?0:i(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-i(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?i(2,20*t-10)/2:(2-i(2,-20*t+10))/2},easeInCirc:function(t){return 1-n(1-i(t,2))},easeOutCirc:function(t){return n(1-i(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-n(1-i(2*t,2)))/2:(n(1-i(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-i(2,10*t-10)*o((10*t-10.75)*c)},easeOutElastic:function(t){return 0===t?0:1===t?1:i(2,-10*t)*o((10*t-.75)*c)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-i(2,20*t-10)*o((20*t-11.125)*d)/2:i(2,-20*t+10)*o((20*t-11.125)*d)/2+1},easeInBack:function(t){return(a+1)*t*t*t-a*t*t},easeOutBack:function(t){return 1+(a+1)*i(t-1,3)+a*i(t-1,2)},easeInOutBack:function(t){return t<.5?i(2*t,2)*(7.189819*t-l)/2:(i(2*t-2,2)*((l+1)*(2*t-2)+l)+2)/2},easeInBounce:function(t){return 1-e(1-t)},easeOutBounce:e,easeInOutBounce:function(t){return t<.5?(1-e(1-2*t))/2:(1+e(2*t-1))/2}})})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}((function(t){var e,i=navigator.userAgent,n=/iphone/i.test(i),o=/chrome/i.test(i),r=/android/i.test(i);t.mask={definitions:{"^":"[0-9/-_]","&":"[A-Za-zА-Яа-яЁ]","*":"[A-Za-zА-Яа-яёЁ0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var i;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof t?(e="number"==typeof e?e:t,this.each((function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())}))):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(i,s){var a,l,c,d,u,h,p;if(!i&&this.length>0){var f=t(this[0]).data(t.mask.dataName);return f?f():void 0}return s=t.extend({autoclear:t.mask.autoclear,placeholder:t.mask.placeholder,completed:null},s),a=t.mask.definitions,l=[],c=h=i.length,d=null,i=String(i),t.each(i.split(""),(function(t,e){"?"==e?(h--,c=t):a[e]?(l.push(new RegExp(a[e])),null===d&&(d=l.length-1),t<c&&(u=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){var f=t(this),g=t.map(i.split(""),(function(t,e){if("?"!=t)return a[t]?b(e):t})),m=g.join(""),v=f.val();function y(){if(s.completed){for(var t=d;t<=u;t++)if(l[t]&&g[t]===b(t))return;s.completed.call(f)}}function b(t){return t<s.placeholder.length?s.placeholder.charAt(t):s.placeholder.charAt(0)}function w(t){for(;++t<h&&!l[t];);return t}function x(t,e){var i,n;if(!(t<0)){for(i=t,n=w(e);i<h;i++)if(l[i]){if(!(n<h&&l[i].test(g[n])))break;g[i]=g[n],g[n]=b(n),n=w(n)}S(),f.caret(Math.max(d,t))}}function k(t){T(),f.val()!=v&&f.change()}function C(t,e){var i;for(i=t;i<e&&i<h;i++)l[i]&&(g[i]=b(i))}function S(){f.val(g.join(""))}function T(t){var e,i,n,o=f.val(),r=-1;for(e=0,n=0;e<h;e++)if(l[e]){for(g[e]=b(e);n++<o.length;)if(i=o.charAt(n-1),l[e].test(i)){g[e]=i,r=e;break}if(n>o.length){C(e+1,h);break}}else g[e]===o.charAt(n)&&n++,e<c&&(r=e);return t?S():r+1<c?s.autoclear||g.join("")===m?(f.val()&&f.val(""),C(0,h)):S():(S(),f.val(f.val().substring(0,r+1))),c?e:d}f.data(t.mask.dataName,(function(){return t.map(g,(function(t,e){return l[e]&&t!=b(e)?t:null})).join("")})),f.one("unmask",(function(){f.off(".mask").removeData(t.mask.dataName)})).on("focus.mask",(function(){var t;f.prop("readonly")||(clearTimeout(e),v=f.val(),t=T(),e=setTimeout((function(){f.get(0)===document.activeElement&&(S(),t==i.replace("?","").length?f.caret(0,t):f.caret(t))}),10))})).on("blur.mask",k).on("keydown.mask",(function(t){if(!f.prop("readonly")){var e,i,o,r=t.which||t.keyCode;p=f.val(),8===r||46===r||n&&127===r?(i=(e=f.caret()).begin,(o=e.end)-i==0&&(i=46!==r?function(t){for(;--t>=0&&!l[t];);return t}(i):o=w(i-1),o=46===r?w(o):o),C(i,o),x(i,o-1),t.preventDefault()):13===r?k.call(this,t):27===r&&(f.val(v),f.caret(0,T()),t.preventDefault())}})).on("keypress.mask",(function(e){if(!f.prop("readonly")){var i,n,o,s=e.which||e.keyCode,a=f.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||s<32)&&s&&13!==s){if(a.end-a.begin!=0&&(C(a.begin,a.end),x(a.begin,a.end-1)),(i=w(a.begin-1))<h&&(n=String.fromCharCode(s),l[i].test(n))){if(function(t){var e,i,n,o;for(e=t,i=b(t);e<h;e++)if(l[e]){if(n=w(e),o=g[e],g[e]=i,!(n<h&&l[n].test(o)))break;i=o}}(i),g[i]=n,S(),o=w(i),r){setTimeout((function(){t.proxy(t.fn.caret,f,o)()}),0)}else f.caret(o);a.begin<=u&&y()}e.preventDefault()}}})).on("input.mask paste.mask",(function(){f.prop("readonly")||setTimeout((function(){var t=T(!0);f.caret(t),y()}),0)})),o&&r&&f.off("input.mask").on("input.mask",(function(t){var e=f.val(),i=f.caret();if(p&&p.length&&p.length>e.length){for(T(!0);i.begin>0&&!l[i.begin-1];)i.begin--;if(0===i.begin)for(;i.begin<d&&!l[i.begin];)i.begin++;f.caret(i.begin,i.begin)}else{T(!0);var n=e.charAt(i.begin);i.begin<h&&(l[i.begin]||i.begin++,l[i.begin].test(n)&&i.begin++),f.caret(i.begin,i.begin)}y()})),T()}))}})})),
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}((function(t){var e,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice;if(t.event.fixHooks)for(var s=n.length;s;)t.event.fixHooks[n[--s]]=t.event.mouseHooks;var a=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",a.getLineHeight(this)),t.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var o,s=n||window.event,l=r.call(arguments,1),u=0,h=0,p=0,f=0,g=0;if((n=t.event.fix(s)).type="mousewheel","detail"in s&&(p=-1*s.detail),"wheelDelta"in s&&(p=s.wheelDelta),"wheelDeltaY"in s&&(p=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*p,p=0),u=0===p?h:p,"deltaY"in s&&(u=p=-1*s.deltaY),"deltaX"in s&&(h=s.deltaX,0===p&&(u=-1*h)),0!==p||0!==h){if(1===s.deltaMode){var m=t.data(this,"mousewheel-line-height");u*=m,p*=m,h*=m}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");u*=v,p*=v,h*=v}if(o=Math.max(Math.abs(p),Math.abs(h)),(!i||o<i)&&(i=o,d(s,o)&&(i/=40)),d(s,o)&&(u/=40,h/=40,p/=40),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),p=Math[p>=1?"floor":"ceil"](p/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=n.clientX-y.left,g=n.clientY-y.top}return n.deltaX=h,n.deltaY=p,n.deltaFactor=i,n.offsetX=f,n.offsetY=g,n.deltaMode=0,l.unshift(n,u,h,p),e&&clearTimeout(e),e=setTimeout(c,200),(t.event.dispatch||t.event.handle).apply(this,l)}}function c(){i=null}function d(t,e){return a.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})),function(t){"use strict";function e(t,e){if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveStart("character",t),i.moveEnd("character",e-t),i.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(t,e))}function i(t){var e=this.value.length;if(t="start"==t.toLowerCase()?"Start":"End",document.selection){var i,n,o,r=document.selection.createRange();return(i=r.duplicate()).expand("textedit"),i.setEndPoint("EndToEnd",r),o=(n=i.text.length-r.text.length)+r.text.length,"Start"==t?n:o}return void 0!==this["selection"+t]&&(e=this["selection"+t]),e}var n={codes:{46:127,188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};t.fn.number=function(o,r,s,a){a=void 0===a?",":a,r=void 0===r?0:r;var l="\\u"+("0000"+(s=void 0===s?".":s).charCodeAt(0).toString(16)).slice(-4),c=new RegExp("[^"+l+"0-9]","g"),d=new RegExp(l,"g");return!0===o?this.is("input:text")?this.on({"keydown.format":function(o){var l=t(this),c=l.data("numFormat"),d=o.keyCode?o.keyCode:o.which,u="",h=i.apply(this,["start"]),p=i.apply(this,["end"]),f="",g=!1;if(n.codes.hasOwnProperty(d)&&(d=n.codes[d]),!o.shiftKey&&d>=65&&90>=d?d+=32:!o.shiftKey&&d>=69&&105>=d?d-=48:o.shiftKey&&n.shifts.hasOwnProperty(d)&&(u=n.shifts[d]),""==u&&(u=String.fromCharCode(d)),8!=d&&45!=d&&127!=d&&u!=s&&!u.match(/[0-9]/)){var m=o.keyCode?o.keyCode:o.which;if(46==m||8==m||127==m||9==m||27==m||13==m||(65==m||82==m||80==m||83==m||70==m||72==m||66==m||74==m||84==m||90==m||61==m||173==m||48==m)&&!0===(o.ctrlKey||o.metaKey)||(86==m||67==m||88==m)&&!0===(o.ctrlKey||o.metaKey)||m>=35&&39>=m||m>=112&&123>=m)return;return o.preventDefault(),!1}if(0==h&&p==this.value.length?8==d?(h=p=1,this.value="",c.init=r>0?-1:0,c.c=r>0?-(r+1):0,e.apply(this,[0,0])):u==s?(h=p=1,this.value="0"+s+new Array(r+1).join("0"),c.init=r>0?1:0,c.c=r>0?-(r+1):0):45==d?(h=p=2,this.value="-0"+s+new Array(r+1).join("0"),c.init=r>0?1:0,c.c=r>0?-(r+1):0,e.apply(this,[2,2])):(c.init=r>0?-1:0,c.c=r>0?-r:0):c.c=p-this.value.length,c.isPartialSelection=h!=p,r>0&&u==s&&h==this.value.length-r-1)c.c++,c.init=Math.max(0,c.init),o.preventDefault(),g=this.value.length+c.c;else if(45!=d||0==h&&0!=this.value.indexOf("-"))if(u==s)c.init=Math.max(0,c.init),o.preventDefault();else if(r>0&&127==d&&h==this.value.length-r-1)o.preventDefault();else if(r>0&&8==d&&h==this.value.length-r)o.preventDefault(),c.c--,g=this.value.length+c.c;else if(r>0&&127==d&&h>this.value.length-r-1){if(""===this.value)return;"0"!=this.value.slice(h,h+1)&&(f=this.value.slice(0,h)+"0"+this.value.slice(h+1),l.val(f)),o.preventDefault(),g=this.value.length+c.c}else if(r>0&&8==d&&h>this.value.length-r){if(""===this.value)return;"0"!=this.value.slice(h-1,h)&&(f=this.value.slice(0,h-1)+"0"+this.value.slice(h),l.val(f)),o.preventDefault(),c.c--,g=this.value.length+c.c}else 127==d&&this.value.slice(h,h+1)==a?o.preventDefault():8==d&&this.value.slice(h-1,h)==a?(o.preventDefault(),c.c--,g=this.value.length+c.c):r>0&&h==p&&this.value.length>r+1&&h>this.value.length-r-1&&isFinite(+u)&&!o.metaKey&&!o.ctrlKey&&!o.altKey&&1===u.length&&(f=p===this.value.length?this.value.slice(0,h-1):this.value.slice(0,h)+this.value.slice(h+1),this.value=f,g=h);else o.preventDefault();!1!==g&&e.apply(this,[g,g]),l.data("numFormat",c)},"keyup.format":function(n){var o,s=t(this),a=s.data("numFormat"),l=n.keyCode?n.keyCode:n.which,c=i.apply(this,["start"]),d=i.apply(this,["end"]);0!==c||0!==d||189!==l&&109!==l||(s.val("-"+s.val()),c=1,a.c=1-this.value.length,a.init=1,s.data("numFormat",a),o=this.value.length+a.c,e.apply(this,[o,o])),""===this.value||(48>l||l>57)&&(96>l||l>105)&&8!==l&&46!==l&&110!==l||(s.val(s.val()),r>0&&(a.init<1?(c=this.value.length-r-(a.init<0?1:0),a.c=c-this.value.length,a.init=1,s.data("numFormat",a)):c>this.value.length-r&&8!=l&&(a.c++,s.data("numFormat",a))),46!=l||a.isPartialSelection||(a.c++,s.data("numFormat",a)),o=this.value.length+a.c,e.apply(this,[o,o]))},"paste.format":function(e){var i=t(this),n=e.originalEvent,o=null;return window.clipboardData&&window.clipboardData.getData?o=window.clipboardData.getData("Text"):n.clipboardData&&n.clipboardData.getData&&(o=n.clipboardData.getData("text/plain")),i.val(o),e.preventDefault(),!1}}).each((function(){var e=t(this).data("numFormat",{c:-(r+1),decimals:r,thousands_sep:a,dec_point:s,regex_dec_num:c,regex_dec:d,init:!!this.value.indexOf(".")});""!==this.value&&e.val(e.val())})):this.each((function(){var e=t(this),i=+e.text().replace(c,"").replace(d,".");e.number(isFinite(i)?+i:0,r,s,a)})):this.text(t.number.apply(window,arguments))};var o=null,r=null;t.isPlainObject(t.valHooks.text)?(t.isFunction(t.valHooks.text.get)&&(o=t.valHooks.text.get),t.isFunction(t.valHooks.text.set)&&(r=t.valHooks.text.set)):t.valHooks.text={},t.valHooks.text.get=function(e){var i,n=t(e).data("numFormat");return n?""===e.value?"":(i=+e.value.replace(n.regex_dec_num,"").replace(n.regex_dec,"."),(0===e.value.indexOf("-")?"-":"")+(isFinite(i)?i:0)):t.isFunction(o)?o(e):void 0},t.valHooks.text.set=function(e,i){var n=t(e).data("numFormat");if(n){var o=t.number(i,n.decimals,n.dec_point,n.thousands_sep);return t.isFunction(r)?r(e,o):e.value=o}return t.isFunction(r)?r(e,i):void 0},t.number=function(t,e,i,n){n=void 0===n?"1000"!==new Number(1e3).toLocaleString()?new Number(1e3).toLocaleString().charAt(1):"":n,i=void 0===i?new Number(.1).toLocaleString().charAt(1):i,e=isFinite(+e)?Math.abs(e):0;var o="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),r="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4);t=(t+"").replace(".",i).replace(new RegExp(r,"g"),"").replace(new RegExp(o,"g"),".").replace(new RegExp("[^0-9+-Ee.]","g"),"");var s=isFinite(+t)?+t:0,a="";return a=(e?function(t,e){return""+ +(Math.round((""+t).indexOf("e")>0?t:t+"e+"+e)+"e-"+e)}(s,e):""+Math.round(s)).split("."),a[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)),(a[1]||"").length<e&&(a[1]=a[1]||"",a[1]+=new Array(e-a[1].length+1).join("0")),a.join(i)}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define([],e):"undefined"!=typeof module&&module.exports?module.exports=e():t.lscache=e()}(this,(function(){var t,e,i="lscache-",n="-cacheexpiration",o=6e4,r=w(o),s="",a=!1;function l(){var e="__lscachetest__",i=e;if(void 0!==t)return t;try{if(!localStorage)return!1}catch(t){return!1}try{f(e,i),g(e),t=!0}catch(e){t=!(!c(e)||!localStorage.length)}return t}function c(t){return t&&("QUOTA_EXCEEDED_ERR"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name||"QuotaExceededError"===t.name)}function d(){return void 0===e&&(e=null!=window.JSON),e}function u(t){return t+n}function h(){return Math.floor((new Date).getTime()/o)}function p(t){return localStorage.getItem(i+s+t)}function f(t,e){localStorage.removeItem(i+s+t),localStorage.setItem(i+s+t,e)}function g(t){localStorage.removeItem(i+s+t)}function m(t){for(var e=new RegExp("^"+i+function(t){return t.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")}(s)+"(.*)"),o=localStorage.length-1;o>=0;--o){var r=localStorage.key(o);(r=(r=r&&r.match(e))&&r[1])&&r.indexOf(n)<0&&t(r,u(r))}}function v(t){var e=u(t);g(t),g(e)}function y(t){var e=u(t),i=p(e);if(i){var n=parseInt(i,10);if(h()>=n)return g(t),g(e),!0}}function b(t,e){a&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+t),e&&window.console.warn("lscache - The error was: "+e.message))}function w(t){return Math.floor(864e13/t)}return{set:function(t,e,i){if(!l())return!1;if(!d())return!1;try{e=JSON.stringify(e)}catch(t){return!1}try{f(t,e)}catch(i){if(!c(i))return b("Could not add item with key '"+t+"'",i),!1;var n,o=[];m((function(t,e){var i=p(e);i=i?parseInt(i,10):r,o.push({key:t,size:(p(t)||"").length,expiration:i})})),o.sort((function(t,e){return e.expiration-t.expiration}));for(var s=(e||"").length;o.length&&s>0;)n=o.pop(),b("Cache is full, removing item with key '"+t+"'"),v(n.key),s-=n.size;try{f(t,e)}catch(e){return b("Could not add item with key '"+t+"', perhaps it's too big?",e),!1}}return i?f(u(t),(h()+i).toString(10)):g(u(t)),!0},get:function(t){if(!l())return null;if(y(t))return null;var e=p(t);if(!e||!d())return e;try{return JSON.parse(e)}catch(t){return e}},remove:function(t){l()&&v(t)},supported:function(){return l()},flush:function(){l()&&m((function(t){v(t)}))},flushExpired:function(){l()&&m((function(t){y(t)}))},setBucket:function(t){s=t},resetBucket:function(){s=""},getExpiryMilliseconds:function(){return o},setExpiryMilliseconds:function(t){r=w(o=t)},enableWarnings:function(t){a=t}}})),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,(function(){function t(t,e){this.items=t,this.settings=e||{diacritics:!0}}t.prototype.tokenize=function(t){if(!(t=o(String(t||"").toLowerCase()))||!t.length)return[];for(var e,i,n=[],s=t.split(/ +/),l=0,c=s.length;l<c;l++){if(e=r(s[l]),this.settings.diacritics)for(i in a)a.hasOwnProperty(i)&&(e=e.replace(new RegExp(i,"g"),a[i]));n.push({string:s[l],regex:new RegExp(e,"i")})}return n},t.prototype.iterator=function(t,e){var i=s(t)?Array.prototype.forEach||function(t){for(var e=0,i=this.length;e<i;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)};i.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var i,o,r,s;function a(t,e){var i;return t&&-1!==(i=(t=String(t||"")).search(e.regex))?(t=e.string.length/t.length,0===i&&(t+=.5),t):0}t=this.prepareSearch(t,e),o=t.tokens,i=t.options.fields,r=o.length,s=t.options.nesting;var l,c=(l=i.length)?1===l?function(t,e){return a(n(e,i[0],s),t)}:function(t,e){for(var o=0,r=0;o<l;o++)r+=a(n(e,i[o],s),t);return r/l}:function(){return 0};return r?1===r?function(t){return c(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,i=0,n=0;i<r;i++){if((e=c(o[i],t))<=0)return 0;n+=e}return n/r}:function(t){for(var e=0,i=0;e<r;e++)i+=c(o[e],t);return i/r}:function(){return 0}},t.prototype.getSortFunction=function(t,i){var o,r,s,a,l,c,d,u=this,h=!(t=u.prepareSearch(t,i)).query&&i.sort_empty||i.sort,p=function(t,e){return"$score"===t?e.score:n(u.items[e.id],t,i.nesting)},f=[];if(h)for(o=0,r=h.length;o<r;o++)!t.query&&"$score"===h[o].field||f.push(h[o]);if(t.query){for(d=!0,o=0,r=f.length;o<r;o++)if("$score"===f[o].field){d=!1;break}d&&f.unshift({field:"$score",direction:"desc"})}else for(o=0,r=f.length;o<r;o++)if("$score"===f[o].field){f.splice(o,1);break}for(c=[],o=0,r=f.length;o<r;o++)c.push("desc"===f[o].direction?-1:1);return(a=f.length)?1===a?(s=f[0].field,l=c[0],function(t,i){return l*e(p(s,t),p(s,i))}):function(t,i){for(var n,o=0;o<a;o++)if(n=f[o].field,n=c[o]*e(p(n,t),p(n,i)))return n;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var n=(e=i({},e)).fields,o=e.sort,r=e.sort_empty;return n&&!s(n)&&(e.fields=[n]),o&&!s(o)&&(e.sort=[o]),r&&!s(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var i,n,o=this.prepareSearch(t,e);return e=o.options,t=o.query,n=e.score||this.getScoreFunction(o),t.length?this.iterator(this.items,(function(t,r){i=n(t),(!1===e.filter||0<i)&&o.items.push({score:i,id:r})})):this.iterator(this.items,(function(t,e){o.items.push({score:1,id:e})})),(t=this.getSortFunction(o,e))&&o.items.sort(t),o.total=o.items.length,"number"==typeof e.limit&&(o.items=o.items.slice(0,e.limit)),o};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?e<t?1:t<e?-1:0:(t=l(String(t||"")),(e=l(String(e||"")))<t?1:t<e?-1:0)},i=function(t,e){for(var i,n,o=1,r=arguments.length;o<r;o++)if(n=arguments[o])for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},n=function(t,e,i){if(t&&e){if(!i)return t[e];for(var n=e.split(".");n.length&&(t=t[n.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var t,e,i,n,o="",r={};for(i in a)if(a.hasOwnProperty(i))for(o+=n=a[i].substring(2,a[i].length-1),t=0,e=n.length;t<e;t++)r[n.charAt(t)]=i;var s=new RegExp("["+o+"]","g");return function(t){return t.replace(s,(function(t){return r[t]})).toLowerCase()}}();return t})),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,(function(){var t={mixin:function(t){t.plugins={},t.prototype.initializePlugins=function(t){var i,n,o,r=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(i=0,n=t.length;i<n;i++)"string"==typeof t[i]?r.push(t[i]):(this.plugins.settings[t[i].name]=t[i].options,r.push(t[i].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(this.plugins.settings[o]=t[o],r.push(o));for(;r.length;)this.require(r.shift())},t.prototype.loadPlugin=function(e){var i=this.plugins,n=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=n.fn.apply(this,[this.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},t.define=function(e,i){t.plugins[e]={name:e,fn:i}}}},e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t})),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,(function(t,e,i){"use strict";function n(){}function o(t){return void 0!==t}function r(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""}function s(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function a(t,e,i){var n,o=t.trigger,r={};for(n in t.trigger=function(){var i=arguments[0];if(-1===e.indexOf(i))return o.apply(t,arguments);r[i]=arguments},i.apply(t,[]),t.trigger=o,r)r.hasOwnProperty(n)&&o.apply(t,r[n])}function l(t){var e,i,n={};return void 0===t?console.warn("WARN getSelection cannot locate input control"):"selectionStart"in t?(n.start=t.selectionStart,n.length=t.selectionEnd-n.start):document.selection&&(t.focus(),e=document.selection.createRange(),i=document.selection.createRange().text.length,e.moveStart("character",-t.value.length),n.start=e.text.length-i,n.length=i),n}function c(e){function i(i,o){var r,s,a,c,d,u;o=o||{},(i=i||window.event||{}).metaKey||i.altKey||!o.force&&!1===e.data("grow")||(s=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(a=48<=(r=i.keyCode)&&r<=57||65<=r&&r<=90||96<=r&&r<=111||186<=r&&r<=222||32===r,46===r||8===r?(o=l(e[0])).length?s=s.substring(0,o.start)+s.substring(o.start+o.length):8===r&&o.start?s=s.substring(0,o.start-1)+s.substring(o.start+1):46===r&&void 0!==o.start&&(s=s.substring(0,o.start)+s.substring(o.start+1)):a&&(a=i.shiftKey,c=String.fromCharCode(i.keyCode),s+=c=a?c.toUpperCase():c.toLowerCase())),c=e.attr("placeholder"),d=s=!s&&c?c:s,u=e,(s=(d?(m.$testInput||(m.$testInput=t("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),t("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(m.$testInput).appendTo("body")),m.$testInput.text(d),function(t,e,i){var n,o,r={};if(i)for(n=0,o=i.length;n<o;n++)r[i[n]]=t.css(i[n]);else r=t.css();e.css(r)}(u,m.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),m.$testInput.width()):0)+4)!==n&&(n=s,e.width(s),e.triggerHandler("resize")))}var n=null;e.on("keydown keyup update blur",i),i()}t.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()})).end()},n.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(t){for(var e=["on","off","trigger"],i=0;i<e.length;i++)t.prototype[e[i]]=n.prototype[e[i]]};var d,u=/Mac/.test(navigator.userAgent),h=u?91:17,p=u?18:17,f=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,g=function(t,e,i){var n=t[e];t[e]=function(){var e=n.apply(t,arguments);return i.apply(t,arguments),e}},m=function(i,n){var o,r,s=i[0];s.selectize=this;var a,l,c,d=window.getComputedStyle&&window.getComputedStyle(s,null);if(d=(d=d?d.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction)||i.parents("[dir]:first").attr("dir")||"",t.extend(this,{order:0,settings:n,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(d),eventNS:".selectize"+ ++m.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?this.onSearchChange:(a=this.onSearchChange,l=n.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(c),c=window.setTimeout((function(){a.apply(t,e)}),l)})}),this.sifter=new e(this.options,{diacritics:n.diacritics}),this.settings.options){for(o=0,r=this.settings.options.length;o<r;o++)this.registerOption(this.settings.options[o]);delete this.settings.options}if(this.settings.optgroups){for(o=0,r=this.settings.optgroups.length;o<r;o++)this.registerOptionGroup(this.settings.optgroups[o]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return n.mixin(m),void 0!==i?i.mixin(m):(d=(d={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||{},console.error("Selectize: Dependency MicroPlugin is missing"),d.explanation&&(console.group&&console.group(),console.error(d.explanation),console.group&&console.groupEnd())),t.extend(m.prototype,{setup:function(){var e,i,n,o=this,r=o.settings,s=o.eventNS,a=t(window),l=t(document),d=o.$input,g=o.settings.mode,m=d.attr("class")||"",v=t("<div>").addClass(r.wrapperClass).addClass(m).addClass(g),y=t("<div>").addClass(r.inputClass).addClass("items").appendTo(v),b=t('<input type="text" autocomplete="new-password" autofill="no" />').appendTo(y).attr("tabindex",d.is(":disabled")?"-1":o.tabIndex),w=t(r.dropdownParent||v),x=t("<div>").addClass(r.dropdownClass).addClass(g).hide().appendTo(w);g=t("<div>").addClass(r.dropdownContentClass).attr("tabindex","-1").appendTo(x);(w=d.attr("id"))&&(b.attr("id",w+"-selectized"),t("label[for='"+w+"']").attr("for",w+"-selectized")),o.settings.copyClassesToDropdown&&x.addClass(m),v.css({width:d[0].style.width}),o.plugins.names.length&&(e="plugin-"+o.plugins.names.join(" plugin-"),v.addClass(e),x.addClass(e)),(null===r.maxItems||1<r.maxItems)&&1===o.tagType&&d.attr("multiple","multiple"),o.settings.placeholder&&b.attr("placeholder",r.placeholder),!o.settings.splitOn&&o.settings.delimiter&&(e=o.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),o.settings.splitOn=new RegExp("\\s*"+e+"+\\s*")),d.attr("autocorrect")&&b.attr("autocorrect",d.attr("autocorrect")),d.attr("autocapitalize")&&b.attr("autocapitalize",d.attr("autocapitalize")),b[0].type=d[0].type,o.$wrapper=v,o.$control=y,o.$control_input=b,o.$dropdown=x,o.$dropdown_content=g,x.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",(function(t){t.stopImmediatePropagation()})),x.on("mouseenter","[data-selectable]",(function(){return o.onOptionHover.apply(o,arguments)})),x.on("mousedown click","[data-selectable]",(function(){return o.onOptionSelect.apply(o,arguments)})),g="mousedown",x="*:not(input)",n=function(){return o.onItemSelect.apply(o,arguments)},(i=y).on(g,x,(function(t){for(var e=t.target;e&&e.parentNode!==i[0];)e=e.parentNode;return t.currentTarget=e,n.apply(this,[t])})),c(b),y.on({mousedown:function(){return o.onMouseDown.apply(o,arguments)},click:function(){return o.onClick.apply(o,arguments)}}),b.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return o.onKeyDown.apply(o,arguments)},keyup:function(){return o.onKeyUp.apply(o,arguments)},keypress:function(){return o.onKeyPress.apply(o,arguments)},resize:function(){o.positionDropdown.apply(o,[])},blur:function(){return o.onBlur.apply(o,arguments)},focus:function(){return o.ignoreBlur=!1,o.onFocus.apply(o,arguments)},paste:function(){return o.onPaste.apply(o,arguments)}}),l.on("keydown"+s,(function(t){o.isCmdDown=t[u?"metaKey":"ctrlKey"],o.isCtrlDown=t[u?"altKey":"ctrlKey"],o.isShiftDown=t.shiftKey})),l.on("keyup"+s,(function(t){t.keyCode===p&&(o.isCtrlDown=!1),16===t.keyCode&&(o.isShiftDown=!1),t.keyCode===h&&(o.isCmdDown=!1)})),l.on("mousedown"+s,(function(t){if(o.isFocused){if(t.target===o.$dropdown[0]||t.target.parentNode===o.$dropdown[0])return!1;o.$control.has(t.target).length||t.target===o.$control[0]||o.blur(t.target)}})),a.on(["scroll"+s,"resize"+s].join(" "),(function(){o.isOpen&&o.positionDropdown.apply(o,arguments)})),a.on("mousemove"+s,(function(){o.ignoreHover=!1})),this.revertSettings={$children:d.children().detach(),tabindex:d.attr("tabindex")},d.attr("tabindex",-1).hide().after(o.$wrapper),t.isArray(r.items)&&(o.lastValidValue=r.items,o.setValue(r.items),delete r.items),f&&d.on("invalid"+s,(function(t){t.preventDefault(),o.isInvalid=!0,o.refreshState()})),o.updateOriginalInput(),o.refreshItems(),o.refreshState(),o.updatePlaceholder(),o.isSetup=!0,d.is(":disabled")&&o.disable(),o.on("change",this.onChange),d.data("selectize",o),d.addClass("selectized"),o.trigger("initialize"),!0===r.preload&&o.onSearchChange("")},setupTemplates:function(){var e=this.settings.labelField,i=this.settings.optgroupLabelField,n={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,i){return'<div class="option">'+i(t[e])+"</div>"},item:function(t,i){return'<div class="item">'+i(t[e])+"</div>"},option_create:function(t,e){return'<div class="create">Добавить <strong>'+e(t.input)+"</strong>&hellip;</div>"}};this.settings.render=t.extend({},n,this.settings.render)},setupCallbacks:function(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(t in i)i.hasOwnProperty(t)&&(e=this.settings[i[t]])&&this.on(t,e)},onClick:function(t){this.isFocused&&this.isOpen||(this.focus(),t.preventDefault())},onMouseDown:function(e){var i=this,n=e.isDefaultPrevented();if(t(e.target),i.isFocused){if(e.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():n||i.setActiveItem(null),!1}else n||window.setTimeout((function(){i.focus()}),0)},onChange:function(){""!==this.getValue()&&(this.lastValidValue=this.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(e){var i=this;i.isFull()||i.isInputHidden||i.isLocked?e.preventDefault():i.settings.splitOn&&setTimeout((function(){var e=i.$control_input.val();if(e.match(i.settings.splitOn))for(var n=t.trim(e).split(i.settings.splitOn),o=0,r=n.length;o<r;o++)i.createItem(n[o])}),0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e;if(t.target,this.$control_input[0],this.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(t.preventDefault(),t.stopPropagation(),this.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:return!this.isOpen&&this.hasOptions?this.open():this.$activeOption&&(this.ignoreHover=!0,(e=this.getAdjacentOption(this.$activeOption,1)).length&&this.setActiveOption(e,!0,!0)),void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:return this.$activeOption&&(this.ignoreHover=!0,(e=this.getAdjacentOption(this.$activeOption,-1)).length&&this.setActiveOption(e,!0,!0)),void t.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),t.preventDefault()));case 37:return void this.advanceSelection(-1,t);case 39:return void this.advanceSelection(1,t);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||t.preventDefault()),void(this.settings.create&&this.createItem()&&t.preventDefault());case 8:case 46:return void this.deleteSelection(t)}!this.isFull()&&!this.isInputHidden||(u?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();t=this.$control_input.val()||"",this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(t){var e=this,i=e.settings.load;i&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load((function(n){i.apply(e,[t,n])}))))},onFocus:function(t){var e=this.isFocused;if(this.isDisabled)return this.blur(),t&&t.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),e||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(t,e){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(t);t=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),e&&e.focus&&e.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")},i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,t):t()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var i,n=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(i=t(e.currentTarget)).hasClass("create")?n.createItem(null,(function(){n.settings.closeAfterSelect&&n.close()})):void 0!==(i=i.attr("data-value"))&&(n.lastQuery=null,n.setTextboxValue(""),n.addItem(i),n.settings.closeAfterSelect?n.close():!n.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&n.setActiveOption(n.getOption(i)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,i=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||i.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){a(this,e?[]:["change"],(function(){this.clear(e),this.addItems(t,e)}))},setMaxItems:function(t){0===t&&(t=null),this.settings.maxItems=t,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(e,i){var n,o,r,s,a,l;if("single"!==this.settings.mode){if(!(e=t(e)).length)return t(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(o=i&&i.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(l=this.$control.children(".active:last"),r=Array.prototype.indexOf.apply(this.$control[0].childNodes,[l[0]]),(s=Array.prototype.indexOf.apply(this.$control[0].childNodes,[e[0]]))<r&&(l=r,r=s,s=l),n=r;n<=s;n++)a=this.$control[0].childNodes[n],-1===this.$activeItems.indexOf(a)&&(t(a).addClass("active"),this.$activeItems.push(a));i.preventDefault()}else"mousedown"===o&&this.isCtrlDown||"keydown"===o&&this.isShiftDown?e.hasClass("active")?(o=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(o,1),e.removeClass("active")):this.$activeItems.push(e.addClass("active")[0]):(t(this.$activeItems).removeClass("active"),this.$activeItems=[e.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(e,i,n){var r,s,a,l;this.$activeOption&&(this.$activeOption.removeClass("active"),this.trigger("dropdown_item_deactivate",this.$activeOption.attr("data-value"))),this.$activeOption=null,(e=t(e)).length&&(this.$activeOption=e.addClass("active"),this.isOpen&&this.trigger("dropdown_item_activate",this.$activeOption.attr("data-value")),!i&&o(i)||(r=this.$dropdown_content.height(),s=this.$activeOption.outerHeight(!0),i=this.$dropdown_content.scrollTop()||0,e=(l=a=this.$activeOption.offset().top-this.$dropdown_content.offset().top+i)-r+s,r+i<a+s?this.$dropdown_content.stop().animate({scrollTop:e},n?this.settings.scrollDuration:0):a<i&&this.$dropdown_content.stop().animate({scrollTop:l},n?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;return t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout((function(){t.ignoreFocus=!1,t.onFocus()}),0)),t},blur:function(t){return this.$control_input[0].blur(),this.onBlur(null,t),this},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}},search:function(e){var i,n,o,s=this.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(o=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,n=this.sifter.search(e,t.extend(a,{score:o})),this.currentResults=n):n=t.extend(!0,{},this.currentResults),s.hideSelected)for(i=n.items.length-1;0<=i;i--)-1!==this.items.indexOf(r(n.items[i].id))&&n.items.splice(i,1);return n},refreshOptions:function(e){var i,n,o,s,a,l,c,d,u,h,p,f,g,m;void 0===e&&(e=!0);var v,y,b=this,w=t.trim(b.$control_input.val()),x=b.search(w),k=b.$dropdown_content,C=b.$activeOption&&r(b.$activeOption.attr("data-value")),S=x.items.length;for("number"==typeof b.settings.maxOptions&&(S=Math.min(S,b.settings.maxOptions)),s={},a=[],i=0;i<S;i++)for(l=b.options[x.items[i].id],c=b.render("option",l),d=l[b.settings.optgroupField]||"",n=0,o=(u=t.isArray(d)?d:[d])&&u.length;n<o;n++)d=u[n],b.optgroups.hasOwnProperty(d)||(d=""),s.hasOwnProperty(d)||(s[d]=document.createDocumentFragment(),a.push(d)),s[d].appendChild(c);for(this.settings.lockOptgroupOrder&&a.sort((function(t,e){return(b.optgroups[t].$order||0)-(b.optgroups[e].$order||0)})),h=document.createDocumentFragment(),i=0,S=a.length;i<S;i++)d=a[i],b.optgroups.hasOwnProperty(d)&&s[d].childNodes.length?((p=document.createDocumentFragment()).appendChild(b.render("optgroup_header",b.optgroups[d])),p.appendChild(s[d]),h.appendChild(b.render("optgroup",t.extend({},b.optgroups[d],{html:(v=p,y=void 0,(y=document.createElement("div")).appendChild(v.cloneNode(!0)),y.innerHTML),dom:p})))):h.appendChild(s[d]);if(k.html(h),b.settings.highlight&&(k.removeHighlight(),x.query.length&&x.tokens.length))for(i=0,S=x.tokens.length;i<S;i++)!function(t,e){if("string"!=typeof e||e.length){var i="string"==typeof e?new RegExp(e,"i"):e,n=function(t){var e=0;if(3===t.nodeType){var o,r,s=t.data.search(i);0<=s&&0<t.data.length&&(r=t.data.match(i),(o=document.createElement("span")).className="highlight",(s=t.splitText(s)).splitText(r[0].length),r=s.cloneNode(!0),o.appendChild(r),s.parentNode.replaceChild(o,s),e=1)}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName))for(var a=0;a<t.childNodes.length;++a)a+=n(t.childNodes[a]);return e};t.each((function(){n(this)}))}}(k,x.tokens[i].regex);if(!b.settings.hideSelected)for(b.$dropdown.find(".selected").removeClass("selected"),i=0,S=b.items.length;i<S;i++)b.getOption(b.items[i]).addClass("selected");(f=b.canCreate(w))&&(k.prepend(b.render("option_create",{input:w})),m=t(k[0].childNodes[0])),b.hasOptions=0<x.items.length||f,b.hasOptions?(0<x.items.length?((C=C&&b.getOption(C))&&C.length?g=C:"single"===b.settings.mode&&b.items.length&&(g=b.getOption(b.items[0])),g&&g.length||(g=m&&!b.settings.addPrecedence?b.getAdjacentOption(m,1):k.find("[data-selectable]:first"))):g=m,b.setActiveOption(g),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var i,n,o;if(t.isArray(e))for(i=0,n=e.length;i<n;i++)this.addOption(e[i]);else(o=this.registerOption(e))&&(this.userOptions[o]=!0,this.lastQuery=null,this.trigger("option_add",o,e))},registerOption:function(t){var e=r(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=r(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,i){var n,o,s;if(e=r(e),n=r(i[this.settings.valueField]),null!==e&&this.options.hasOwnProperty(e)){if("string"!=typeof n)throw new Error("Value must be set in option data");s=this.options[e].$order,n!==e&&(delete this.options[e],-1!==(o=this.items.indexOf(e))&&this.items.splice(o,1,n)),i.$order=i.$order||s,this.options[n]=i,o=this.renderCache.item,s=this.renderCache.option,o&&(delete o[e],delete o[n]),s&&(delete s[e],delete s[n]),-1!==this.items.indexOf(n)&&(e=this.getItem(e),i=t(this.render("item",i)),e.hasClass("active")&&i.addClass("active"),e.replaceWith(i)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(t,e){t=r(t);var i=this.renderCache.item,n=this.renderCache.option;i&&delete i[t],n&&delete n[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(e){var i=this;i.loadedSearches={},i.userOptions={},i.renderCache={};var n=i.options;t.each(i.options,(function(t,e){-1==i.items.indexOf(t)&&delete n[t]})),i.options=i.sifter.items=n,i.lastQuery=null,i.trigger("option_clear"),i.clear(e)},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,i){var n=this.$dropdown.find("[data-selectable]");return 0<=(i=n.index(e)+i)&&i<n.length?n.eq(i):t()},getElementWithValue:function(e,i){if(null!=(e=r(e)))for(var n=0,o=i.length;n<o;n++)if(i[n].getAttribute("data-value")===e)return t(i[n]);return t()},getElementWithTextContent:function(e,i,n){if(null!=(e=r(e)))for(var o=0,s=n.length;o<s;o++){var a=n[o].textContent;if(1==i&&(a=null!==a?a.toLowerCase():null,e=e.toLowerCase()),a===e)return t(n[o])}return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},getFirstItemMatchedByTextContent:function(t,e){return e=null!==e&&!0===e,this.getElementWithTextContent(t,e,this.$dropdown_content.find("[data-selectable]"))},addItems:function(e,i){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,o=0;o<n.length;o++)this.buffer.appendChild(n[o]);for(var r=t.isArray(e)?e:[e],s=(o=0,r.length);o<s;o++)this.isPending=o<s-1,this.addItem(r[o],i);(e=this.$control[0]).insertBefore(this.buffer,e.firstChild),this.buffer=null},addItem:function(e,i){a(this,i?[]:["change"],(function(){var n,o,s,a=this.settings.mode;e=r(e),-1===this.items.indexOf(e)?this.options.hasOwnProperty(e)&&("single"===a&&this.clear(i),"multi"===a&&this.isFull()||(n=t(this.render("item",this.options[e])),s=this.isFull(),this.items.splice(this.caretPos,0,e),this.insertAtCaret(n),this.isPending&&(s||!this.isFull())||this.refreshState(),this.isSetup&&(o=this.$dropdown_content.find("[data-selectable]"),this.isPending||(s=this.getOption(e),s=this.getAdjacentOption(s,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==a),s&&this.setActiveOption(this.getOption(s))),!o.length||this.isFull()?this.close():this.isPending||this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",e,n),this.isPending||this.updateOriginalInput({silent:i})))):"single"===a&&this.close()}))},removeItem:function(e,i){var n,o,s=e instanceof t?e:this.getItem(e);e=r(s.attr("data-value")),-1!==(n=this.items.indexOf(e))&&(this.trigger("item_before_remove",e,s),s.remove(),s.hasClass("active")&&(o=this.$activeItems.indexOf(s[0]),this.$activeItems.splice(o,1)),this.items.splice(n,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,i),n<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:i}),this.positionDropdown(),this.trigger("item_remove",e,s))},createItem:function(e,i){var n=this,o=n.caretPos;e=e||t.trim(n.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(e))return s(),!1;n.lock();var a,l,c="function"==typeof n.settings.create?this.settings.create:function(t){var e={};return e[n.settings.labelField]=t,e[n.settings.valueField]=t,e},d=(l=!(a=function(t){if(n.unlock(),!t||"object"!=typeof t)return s();var e=r(t[n.settings.valueField]);if("string"!=typeof e)return s();n.setTextboxValue(""),n.addOption(t),n.setCaret(o),n.addItem(e),n.refreshOptions(i&&"single"!==n.settings.mode),s(t)}),function(){l||(l=!0,a.apply(this,arguments))});return void 0!==(e=c.apply(this,[e,d]))&&d(e),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this.isFull(),i=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",i).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!t.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length),this.$control_input.data("grow",!e&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,i,n,o;if(t=t||{},1===this.tagType){for(n=[],e=0,i=this.items.length;e<i;e++)o=this.options[this.items[e]][this.settings.labelField]||"",n.push('<option value="'+s(this.items[e])+'" selected="selected">'+s(o)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),this.$input.html(n.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(t.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){var t;this.settings.placeholder&&(t=this.$control_input,this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0}))},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var t=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.isBlurring&&this.$control_input.blur()),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),t&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t[0].getBoundingClientRect().width,top:e.top,left:e.left})},clear:function(t){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length),i=t[0];t=this.buffer||this.$control[0];0===e?t.insertBefore(i,t.firstChild):t.insertBefore(i,t.childNodes[e]),this.setCaret(e+1)},deleteSelection:function(e){var i,n,o,r,s,a,c=e&&8===e.keyCode?-1:1,d=l(this.$control_input[0]);if(this.$activeOption&&!this.settings.hideSelected&&(r=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),o=[],this.$activeItems.length){for(a=this.$control.children(".active:"+(0<c?"last":"first")),a=this.$control.children(":not(input)").index(a),0<c&&a++,i=0,n=this.$activeItems.length;i<n;i++)o.push(t(this.$activeItems[i]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(c<0&&0===d.start&&0===d.length?o.push(this.items[this.caretPos-1]):0<c&&d.start===this.$control_input.val().length&&o.push(this.items[this.caretPos]));if(!o.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[o]))return!1;for(void 0!==a&&this.setCaret(a);o.length;)this.removeItem(o.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),r&&(s=this.getOption(r)).length&&this.setActiveOption(s),!0},advanceSelection:function(t,e){var i,n,o;0!==t&&(this.rtl&&(t*=-1),o=0<t?"last":"first",i=l(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(n=this.$control_input.val().length,(t<0?0!==i.start||0!==i.length:i.start!==n)||n||this.advanceCaret(t,e)):(o=this.$control.children(".active:"+o)).length&&(o=this.$control.children(":not(input)").index(o),this.setActiveItem(null),this.setCaret(0<t?o+1:o)))},advanceCaret:function(t,e){var i;0!==t&&(i=0<t?"next":"prev",this.isShiftDown?(i=this.$control_input[i]()).length&&(this.hideInput(),this.setActiveItem(i),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(e){if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(var i,n=this.$control.children(":not(input)"),o=0,r=n.length;o<r;o++)i=t(n[o]).detach(),o<e?this.$control_input.before(i):this.$control.append(i);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this.eventNS,i=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),0==--m.count&&m.$testInput&&(m.$testInput.remove(),m.$testInput=void 0),t(window).off(e),t(document).off(e),t(document.body).off(e),delete this.$input[0].selectize},render:function(e,i){var n,a,l="",c=!1;return(c="option"===e||"item"===e?!!(n=r(i[this.settings.valueField])):c)&&(o(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(n))?this.renderCache[e][n]:(l=t(this.settings.render[e].apply(this,[i,s])),"option"===e||"option_create"===e?i[this.settings.disabledField]||l.attr("data-selectable",""):"optgroup"===e&&(a=i[this.settings.optgroupValueField]||"",l.attr("data-group",a),i[this.settings.disabledField]&&l.attr("data-disabled","")),"option"!==e&&"item"!==e||l.attr("data-value",n||""),c&&(this.renderCache[e][n]=l[0]),l[0])},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),m.count=0,m.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){function i(e,i){function n(t){return"string"==typeof(t=s&&t.attr(s))&&t.length?JSON.parse(t):null}function p(e,s){var u,h=r((e=t(e)).val());(h||o.allowEmptyOption)&&(b.hasOwnProperty(h)?s&&((u=b[h][d])?t.isArray(u)?u.push(s):b[h][d]=[u,s]:b[h][d]=s):((u=n(e)||{})[a]=u[a]||e.text(),u[l]=u[l]||h,u[c]=u[c]||e.prop("disabled"),u[d]=u[d]||s,b[h]=u,y.push(u),e.is(":selected")&&i.items.push(h)))}var f,g,m,v,y=i.options,b={};for(i.maxItems=e.attr("multiple")?null:1,f=0,g=(v=e.children()).length;f<g;f++)"optgroup"===(m=v[f].tagName.toLowerCase())?function(e){var o,r,s,a,l;for((s=(e=t(e)).attr("label"))&&((a=n(e)||{})[u]=s,a[h]=s,a[c]=e.prop("disabled"),i.optgroups.push(a)),o=0,r=(l=t("option",e)).length;o<r;o++)p(l[o],s)}(v[f]):"option"===m&&p(v[f])}var n=t.fn.selectize.defaults,o=t.extend({},n,e),s=o.dataAttr,a=o.labelField,l=o.valueField,c=o.disabledField,d=o.optgroupField,u=o.optgroupLabelField,h=o.optgroupValueField;return this.each((function(){var r,c,d;this.selectize||(r=t(this),c=this.tagName.toLowerCase(),d={placeholder:d=(d=r.attr("placeholder")||r.attr("data-placeholder"))||o.allowEmptyOption?d:r.children('option[value=""]').text(),options:[],optgroups:[],items:[]},("select"===c?i:function(e,i){var n,r,c,d,u=e.attr(s);if(u)for(i.options=JSON.parse(u),n=0,r=i.options.length;n<r;n++)i.items.push(i.options[n][l]);else if(e=t.trim(e.val()||""),o.allowEmptyOption||e.length){for(n=0,r=(c=e.split(o.delimiter)).length;n<r;n++)(d={})[a]=c[n],d[l]=c[n],i.options.push(d);i.items=c}})(r,d),new m(r,t.extend(!0,{},n,d,e)))}))},t.fn.selectize.defaults=m.defaults,t.fn.selectize.support={validity:f},m.define("auto_select_on_type",(function(t){var e,i=this;i.onBlur=(e=i.onBlur,function(t){var n=i.getFirstItemMatchedByTextContent(i.lastValue,!0);return void 0!==n.attr("data-value")&&i.getValue()!==n.attr("data-value")&&i.setValue(n.attr("data-value")),e.apply(this,arguments)})})),m.define("autofill_disable",(function(t){var e,i=this;i.setup=(e=i.setup,function(){e.apply(i,arguments),i.$control_input.attr({autocomplete:"new-password",autofill:"no"})})})),m.define("drag_drop",(function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var i,n;"multi"===this.settings.mode&&((i=this).lock=(n=i.lock,function(){var t=i.$control.data("sortable");return t&&t.disable(),n.apply(i,arguments)}),i.unlock=function(){var t=i.unlock;return function(){var e=i.$control.data("sortable");return e&&e.enable(),t.apply(i,arguments)}}(),i.setup=function(){var e=i.setup;return function(){e.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,o=[];n.children("[data-value]").each((function(){o.push(t(this).attr("data-value"))})),i.setValue(o),i.setActiveItem(e)}})}}())})),m.define("dropdown_header",(function(e){var i,n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=(i=n.setup,function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)})})),m.define("optgroup_columns",(function(e){var i,n=this;function o(){var i,o,s,a,l=t("[data-group]",n.$dropdown_content),c=l.length;if(c&&n.$dropdown_content.width()){if(e.equalizeHeight){for(i=o=0;i<c;i++)o=Math.max(o,l.eq(i).height());l.css({height:o})}e.equalizeWidth&&(a=n.$dropdown_content.innerWidth()-r(),s=Math.round(a/c),l.css({width:s}),1<c&&(s=a-s*(c-1),l.eq(c-1).css({width:s})))}}e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,i){var n=e.closest("[data-group]").find("[data-selectable]");return 0<=(i=n.index(e)+i)&&i<n.length?n.eq(i):t()},this.onKeyDown=(i=n.onKeyDown,function(t){var e,o;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?i.apply(this,arguments):(n.ignoreHover=!0,e=(o=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((e=(o=(o=37===t.keyCode?o.prev("[data-group]"):o.next("[data-group]")).find("[data-selectable]")).eq(Math.min(o.length-1,e))).length&&this.setActiveOption(e)))});var r=function(){var t,e=r.width,i=document;return void 0===e&&((t=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,i.body.appendChild(t),e=r.width=t.offsetWidth-t.clientWidth,i.body.removeChild(t)),e};(e.equalizeHeight||e.equalizeWidth)&&(g(this,"positionDropdown",o),g(this,"refreshOptions",o))})),m.define("remove_button",(function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),("single"===this.settings.mode?function(e,i){i.className="remove-single";var n,o=e,r='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+s(i.title)+'">'+i.label+"</a>";e.setup=(n=o.setup,function(){var s,a;i.append&&(s=t(o.$input.context).attr("id"),t("#"+s),a=o.settings.render.item,o.settings.render.item=function(i){return n=a.apply(e,arguments),o=r,t("<span>").append(n).append(o);var n,o}),n.apply(e,arguments),e.$control.on("click","."+i.className,(function(t){t.preventDefault(),o.isLocked||o.clear()}))})}:function(e,i){var n,o=e,r='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+s(i.title)+'">'+i.label+"</a>";e.setup=(n=o.setup,function(){var s;i.append&&(s=o.settings.render.item,o.settings.render.item=function(t){return i=s.apply(e,arguments),n=r,o=i.search(/(<\/[^>]+>\s*)$/),i.substring(0,o)+n+i.substring(o);var i,n,o}),n.apply(e,arguments),e.$control.on("click","."+i.className,(function(e){if(e.preventDefault(),!o.isLocked)return e=t(e.currentTarget).parent(),o.setActiveItem(e),o.deleteSelection()&&o.setCaret(o.items.length),!1}))})})(this,e)})),m.define("restore_on_backspace",(function(t){var e;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(e=this.onKeyDown,function(i){var n;return 8===i.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(n=this.caretPos-1)&&n<this.items.length?(n=this.options[this.items[n]],this.deleteSelection(i)&&(this.setTextboxValue(t.text.apply(this,[n])),this.refreshOptions(!0)),void i.preventDefault()):e.apply(this,arguments)})})),m.define("select_on_focus",(function(t){var e,i,n=this;n.on("focus",(e=n.onFocus,function(t){var i=n.getItem(n.getValue()).text();return n.clear(),n.setTextboxValue(i),n.$control_input.select(),setTimeout((function(){n.settings.selectOnTab&&n.setActiveOption(n.getFirstItemMatchedByTextContent(i)),n.settings.score=null}),0),e.apply(this,arguments)})),n.onBlur=(i=n.onBlur,function(t){return""===n.getValue()&&n.lastValidValue!==n.getValue()&&n.setValue(n.lastValidValue),setTimeout((function(){n.settings.score=function(){return function(){return 1}}}),0),i.apply(this,arguments)}),n.settings.score=function(){return function(){return 1}}})),m})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}((function(t){function e(e,i,n){var r,s,a;"string"==typeof n&&(n={className:n}),this.options=(r=y,s=t.isPlainObject(n)?n:{},(a=function(){}).prototype=r,t.extend(!0,new a,s)),this.loadHTML(),this.wrapper=t(h.html),this.options.clickToHide&&this.wrapper.addClass(o+"-hidable"),this.wrapper.data(o,this),this.arrow=this.wrapper.find("."+o+"-arrow"),this.container=this.wrapper.find("."+o+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=x(e),this.elem.data(o,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(i)}var i=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},n="notify",o=n+"js",r=n+"!blank",s={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},a=["l","c","r"],l=["t","m","b"],c=["t","b","l","r"],d={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},u={},h={name:"core",html:'<div class="'+o+'-wrapper">\n\t<div class="'+o+'-arrow"></div>\n\t<div class="'+o+'-container"></div>\n</div>',css:"."+o+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+o+"-corner ."+o+"-wrapper,\n."+o+"-corner ."+o+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+o+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+o+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+o+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+o+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},p={"border-radius":["-webkit-","-moz-"]},f=function(e,i){if(!e)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";var r=u[e];r&&r.cssElem&&(window.console&&console.warn(n+": overwriting style '"+e+"'"),u[e].cssElem.remove()),i.name=e,u[e]=i;var s="";i.classes&&t.each(i.classes,(function(e,n){return s+="."+o+"-"+i.name+"-"+e+" {\n",t.each(n,(function(e,i){return p[e]&&t.each(p[e],(function(t,n){return s+="\t"+n+e+": "+i+";\n"})),s+="\t"+e+": "+i+";\n"})),s+="}\n"})),i.css&&(s+="/* styles for "+i.name+" */\n"+i.css),s&&(i.cssElem=g(s),i.cssElem.attr("id","notify-"+i.name));var a={},l=t(i.html);m("html",l,a),m("text",l,a),i.fields=a},g=function(e){var i;(i=b("style")).attr("type","text/css"),t("head").append(i);try{i.html(e)}catch(t){i[0].styleSheet.cssText=e}return i},m=function(e,i,n){var o;return"html"!==e&&(e="text"),v(i,"["+(o="data-notify-"+e)+"]").each((function(){var i;(i=t(this).attr(o))||(i=r),n[i]=e}))},v=function(t,e){return t.is(e)?t:t.find(e)},y={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},b=function(e){return t("<"+e+"></"+e+">")},w={},x=function(e){return e.is("[type=radio]")&&(e=e.parents("form:first").find("[type=radio]").filter((function(i,n){return t(n).attr("name")===e.attr("name")})).first()),e},k=function(t,e,i){var n;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;if(!isNaN(i))return void 0!==t[n=s[d[e.charAt(0)]]]&&(e=s[n.charAt(0)],i=-i),void 0===t[e]?t[e]=i:t[e]+=i,null},C=function(t,e,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-e/2;if("r"===t||"b"===t)return i-e;throw"Invalid alignment"};e.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},e.prototype.show=function(t,e){var i,n,o,r,s,a;if(n=function(){if(!t&&!a.elem&&a.destroy(),e)return e()},s=0<(a=this).container.parent().parents(":hidden").length,o=this.container.add(this.arrow),i=[],s&&t)r="show";else if(s&&!t)r="hide";else if(!s&&t)r=this.options.showAnimation,i.push(this.options.showDuration);else{if(s||t)return n();r=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(n),o[r].apply(o,i)},e.prototype.setGlobalPosition=function(){var e=this.getPosition(),i=e[0],n=e[1],r=s[i],a=s[n],l=i+"|"+n,c=w[l];if(!c||!document.body.contains(c[0])){c=w[l]=b("div");var d={};d[r]=0,"middle"===a?d.top="45%":"center"===a?d.left="45%":d[a]=0,c.css(d).addClass(o+"-corner"),t("body").append(c)}return c.prepend(this.wrapper)},e.prototype.setElementPosition=function(){var e,n,o,r,u,h,p,f,g,m,v,y,b,w,x,S,T,_,A,D,E,M,I,$,L,O,N,P;for(I=(O=this.getPosition())[0],M=O[1],O[2],v=this.elem.position(),f=this.elem.outerHeight(),y=this.elem.outerWidth(),g=this.elem.innerHeight(),m=this.elem.innerWidth(),P=this.wrapper.position(),u=this.container.height(),h=this.container.width(),_=s[I],(p={})[E=s[D=d[I]]]="b"===I?f:"r"===I?y:0,k(p,"top",v.top-P.top),k(p,"left",v.left-P.left),w=0,S=(N=["top","left"]).length;w<S;w++)$=N[w],(A=parseInt(this.elem.css("margin-"+$),10))&&k(p,$,A);if(b=Math.max(0,this.options.gap-(this.options.arrowShow?o:0)),k(p,E,b),this.options.arrowShow){for(o=this.options.arrowSize,n=t.extend({},p),e=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",x=0,T=c.length;x<T;x++)L=s[$=c[x]],$!==D&&(r=L===_?e:"transparent",n["border-"+L]=o+"px solid "+r);k(p,s[D],o),0<=i.call(c,M)&&k(n,s[M],2*o)}else this.arrow.hide();if(0<=i.call(l,I)?(k(p,"left",C(M,h,y)),n&&k(n,"left",C(M,o,m))):0<=i.call(a,I)&&(k(p,"top",C(M,u,f)),n&&k(n,"top",C(M,o,g))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p),n)return this.arrow.removeAttr("style").css(n)},e.prototype.getPosition=function(){var e,n,o,r,d,u,h,p,f;if(p=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),f=[],t.each(p.split(/\W+/),(function(t,e){var i;if(i=e.toLowerCase().charAt(0),s[i])return f.push(i)})),0===(e=f).length&&(e[0]="b"),n=e[0],i.call(c,n)<0)throw"Must be one of ["+c+"]";return(1===e.length||(o=e[0],0<=i.call(l,o)&&(r=e[1],i.call(a,r)<0))||(d=e[0],0<=i.call(a,d)&&(u=e[1],i.call(l,u)<0)))&&(e[1]=(h=e[0],0<=i.call(a,h)?"m":"l")),2===e.length&&(e[2]=e[1]),e},e.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=u[t]))throw"Missing style: "+t;return e},e.prototype.updateClasses=function(){var e,i;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),i=this.getStyle(),e=t.map(e,(function(t){return o+"-"+i.name+"-"+t})).join(" "),this.userContainer.attr("class",e)},e.prototype.run=function(e,i){var n,o,s,a,l;if(t.isPlainObject(i)?t.extend(this.options,i):"string"===t.type(i)&&(this.options.className=i),!this.container||e){if(this.container||e){for(s in o={},t.isPlainObject(e)?o=e:o[r]=e,o)n=o[s],(a=this.userFields[s])&&("text"===a&&this.options.breakNewLines&&(n=n.replace(/\n/g,"<br/>")),l=s===r?"":"="+s,v(this.userContainer,"[data-notify-"+a+l+"]").html(n));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},e.prototype.destroy=function(){this.wrapper.data(o,null),this.wrapper.remove()},t[n]=function(i,o,r){return i&&i.nodeName||i.jquery?t(i)[n](o,r):(r=o,new e(null,o=i,r)),i},t.fn[n]=function(i,n){return t(this).each((function(){var r=x(t(this)).data(o);r&&r.destroy(),new e(t(this),i,n)})),this},t.extend(t[n],{defaults:function(e){return t.extend(y,e)},addStyle:f,removeStyle:function(t){if(!t)throw"Missing Style name";u[t]&&delete u[t]},pluginOptions:y,getStyle:function(t){return u[t]},insertCSS:g}),f("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),t((function(){g(h.css).attr("id","core-notify"),t(document).on("click","."+o+"-hidable",(function(e){t(this).trigger("notify-hide")})),t(document).on("notify-hide","."+o+"-wrapper",(function(e){var i=t(this).data(o);i&&i.show(!1)}))}))})),function(t,e,i,n){function o(e,i){var r=this;"object"==typeof i&&(delete i.refresh,delete i.render,t.extend(this,i)),this.$element=t(e),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var s=(this.position+"").toLowerCase().match(/\S+/g)||[];if(s.length<1&&s.push("center"),1==s.length&&s.push(s[0]),("top"==s[0]||"bottom"==s[0]||"left"==s[1]||"right"==s[1])&&(s=[s[1],s[0]]),this.positionX!=n&&(s[0]=this.positionX.toLowerCase()),this.positionY!=n&&(s[1]=this.positionY.toLowerCase()),r.positionX=s[0],r.positionY=s[1],"left"!=this.positionX&&"right"!=this.positionX&&(this.positionX=isNaN(parseInt(this.positionX))?"center":parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(this.positionY=isNaN(parseInt(this.positionY))?"center":parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=t("<div />").prependTo("body");var a=this.$element.find(">.parallax-slider"),l=!1;0==a.length?this.$slider=t("<img />").prependTo(this.$mirror):(this.$slider=a.prependTo(this.$mirror),l=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",(function(){r.naturalHeight&&r.naturalWidth||(r.naturalHeight=this.naturalHeight||this.height||1,r.naturalWidth=this.naturalWidth||this.width||1),r.aspectRatio=r.naturalWidth/r.naturalHeight,o.isSetup||o.setup(),o.sliders.push(r),o.isFresh=!1,o.requestRender()})),l||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||a.length>0)&&this.$slider.trigger("load")}!function(){for(var t=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!e.requestAnimationFrame;++n)e.requestAnimationFrame=e[i[n]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i[n]+"CancelAnimationFrame"]||e[i[n]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(i){var n=(new Date).getTime(),o=Math.max(0,16-(n-t)),r=e.setTimeout((function(){i(n+o)}),o);return t=n+o,r}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){clearTimeout(t)})}(),t.extend(o.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var t=o.winHeight,e=o.docHeight,i=Math.min(this.boxOffsetTop,e-t),n=Math.max(this.boxOffsetTop+this.boxHeight-t,0),r=this.boxHeight+(i-n)*(1-this.speed)|0,s=(this.boxOffsetTop-i)*(1-this.speed)|0;if(r*this.aspectRatio>=this.boxWidth){this.imageWidth=r*this.aspectRatio|0,this.imageHeight=r,this.offsetBaseTop=s;var a=this.imageWidth-this.boxWidth;this.offsetLeft="left"==this.positionX?0:"right"==this.positionX?-a:isNaN(this.positionX)?-a/2|0:Math.max(this.positionX,-a)}else{this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0;a=this.imageHeight-r;this.offsetBaseTop="top"==this.positionY?s:"bottom"==this.positionY?s-a:isNaN(this.positionY)?s-a/2|0:s+Math.max(this.positionY,-a)}},render:function(){var t=o.scrollTop,e=o.scrollLeft,i=this.overScrollFix?o.overScroll:0,n=t+o.winHeight;this.boxOffsetBottom>t&&this.boxOffsetTop<=n?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-t,this.mirrorLeft=this.boxOffsetLeft-e,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d(0px, 0px, 0px)",visibility:this.visibility,top:this.mirrorTop-i,left:this.mirrorLeft,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d(0px, 0px, 0px)",position:"absolute",top:this.offsetTop,left:this.offsetLeft,height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),t.extend(o,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var n=t(i),r=t(e),s=function(){o.winHeight=r.height(),o.winWidth=r.width(),o.docHeight=n.height(),o.docWidth=n.width()},a=function(){var t=r.scrollTop(),e=o.docHeight-o.winHeight,i=o.docWidth-o.winWidth;o.scrollTop=Math.max(0,Math.min(e,t)),o.scrollLeft=Math.max(0,Math.min(i,r.scrollLeft())),o.overScroll=Math.max(t-e,Math.min(t,0))};r.on("resize.px.parallax load.px.parallax",(function(){s(),o.isFresh=!1,o.requestRender()})).on("scroll.px.parallax load.px.parallax",(function(){a(),o.requestRender()})),s(),a(),this.isReady=!0}},configure:function(e){"object"==typeof e&&(delete e.refresh,delete e.render,t.extend(this.prototype,e))},refresh:function(){t.each(this.sliders,(function(){this.refresh()})),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),t.each(this.sliders,(function(){this.render()}))},requestRender:function(){var t=this;this.isBusy||(this.isBusy=!0,e.requestAnimationFrame((function(){t.render(),t.isBusy=!1})))},destroy:function(i){var n,r=t(i).data("px.parallax");for(r.$mirror.remove(),n=0;n<this.sliders.length;n+=1)this.sliders[n]==r&&this.sliders.splice(n,1);t(i).data("px.parallax",!1),0===this.sliders.length&&(t(e).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,o.isSetup=!1)}});var r=t.fn.parallax;t.fn.parallax=function(n){return this.each((function(){var r=t(this),s="object"==typeof n&&n;this==e||this==i||r.is("body")?o.configure(s):r.data("px.parallax")?"object"==typeof n&&t.extend(r.data("px.parallax"),s):(s=t.extend({},r.data(),s),r.data("px.parallax",new o(this,s))),"string"==typeof n&&("destroy"==n?o.destroy(this):o[n]())}))},t.fn.parallax.Constructor=o,t.fn.parallax.noConflict=function(){return t.fn.parallax=r,this},t(i).on("ready.px.parallax.data-api",(function(){t('[data-parallax="scroll"]').parallax()}))}(jQuery,window,document),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(i,n){var o,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(i),appendDots:t(i),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,i){return t('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=t(i),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,o=t(i).data("slick")||{},r.options=t.extend({},r.defaults,n,o),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=t.proxy(r.autoPlay,r),r.autoPlayClear=t.proxy(r.autoPlayClear,r),r.autoPlayIterator=t.proxy(r.autoPlayIterator,r),r.changeSlide=t.proxy(r.changeSlide,r),r.clickHandler=t.proxy(r.clickHandler,r),r.selectHandler=t.proxy(r.selectHandler,r),r.setPosition=t.proxy(r.setPosition,r),r.swipeHandler=t.proxy(r.swipeHandler,r),r.dragHandler=t.proxy(r.dragHandler,r),r.keyHandler=t.proxy(r.keyHandler,r),r.instanceUid=e++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?t(e).appendTo(o.$slideTrack):n?t(e).insertBefore(o.$slides.eq(i)):t(e).insertAfter(o.$slides.eq(i)):!0===n?t(e).prependTo(o.$slideTrack):t(e).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each((function(e,i){t(i).attr("data-slick-index",e)})),o.$slidesCache=o.$slides,o.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(e=-e),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:e},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:e},o.options.speed,o.options.easing,i):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),t({animStart:o.currentLeft}).animate({animStart:e},{duration:o.options.speed,easing:o.options.easing,step:function(t){t=Math.ceil(t),!1===o.options.vertical?(n[o.animType]="translate("+t+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+t+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),e=Math.ceil(e),!1===o.options.vertical?n[o.animType]="translate3d("+e+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+e+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout((function(){o.disableTransition(),i.call()}),o.options.speed))},e.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=t(e).not(this.$slider)),e},e.prototype.asNavFor=function(e){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each((function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)}))},e.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=t("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)i.append(t("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each((function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")})),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(!0===e.options.centerMode||!0===e.options.swipeToSlide)&&(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,o,r,s,a=this;if(n=document.createDocumentFragment(),r=a.$slider.children(),a.options.rows>1){for(s=a.options.slidesPerRow*a.options.rows,o=Math.ceil(r.length/s),t=0;o>t;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var c=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var d=t*s+(e*a.options.slidesPerRow+i);r.get(d)&&c.appendChild(r.get(d))}l.appendChild(c)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,i){var n,o,r,s=this,a=!1,l=s.$slider.width(),c=window.innerWidth||t(window).width();if("window"===s.respondTo?r=c:"slider"===s.respondTo?r=l:"min"===s.respondTo&&(r=Math.min(c,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){for(n in o=null,s.breakpoints)s.breakpoints.hasOwnProperty(n)&&(!1===s.originalSettings.mobileFirst?r<s.breakpoints[n]&&(o=s.breakpoints[n]):r>s.breakpoints[n]&&(o=s.breakpoints[n]));null!==o?null!==s.activeBreakpoint?(o!==s.activeBreakpoint||i)&&(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[o]),!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),a=o):(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[o]),!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),a=o):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e),a=o),e||!1===a||s.$slider.trigger("breakpoint",[s,a])}},e.prototype.changeSlide=function(e,i){var n,o,r=this,s=t(e.currentTarget);switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":o=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-o,!1,i);break;case"next":o=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+o,!1,i);break;case"index":var a=0===e.data.index?0:e.data.index||s.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,i),s.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function(){t(this).attr("style",t(this).data("originalStyling"))})),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout((function(){i.disableTransition(t),e.call()}),i.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",(function(i){i.stopImmediatePropagation();var n=t(this);setTimeout((function(){e.options.pauseOnFocus&&(e.focussed=n.is(":focus"),e.autoPlay())}),0)}))},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},e.prototype.getLeft=function(t){var e,i,n,o=this,r=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=i*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,r=(o.options.slidesToShow-(t-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,r=o.slideCount%o.options.slidesToScroll*i*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,r=(t+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,r=0),!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*i*-1+r,!0===o.options.variableWidth&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===o.options.centerMode&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,e+=(o.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,o=[];for(!1===e.options.infinite?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);t>i;)o.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each((function(o,r){return r.offsetLeft-i+t(r).outerWidth()/2>-1*n.swipeLeft?(e=r,!1):void 0})),Math.abs(t(e).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),e&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},e.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each((function(i){t(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+i})})),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each((function(i){t(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+i,id:"slick-slide"+e.instanceUid+i})})).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each((function(){var e=t(this),i=t(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){e.animate({opacity:0},100,(function(){e.attr("src",i).animate({opacity:1},200,(function(){e.removeAttr("data-lazy").removeClass("slick-loading")})),o.$slider.trigger("lazyLoaded",[o,e,i])}))},n.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,e,i])},n.src=i}))}var i,n,o=this;!0===o.options.centerMode?!0===o.options.infinite?n=(i=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(i=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),n=o.options.slidesToShow/2+1+2+o.currentSlide):(i=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,n=Math.ceil(i+o.options.slidesToShow),!0===o.options.fade&&(i>0&&i--,n<=o.slideCount&&n++)),e(o.$slider.find(".slick-slide").slice(i,n)),o.slideCount<=o.options.slidesToShow?e(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?e(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&e(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(t){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&e.initADA())},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var i,n,o,r=this,s=t("img[data-lazy]",r.$slider);s.length?(i=s.first(),n=i.attr("data-lazy"),(o=document.createElement("img")).onload=function(){i.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),!0===r.options.adaptiveHeight&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,i,n]),r.progressiveLazyLoad()},o.onerror=function(){3>e?setTimeout((function(){r.progressiveLazyLoad(e+1)}),500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,i,n]),r.progressiveLazyLoad())},o.src=n):r.$slider.trigger("allImagesLoaded",[r])},e.prototype.refresh=function(e){var i,n,o=this;n=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>n&&(o.currentSlide=n),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),i=o.currentSlide,o.destroy(!0),t.extend(o,o.initials,{currentSlide:i}),o.init(),e||o.changeSlide({data:{message:"index",index:i}},!1)},e.prototype.registerBreakpoints=function(){var e,i,n,o=this,r=o.options.responsive||null;if("array"===t.type(r)&&r.length){for(e in o.respondTo=o.options.respondTo||"window",r)if(n=o.breakpoints.length-1,i=r[e].breakpoint,r.hasOwnProperty(e)){for(;n>=0;)o.breakpoints[n]&&o.breakpoints[n]===i&&o.breakpoints.splice(n,1),n--;o.breakpoints.push(i),o.breakpointSettings[i]=r[e].settings}o.breakpoints.sort((function(t,e){return o.options.mobileFirst?t-e:e-t}))}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout((function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()}),50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;return"boolean"==typeof t?t=!0===(e=t)?0:n.slideCount-1:t=!0===e?--t:t,!(n.slideCount<1||0>t||t>n.slideCount-1)&&(n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},e.prototype.setCSS=function(t){var e,i,n=this,o={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",o[n.positionProp]=t,!1===n.transformsEnabled?n.$slideTrack.css(o):(o={},!1===n.cssTransitions?(o[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(o)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each((function(n,o){e=i.slideWidth*n*-1,!0===i.options.rtl?t(o).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(o).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})})),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,i,n,o,r,s=this,a=!1;if("object"===t.type(arguments[0])?(n=arguments[0],a=arguments[1],r="multiple"):"string"===t.type(arguments[0])&&(n=arguments[0],o=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)s.options[n]=o;else if("multiple"===r)t.each(n,(function(t,e){s.options[t]=e}));else if("responsive"===r)for(i in o)if("array"!==t.type(s.options.responsive))s.options.responsive=[o[i]];else{for(e=s.options.responsive.length-1;e>=0;)s.options.responsive[e].breakpoint===o[i].breakpoint&&s.options.responsive.splice(e,1),e--;s.options.responsive.push(o[i])}a&&(s.unload(),s.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,i,n,o,r=this;i=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(t).addClass("slick-current"),!0===r.options.centerMode?(e=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(t>=e&&t<=r.slideCount-1-e?r.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+t,i.slice(n-e+1,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")):t>=0&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=r.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+t:t,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,e=o.slideCount;e>o.slideCount-n;e-=1)i=e-1,t(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(e=0;n>e;e+=1)i=e,t(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each((function(){t(this).attr("id","")}))}},e.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));return o||(o=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(o),void i.asNavFor(o)):void i.slideHandler(o)},e.prototype.slideHandler=function(t,e,i){var n,o,r,s,a,l=null,c=this;return e=e||!1,!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===t||c.slideCount<=c.options.slidesToShow?void 0:(!1===e&&c.asNavFor(t),n=t,l=c.getLeft(n),s=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?s:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(0>t||t>c.getDotCount()*c.options.slidesToScroll)||!1===c.options.infinite&&!0===c.options.centerMode&&(0>t||t>c.slideCount-c.options.slidesToScroll)?void(!1===c.options.fade&&(n=c.currentSlide,!0!==i?c.animateSlide(s,(function(){c.postSlide(n)})):c.postSlide(n))):(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=0>n?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),r=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&((a=(a=c.getNavTarget()).slick("getSlick")).slideCount<=a.options.slidesToShow&&a.setSlideClasses(c.currentSlide)),c.updateDots(),c.updateArrows(),!0===c.options.fade?(!0!==i?(c.fadeSlideOut(r),c.fadeSlide(o,(function(){c.postSlide(o)}))):c.postSlide(o),void c.animateHeight()):void(!0!==i?c.animateSlide(l,(function(){c.postSlide(o)})):c.postSlide(o))))},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,o=this;return t=o.touchObject.startX-o.touchObject.curX,e=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(e,t),0>(n=Math.round(180*i/Math.PI))&&(n=360-Math.abs(n)),45>=n&&n>=0||360>=n&&n>=315?!1===o.options.rtl?"left":"right":n>=135&&225>=n?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?n>=35&&135>=n?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,o,r,s=this;return r=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||r&&1!==r.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==r?r[0].pageX:t.clientX,s.touchObject.curY=void 0!==r?r[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2)))),"vertical"!==(i=s.swipeDirection())?(void 0!==t.originalEvent&&s.touchObject.swipeLength>4&&t.preventDefault(),o=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(o=s.touchObject.curY>s.touchObject.startY?1:-1),n=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,!1===s.options.infinite&&(0===s.currentSlide&&"right"===i||s.currentSlide>=s.getDotCount()&&"left"===i)&&(n=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+n*o:s.swipeLeft=e+n*(s.$list.height()/s.listWidth)*o,!0===s.options.verticalSwiping&&(s.swipeLeft=e+n*o),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))):void 0)},e.prototype.swipeStart=function(t){var e,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(i.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode||t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode)&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,i,n=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1),s=n.length;for(t=0;s>t;t++)if("object"==typeof o||void 0===o?n[t].slick=new e(n[t],o):i=n[t].slick[o].apply(n[t].slick,r),void 0!==i)return i;return n}})),function(t,e){"use strict";var i=i||function(i){var n,o={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},r={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},s={},a={hasTouch:"ontouchstart"in e.documentElement||t.navigator.msPointerEnabled,eventType:function(t){return{down:a.hasTouch?"touchstart":"mousedown",move:a.hasTouch?"touchmove":"mousemove",up:a.hasTouch?"touchend":"mouseup",out:a.hasTouch?"touchcancel":"mouseout"}[t]},page:function(t,e){return a.hasTouch&&e.touches.length&&e.touches[0]?e.touches[0]["page"+t]:e["page"+t]},klass:{has:function(t,e){return-1!==t.className.indexOf(e)},add:function(t,e){!a.klass.has(t,e)&&o.addBodyClasses&&(t.className+=" "+e)},remove:function(t,e){o.addBodyClasses&&(t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(t){if("function"==typeof s[t])return s[t].call()},vendor:function(){var t,i=e.createElement("div"),n="webkit Moz O ms".split(" ");for(t in n)if(void 0!==i.style[n[t]+"Transition"])return n[t]},transitionCallback:function(){return"Moz"===r.vendor||"ms"===r.vendor?"transitionend":r.vendor+"TransitionEnd"},canTransform:function(){return void 0!==o.element.style[r.vendor+"Transform"]},deepExtend:function(t,e){var i;for(i in e)e[i]&&e[i].constructor&&e[i].constructor===Object?(t[i]=t[i]||{},a.deepExtend(t[i],e[i])):t[i]=e[i];return t},angleOfDrag:function(t,e){var i,n;return(n=Math.atan2(-(r.startDragY-e),r.startDragX-t))<0&&(n+=2*Math.PI),(i=Math.floor(n*(180/Math.PI)-180))<0&&i>-180&&(i=360-Math.abs(i)),Math.abs(i)},events:{addEvent:function(t,e,i){return t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):void 0},removeEvent:function(t,e,i){return t.addEventListener?t.removeEventListener(e,i,!1):t.attachEvent?t.detachEvent("on"+e,i):void 0},prevent:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},parentUntil:function(t,e){for(var i="string"==typeof e;t.parentNode;){if(i&&t.getAttribute&&t.getAttribute(e))return t;if(!i&&t===e)return t;t=t.parentNode}return null}},l={translate:{get:{matrix:function(e){if(a.canTransform()){var i=t.getComputedStyle(o.element)[r.vendor+"Transform"].match(/\((.*)\)/);return i?(16===(i=i[1].split(",")).length&&(e+=8),parseInt(i[e],10)):0}return parseInt(o.element.style.left,10)}},easeCallback:function(){o.element.style[r.vendor+"Transition"]="",r.translation=l.translate.get.matrix(4),r.easing=!1,clearInterval(r.animatingInterval),0===r.easingTo&&(a.klass.remove(e.body,"snapjs-right"),a.klass.remove(e.body,"snapjs-left")),a.dispatchEvent("animated"),a.events.removeEvent(o.element,a.transitionCallback(),l.translate.easeCallback)},easeTo:function(t){a.canTransform()?(r.easing=!0,r.easingTo=t,o.element.style[r.vendor+"Transition"]="all "+o.transitionSpeed+"s "+o.easing,r.animatingInterval=setInterval((function(){a.dispatchEvent("animating")}),1),a.events.addEvent(o.element,a.transitionCallback(),l.translate.easeCallback),l.translate.x(t)):(r.translation=t,l.translate.x(t)),0===t&&(o.element.style[r.vendor+"Transform"]="")},x:function(i){if(!("left"===o.disable&&i>0||"right"===o.disable&&i<0))if(o.hyperextensible||(i===o.maxPosition||i>o.maxPosition?i=o.maxPosition:(i===o.minPosition||i<o.minPosition)&&(i=o.minPosition)),i=parseInt(i,10),isNaN(i)&&(i=0),a.canTransform()){var n="translate3d("+i+"px, 0,0)";o.element.style[r.vendor+"Transform"]=n}else o.element.style.width=(t.innerWidth||e.documentElement.clientWidth)+"px",o.element.style.left=i+"px",o.element.style.right=""}},drag:{listen:function(){r.translation=0,r.easing=!1,a.events.addEvent(o.element,a.eventType("down"),l.drag.startDrag),a.events.addEvent(o.element,a.eventType("move"),l.drag.dragging),a.events.addEvent(o.element,a.eventType("up"),l.drag.endDrag)},stopListening:function(){a.events.removeEvent(o.element,a.eventType("down"),l.drag.startDrag),a.events.removeEvent(o.element,a.eventType("move"),l.drag.dragging),a.events.removeEvent(o.element,a.eventType("up"),l.drag.endDrag)},startDrag:function(t){var e=t.target?t.target:t.srcElement;if(a.parentUntil(e,"data-snap-ignore"))a.dispatchEvent("ignore");else{if(o.dragger)if(!a.parentUntil(e,o.dragger)&&r.translation!==o.minPosition&&r.translation!==o.maxPosition)return;a.dispatchEvent("start"),o.element.style[r.vendor+"Transition"]="",r.isDragging=!0,r.hasIntent=null,r.intentChecked=!1,r.startDragX=a.page("X",t),r.startDragY=a.page("Y",t),r.dragWatchers={current:0,last:0,hold:0,state:""},r.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}}},dragging:function(t){if(r.isDragging&&o.touchToDrag){var i=a.page("X",t),n=a.page("Y",t),s=r.translation,c=l.translate.get.matrix(4),d=i-r.startDragX,u=c>0,h=d;if(r.intentChecked&&!r.hasIntent)return;if(o.addBodyClasses&&(c>0?(a.klass.add(e.body,"snapjs-left"),a.klass.remove(e.body,"snapjs-right")):c<0&&(a.klass.add(e.body,"snapjs-right"),a.klass.remove(e.body,"snapjs-left"))),!1===r.hasIntent||null===r.hasIntent){var p=a.angleOfDrag(i,n),f=p>=0&&p<=o.slideIntent||p<=360&&p>360-o.slideIntent,g=p>=180&&p<=180+o.slideIntent||p<=180&&p>=180-o.slideIntent;r.hasIntent=!(!g&&!f),r.intentChecked=!0}if(o.minDragDistance>=Math.abs(i-r.startDragX)||!1===r.hasIntent)return;a.events.prevent(t),a.dispatchEvent("drag"),r.dragWatchers.current=i,r.dragWatchers.last>i?("left"!==r.dragWatchers.state&&(r.dragWatchers.state="left",r.dragWatchers.hold=i),r.dragWatchers.last=i):r.dragWatchers.last<i&&("right"!==r.dragWatchers.state&&(r.dragWatchers.state="right",r.dragWatchers.hold=i),r.dragWatchers.last=i),u?(o.maxPosition<c&&(h=d-(c-o.maxPosition)*o.resistance),r.simpleStates={opening:"left",towards:r.dragWatchers.state,hyperExtending:o.maxPosition<c,halfway:c>o.maxPosition/2,flick:Math.abs(r.dragWatchers.current-r.dragWatchers.hold)>o.flickThreshold,translation:{absolute:c,relative:d,sinceDirectionChange:r.dragWatchers.current-r.dragWatchers.hold,percentage:c/o.maxPosition*100}}):(o.minPosition>c&&(h=d-(c-o.minPosition)*o.resistance),r.simpleStates={opening:"right",towards:r.dragWatchers.state,hyperExtending:o.minPosition>c,halfway:c<o.minPosition/2,flick:Math.abs(r.dragWatchers.current-r.dragWatchers.hold)>o.flickThreshold,translation:{absolute:c,relative:d,sinceDirectionChange:r.dragWatchers.current-r.dragWatchers.hold,percentage:c/o.minPosition*100}}),l.translate.x(h+s)}},endDrag:function(t){if(r.isDragging){a.dispatchEvent("end");var e=l.translate.get.matrix(4);if(0===r.dragWatchers.current&&0!==e&&o.tapToClose)return a.dispatchEvent("close"),a.events.prevent(t),l.translate.easeTo(0),r.isDragging=!1,void(r.startDragX=0);"left"===r.simpleStates.opening?r.simpleStates.halfway||r.simpleStates.hyperExtending||r.simpleStates.flick?r.simpleStates.flick&&"left"===r.simpleStates.towards?l.translate.easeTo(0):(r.simpleStates.flick&&"right"===r.simpleStates.towards||r.simpleStates.halfway||r.simpleStates.hyperExtending)&&l.translate.easeTo(o.maxPosition):l.translate.easeTo(0):"right"===r.simpleStates.opening&&(r.simpleStates.halfway||r.simpleStates.hyperExtending||r.simpleStates.flick?r.simpleStates.flick&&"right"===r.simpleStates.towards?l.translate.easeTo(0):(r.simpleStates.flick&&"left"===r.simpleStates.towards||r.simpleStates.halfway||r.simpleStates.hyperExtending)&&l.translate.easeTo(o.minPosition):l.translate.easeTo(0)),r.isDragging=!1,r.startDragX=a.page("X",t)}}}};this.open=function(t){a.dispatchEvent("open"),a.klass.remove(e.body,"snapjs-expand-left"),a.klass.remove(e.body,"snapjs-expand-right"),"left"===t?(r.simpleStates.opening="left",r.simpleStates.towards="right",a.klass.add(e.body,"snapjs-left"),a.klass.remove(e.body,"snapjs-right"),l.translate.easeTo(o.maxPosition)):"right"===t&&(r.simpleStates.opening="right",r.simpleStates.towards="left",a.klass.remove(e.body,"snapjs-left"),a.klass.add(e.body,"snapjs-right"),l.translate.easeTo(o.minPosition))},this.close=function(){a.dispatchEvent("close"),l.translate.easeTo(0)},this.expand=function(i){var n=t.innerWidth||e.documentElement.clientWidth;"left"===i?(a.dispatchEvent("expandLeft"),a.klass.add(e.body,"snapjs-expand-left"),a.klass.remove(e.body,"snapjs-expand-right")):(a.dispatchEvent("expandRight"),a.klass.add(e.body,"snapjs-expand-right"),a.klass.remove(e.body,"snapjs-expand-left"),n*=-1),l.translate.easeTo(n)},this.on=function(t,e){return s[t]=e,this},this.off=function(t){s[t]&&(s[t]=!1)},this.enable=function(){a.dispatchEvent("enable"),l.drag.listen()},this.disable=function(){a.dispatchEvent("disable"),l.drag.stopListening()},this.settings=function(t){a.deepExtend(o,t)},this.state=function(){var t=l.translate.get.matrix(4);return{state:t===o.maxPosition?"left":t===o.minPosition?"right":"closed",info:r.simpleStates}},(n=i).element&&(a.deepExtend(o,n),r.vendor=a.vendor(),l.drag.listen())};"undefined"!=typeof module&&module.exports&&(module.exports=i),"undefined"==typeof ender&&(this.Snap=i),"function"==typeof define&&define.amd&&define("snap",[],(function(){return i}))}.call(this,window,document),function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}((function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,i,n,o,r,s,a,l,c,d,u,h,p,f,g,m,v,y,b,w,x,k,C,S,T=[],_=!1,A=!1,D=!1,E=/\s+/g,M="Sortable"+(new Date).getTime(),I=window,$=I.document,L=I.parseInt,O=I.setTimeout,N=I.jQuery||I.Zepto,P=I.Polymer,j={capture:!1,passive:!1},H="draggable"in $.createElement("div"),F=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((C=$.createElement("x")).style.cssText="pointer-events:auto","auto"===C.style.pointerEvents),B=!1,R=!1,z=Math.abs,W=Math.min,Y=[],U=[],q=function(t,e){var i=nt(t),n=L(i.width),o=ct(t,0,e),r=ct(t,1,e),s=o&&nt(o),a=r&&nt(r),l=s&&L(s.marginLeft)+L(s.marginRight)+o.getBoundingClientRect().width,c=a&&L(a.marginLeft)+L(a.marginRight)+r.getBoundingClientRect().width;return"flex"===i.display?"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal":o&&("block"===s.display||"grid"===s.display||n<=l&&"none"===i.float||r&&"none"===i.float&&n<l+c)?"vertical":"horizontal"},X=function(t,e){if(!t||!t.getBoundingClientRect)return I;var i=t,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var o=nt(i);if(i.clientWidth<i.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!i||!i.getBoundingClientRect||i===$.body)return I;if(n||e)return i;n=!0}}}while(i=i.parentNode);return I},Q=ft((function(t,e,i,n){if(e.scroll){var o,r,s,d,u=i?i[M]:window,h=e.scrollSensitivity,p=e.scrollSpeed,f=t.clientX,g=t.clientY,m=window.innerWidth,v=window.innerHeight,b=!1;l!==i&&(V(),a=e.scroll,c=e.scrollFn,!0===a&&(a=X(i,!0),l=a));var w=0,x=a;do{var k;if(x&&x!==I?(r=nt(k=x),o=x.getBoundingClientRect(),s=k.clientWidth<k.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)&&(z(o.right-f)<=h)-(z(o.left-f)<=h),d=k.clientHeight<k.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)&&(z(o.bottom-g)<=h)-(z(o.top-g)<=h)):x===I&&(k=I,s=(m-f<=h)-(f<=h),d=(v-g<=h)-(g<=h)),!T[w])for(var C=0;C<=w;C++)T[C]||(T[C]={});T[w].vx==s&&T[w].vy==d&&T[w].el===k||(T[w].el=k,T[w].vx=s,T[w].vy=d,clearInterval(T[w].pid),!k||0==s&&0==d||(b=!0,T[w].pid=setInterval(function(){n&&0===this.layer&&Z.active._emulateDragOver(!0);var e=T[this.layer].vy?T[this.layer].vy*p:0,i=T[this.layer].vx?T[this.layer].vx*p:0;"function"==typeof c&&"continue"!==c.call(u,i,e,t,y,T[this.layer].el)||(T[this.layer].el===I?I.scrollTo(I.pageXOffset+i,I.pageYOffset+e):(T[this.layer].el.scrollTop+=e,T[this.layer].el.scrollLeft+=i))}.bind({layer:w}),24))),w++}while(e.bubbleScroll&&x!==I&&(x=X(x,!1)));_=b}}),30),V=function(){T.forEach((function(t){clearInterval(t.pid)})),T=[]},K=function(t){function e(t,e){return function(i,n,o,r){var s;if(null==t&&e)s=!0;else if(null==t||!1===t)s=!1;else if(e&&"clone"===t)s=t;else if("function"==typeof t)s=t(i,n,o,r);else{var a=(e?i:n).options.group.name;s=!0===t||"string"==typeof t&&t===a||t.join&&-1<t.indexOf(a)}return s||i.options.group.name&&n.options.group.name&&i.options.group.name===n.options.group.name}}var i={},n=t.group;n&&"object"==typeof n||(n={name:n}),i.name=n.name,i.checkPull=e(n.pull,!0),i.checkPut=e(n.put),i.revertClone=n.revertClone,t.group=i},G=function(e){t&&t.parentNode[M]&&t.parentNode[M]._computeIsAligned(e)};function Z(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=gt({},e),t[M]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:L(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Z.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator)};for(var n in i)!(n in e)&&(e[n]=i[n]);for(var o in"direction"in e||(e.direction=function(){return q(t,e)}),K(e),null==e.invertedSwapThreshold&&(e.invertedSwapThreshold=e.swapThreshold),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&H,tt(t,"mousedown",this._onTapStart),tt(t,"touchstart",this._onTapStart),e.supportPointer&&tt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(tt(t,"dragover",this),tt(t,"dragenter",this)),U.push(this._onDragOver),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function J(t,e,i,n){if(t){i=i||$;do{if(">*"===e&&t.parentNode===i||pt(t,e)||n&&t===i)return t;if(t===i)break}while(t=(o=t).host&&o!==$&&o.host.nodeType?o.host:o.parentNode)}var o;return null}function tt(t,e,i){t.addEventListener(e,i,j)}function et(t,e,i){t.removeEventListener(e,i,j)}function it(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(E," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(E," ")}}function nt(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return $.defaultView&&$.defaultView.getComputedStyle?i=$.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function ot(t,e,i){if(t){var n=t.getElementsByTagName(e),o=0,r=n.length;if(i)for(;o<r;o++)i(n[o],o);return n}return[]}function rt(t,e,i,o,r,s,a,l,c){var d,u=(t=t||e[M]).options,h="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent?d=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(d=$.createEvent("Event")).initEvent(i,!0,!0),d.to=r||e,d.from=s||e,d.item=o||e,d.clone=n,d.oldIndex=a,d.newIndex=l,d.originalEvent=c,e.dispatchEvent(d),u[h]&&u[h].call(t,d)}function st(t,e,i,n,o,r,s,a){var l,c,d=t[M],u=d.options.onMove;return window.CustomEvent?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=$.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=o||e,l.relatedRect=r||e.getBoundingClientRect(),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),u&&(c=u.call(d,l,s)),c}function at(t){t.draggable=!1}function lt(){B=!1}function ct(e,n,o){for(var r=0,s=0,a=e.children;s<a.length;){if("none"!==a[s].style.display&&a[s]!==i&&a[s]!==t&&J(a[s],o.draggable,e,!1)){if(r===n)return a[s];r++}s++}return null}function dt(t){var e=t.lastElementChild;return e===i&&(e=t.children[t.childElementCount-2]),e||null}function ut(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function ht(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!pt(t,e)||i++;return i}function pt(t,e){if(t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e)}catch(t){return!1}return!1}function ft(t,e){return function(){if(!S){var i=arguments,n=this;S=O((function(){1===i.length?t.call(n,i[0]):t.apply(n,i),S=void 0}),e)}}}function gt(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function mt(t){return P&&P.dom?P.dom(t).cloneNode(!0):N?N(t).clone(!0)[0]:t.cloneNode(!0)}function vt(t){return O(t,0)}function yt(t){return clearTimeout(t)}function bt(t){Z.active&&t.cancelable&&t.preventDefault()}return Z.prototype={constructor:Z,_isAligned:!0,_computeIsAligned:function(e,i){var n,o,r,s,a,l,c;R||t&&t.parentNode===this.el&&(!0!==i&&!1!==i&&(i=!!J(e.target,null,t,!0)),this._isAligned=!_&&(i||this._isAligned&&(n=e.clientX,o=e.clientY,this.el,r=this._getDirection(e,null),this.options,s=k||t.getBoundingClientRect(),a="vertical"===r?s.left:s.top,l="vertical"===r?s.right:s.bottom,a<(c="vertical"===r?n:o)&&c<l)),R=!0,O((function(){R=!1}),30))},_getDirection:function(e,i){return"function"==typeof this.options.direction?this.options.direction.call(this,e,i,t):this.options.direction},_onTapStart:function(e){var i,n=this,o=this.el,r=this.options,a=r.preventOnFilter,l=e.type,c=e.touches&&e.touches[0],d=(c||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,h=r.filter;if(function(t){Y.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&Y.push(n)}}(o),!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||r.disabled)&&!u.isContentEditable&&(d=J(d,r.draggable,o,!0))&&s!==d){if(i=ht(d,r.draggable),"function"==typeof h){if(h.call(this,e,d,this))return rt(n,u,"filter",d,o,o,i),void(a&&e.cancelable&&e.preventDefault())}else if(h&&(h=h.split(",").some((function(t){if(t=J(u,t.trim(),o,!1))return rt(n,t,"filter",d,o,o,i),!0}))))return void(a&&e.cancelable&&e.preventDefault());r.handle&&!J(u,r.handle,o,!1)||this._prepareDragStart(e,c,d,i)}},_handleAutoScroll:function(e,i){if(t&&this.options.scroll){var n=e.clientX,o=e.clientY,r=$.elementFromPoint(n,o),s=this;if(i||window.navigator&&-1<window.navigator.userAgent.toLowerCase().indexOf("firefox")){Q(e,s.options,r,!0);var a=X(r,!0);!_||f&&n===g&&o===m||(f&&clearInterval(f),f=setInterval((function(){if(t){var i=X($.elementFromPoint(n,o),!0);i!==a&&(a=i,V(),Q(e,s.options,a,!0))}}),10),g=n,m=o)}else{if(!s.options.bubbleScroll||X(r,!0)===window)return void V();Q(e,s.options,X(r,!1))}}},_prepareDragStart:function(i,n,a,l){var c,u=this,p=u.el,f=u.options,g=p.ownerDocument;a&&!t&&a.parentNode===p&&(v=i,o=p,e=(t=a).parentNode,r=t.nextSibling,s=a,h=f.group,d=l,this._lastX=(n||i).clientX,this._lastY=(n||i).clientY,t.style["will-change"]="all",c=function(){u._disableDelayedDrag(),t.draggable=u.nativeDraggable,u._triggerDragStart(i,n),rt(u,o,"choose",t,o,o,d),it(t,f.chosenClass,!0)},f.ignore.split(",").forEach((function(e){ot(t,e.trim(),at)})),tt(g,"mouseup",u._onDrop),tt(g,"touchend",u._onDrop),tt(g,"touchcancel",u._onDrop),f.supportPointer&&tt(g,"pointercancel",u._onDrop),f.delay?(tt(g,"mouseup",u._disableDelayedDrag),tt(g,"touchend",u._disableDelayedDrag),tt(g,"touchcancel",u._disableDelayedDrag),tt(g,"mousemove",u._delayedDragTouchMoveHandler),tt(g,"touchmove",u._delayedDragTouchMoveHandler),f.supportPointer&&tt(g,"pointermove",u._delayedDragTouchMoveHandler),u._dragStartTimer=O(c.bind(u),f.delay)):c())},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;W(z(e.clientX-this._lastX),z(e.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),et(t,"mouseup",this._disableDelayedDrag),et(t,"touchend",this._disableDelayedDrag),et(t,"touchcancel",this._disableDelayedDrag),et(t,"mousemove",this._delayedDragTouchMoveHandler),et(t,"touchmove",this._delayedDragTouchMoveHandler),et(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){(i=i||("touch"==e.pointerType?e:null))?(v={target:t,clientX:i.clientX,clientY:i.clientY},this._onDragStart(v,"touch")):this.nativeDraggable?(tt(t,"dragend",this),tt(o,"dragstart",this._onDragStart)):this._onDragStart(v,!0);try{$.selection?vt((function(){$.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(o&&t){this.nativeDraggable&&(tt($,"dragover",this._handleAutoScroll),tt($,"dragover",G));var e=this.options;it(t,e.dragClass,!1),it(t,e.ghostClass,!0),nt(t,"transform",""),(Z.active=this)._isAligned=!0,rt(this,o,"start",t,o,o,d)}else this._nulling()},_emulateDragOver:function(e){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY&&!e)return;this._lastX=y.clientX,this._lastY=y.clientY,F||nt(i,"display","none");for(var n=$.elementFromPoint(y.clientX,y.clientY),o=n,r=!!J(n,null,t,!0);n&&n.shadowRoot;)o=n=n.shadowRoot.elementFromPoint(y.clientX,y.clientY);if(o)do{if(o[M]){for(var s=U.length;s--;)U[s]({clientX:y.clientX,clientY:y.clientY,target:n,rootEl:o});if(!this.options.dragoverBubble)break}n=o}while(o=o.parentNode);t.parentNode[M]._computeIsAligned(y,r),F||nt(i,"display","")}},_onTouchMove:function(t){if(v){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,r=t.touches?t.touches[0]:t,s=r.clientX-v.clientX+o.x,a=r.clientY-v.clientY+o.y,l=t.touches?"translate3d("+s+"px,"+a+"px,0)":"translate("+s+"px,"+a+"px)";if(this.options.supportPointer&&"touchmove"===t.type)return;if(!Z.active){if(n&&W(z(r.clientX-this._lastX),z(r.clientY-this._lastY))<n)return;this._dragStarted()}this._appendGhost(),this._handleAutoScroll(r,!0),b=!0,y=r,nt(i,"webkitTransform",l),nt(i,"mozTransform",l),nt(i,"msTransform",l),nt(i,"transform",l),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!i){var e,n=t.getBoundingClientRect(),r=nt(t),s=this.options;it(i=t.cloneNode(!0),s.ghostClass,!1),it(i,s.fallbackClass,!0),it(i,s.dragClass,!0),nt(i,"top",n.top-L(r.marginTop,10)),nt(i,"left",n.left-L(r.marginLeft,10)),nt(i,"width",n.width),nt(i,"height",n.height),nt(i,"opacity","0.8"),nt(i,"position","fixed"),nt(i,"zIndex","100000"),nt(i,"pointerEvents","none"),s.fallbackOnBody&&$.body.appendChild(i)||o.appendChild(i),e=i.getBoundingClientRect(),nt(i,"width",2*n.width-e.width),nt(i,"height",2*n.height-e.height)}},_onDragStart:function(e,i){var r=this,s=e.dataTransfer,a=r.options;r._offUpEvents(),h.checkPull(r,r,t,e)&&((n=mt(t)).draggable=!1,n.style["will-change"]="",this._hideClone(),it(n,r.options.chosenClass,!1),r._cloneId=vt((function(){o.insertBefore(n,t),rt(r,o,"clone",t)}))),it(t,a.dragClass,!0),i?("touch"===i?(tt($,"touchmove",bt),tt($,"touchmove",r._onTouchMove),tt($,"touchend",r._onDrop),tt($,"touchcancel",r._onDrop),a.supportPointer&&(tt($,"pointermove",r._onTouchMove),tt($,"pointerup",r._onDrop))):(tt($,"mousemove",r._onTouchMove),tt($,"mouseup",r._onDrop)),r._loopId=setInterval(r._emulateDragOver,50),it(t,a.dragClass,!1)):(s&&(s.effectAllowed="move",a.setData&&a.setData.call(r,s,t)),tt($,"drop",r),nt(t,"transform","translateZ(0)"),r._dragStartId=vt(r._dragStarted)),tt($,"selectstart",r)},_onDragOver:function(s){var a,l,c,d,u,f,g,m,v,y,C,S,T=this.el,_=this.options,E=_.group,I=Z.active,$=h===E,N=_.sort;if((void 0===s.rootEl||s.rootEl===this.el)&&(_.dragoverBubble||s.rootEl||(this._handleAutoScroll(s),t.parentNode[M]._computeIsAligned(s)),void 0!==s.preventDefault&&(s.cancelable&&s.preventDefault(),!_.dragoverBubble&&s.stopPropagation()),b=!0,a=J(s.target,_.draggable,T,!0),!(t.animated&&a===t||a.animated||B)&&(a!==w&&(A=D=!1,w=null),I&&!_.disabled&&($?N||(d=!o.contains(t)):p===this||(this.lastPutMode=h.checkPull(this,I,t,s))&&E.checkPut(this,I,t,s))))){var P,j=this._getDirection(s,a);if(l=t.getBoundingClientRect(),p!==this&&this!==Z.active?p=this:this===Z.active&&(p=null),d)return this._hideClone(),e=o,void(n||r?o.insertBefore(t,n||r):N||o.appendChild(t));if(0===T.children.length||T.children[0]===i||T===s.target&&(u=s,f=j,g=dt(T).getBoundingClientRect(),m="vertical"===f?u.clientY:u.clientX,v="vertical"===f?u.clientX:u.clientY,y="vertical"===f?g.bottom:g.right,C="vertical"===f?g.left:g.top,S="vertical"===f?g.right:g.bottom,C<v&&v<S&&y<m)){if(0!==T.children.length&&T.children[0]!==i&&T===s.target&&(a=dt(T)),a){if(a.animated)return;c=a.getBoundingClientRect()}$?I._hideClone():I._showClone(this),!1!==st(o,T,t,l,a,c,s,!!a)&&(t.contains(T)||(T.appendChild(t),e=T,this._isAligned=!0,k=null),this._animate(l,t),a&&this._animate(c,a))}else if(a&&!a.animated&&a!==t&&void 0!==a.parentNode[M]&&a!==T){if(D=D||_.invertSwap||t.parentNode!==T||!this._isAligned,0===(P=function(e,i,n,o,r,s,a){var l=i.getBoundingClientRect(),c="vertical"===n?e.clientY:e.clientX,d="vertical"===n?l.height:l.width,u="vertical"===n?l.top:l.left,h="vertical"===n?l.bottom:l.right,p=t.getBoundingClientRect(),f="vertical"===n?p.height:p.width,g=!1,m=nt(t);if(f+=L(m.marginLeft)+L(m.marginRight),!s)if(a&&f<d*o){if(!A&&(1===x?u+d*r/2<c:c<h-d*r/2)&&(A=!0),A)g=!0;else if("vertical"===n?p.top:p.left,"vertical"===n?p.bottom:p.right,1===x?c<u+f:h-f<c)return-1*x}else if(u+d*(1-o)/2<c&&c<h-d*(1-o)/2)return u+d/2<c?-1:1;return(g=g||s)&&(c<u+d*r/2||h-d*r/2<c)?u+d/2<c?1:-1:0}(s,a,j,_.swapThreshold,_.invertedSwapThreshold,D,w===a)))return;k=null,this._isAligned=!0,w&&(w===a||a&&a.animated)||(A=!1,w=a),x=P,c=a.getBoundingClientRect();var H=a.nextElementSibling,F=!1,R=st(o,T,t,l,a,c,s,F=1===P);!1!==R&&(1!==R&&-1!==R||(F=1===R),B=!0,O(lt,30),$?I._hideClone():I._showClone(this),t.contains(T)||(F&&!H?T.appendChild(t):a.parentNode.insertBefore(t,F?H:a)),e=t.parentNode,this._animate(l,t),this._animate(c,a))}}},_animate:function(e,i){var n=this.options.animation;if(n){var o=i.getBoundingClientRect();if(i===t&&(k=o),1===e.nodeType&&(e=e.getBoundingClientRect()),e.left+e.width/2===o.left+o.width/2&&e.top+e.height/2===o.top+o.height/2)return;nt(i,"transition","none"),nt(i,"transform","translate3d("+(e.left-o.left)+"px,"+(e.top-o.top)+"px,0)"),i.offsetWidth,nt(i,"transition","all "+n+"ms"),nt(i,"transform","translate3d(0,0,0)"),clearTimeout(i.animated),i.animated=O((function(){nt(i,"transition",""),nt(i,"transform",""),i.animated=!1}),n)}},_offUpEvents:function(){var t=this.el.ownerDocument;et($,"touchmove",bt),et($,"touchmove",this._onTouchMove),et($,"pointermove",this._onTouchMove),et(t,"mouseup",this._onDrop),et(t,"touchend",this._onDrop),et(t,"pointerup",this._onDrop),et(t,"touchcancel",this._onDrop),et(t,"pointercancel",this._onDrop),et($,"selectstart",this)},_onDrop:function(s){var a=this.el,l=this.options;A=D=_=!1,clearInterval(this._loopId),clearInterval(f),V(),clearTimeout(S),S=void 0,clearTimeout(this._dragStartTimer),yt(this._cloneId),yt(this._dragStartId),et($,"mousemove",this._onTouchMove),this.nativeDraggable&&(et($,"drop",this),et(a,"dragstart",this._onDragStart),et($,"dragover",this._handleAutoScroll),et($,"dragover",G)),this._offUpEvents(),s&&(b&&(s.cancelable&&s.preventDefault(),!l.dropBubble&&s.stopPropagation()),i&&i.parentNode&&i.parentNode.removeChild(i),(o===e||p&&"clone"!==p.lastPutMode)&&n&&n.parentNode&&n.parentNode.removeChild(n),t&&(this.nativeDraggable&&et(t,"dragend",this),at(t),t.style["will-change"]="",it(t,this.options.ghostClass,!1),it(t,this.options.chosenClass,!1),rt(this,o,"unchoose",t,e,o,d,null,s),o!==e?(0<=(u=ht(t,l.draggable))&&(rt(null,e,"add",t,e,o,d,u,s),rt(this,o,"remove",t,e,o,d,u,s),rt(null,e,"sort",t,e,o,d,u,s),rt(this,o,"sort",t,e,o,d,u,s)),p&&p.save()):t.nextSibling!==r&&0<=(u=ht(t,l.draggable))&&(rt(this,o,"update",t,e,o,d,u,s),rt(this,o,"sort",t,e,o,d,u,s)),Z.active&&(null!=u&&-1!==u||(u=d),rt(this,o,"end",t,e,o,d,u,s),this.save()))),this._nulling()},_nulling:function(){o=t=e=i=r=n=s=a=l=T.length=f=g=m=v=y=b=u=d=w=x=k=p=h=Z.active=null,Y.forEach((function(t){t.checked=!0})),Y.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,n=0,o=i.length,r=this.options;n<o;n++)J(t=i[n],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||ut(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach((function(t,n){var o=i.children[n];J(o,this.options.draggable,i,!1)&&(e[t]=o)}),this),t.forEach((function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return J(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];i[t]=e,"group"===t&&K(i)},destroy:function(){var t=this.el;t[M]=null,et(t,"mousedown",this._onTapStart),et(t,"touchstart",this._onTapStart),et(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(et(t,"dragover",this),et(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),U.splice(U.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null},_hideClone:function(){n.cloneHidden||(nt(n,"display","none"),n.cloneHidden=!0)},_showClone:function(e){"clone"===e.lastPutMode?n.cloneHidden&&(o.contains(t)&&!this.options.group.revertClone?o.insertBefore(n,t):r?o.insertBefore(n,r):o.appendChild(n),this.options.group.revertClone&&this._animate(t,n),nt(n,"display",""),n.cloneHidden=!1):this._hideClone()}},Z.utils={on:tt,off:et,css:nt,find:ot,is:function(t,e){return!!J(t,e,t,!1)},extend:gt,throttle:ft,closest:J,toggleClass:it,clone:mt,index:ht,nextTick:vt,cancelNextTick:yt,detectDirection:q,getChild:ct},Z.create=function(t,e){return new Z(t,e)},Z.version="1.8.0-rc1",Z})),function(){"use strict";var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(i){return function(i,n){var o,r,s,a,l,c,d,u,h,p=1,f=i.length,g="";for(r=0;r<f;r++)if("string"==typeof i[r])g+=i[r];else if("object"==typeof i[r]){if((a=i[r]).keys)for(o=n[p],s=0;s<a.keys.length;s++){if(null==o)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));o=o[a.keys[s]]}else o=a.param_no?n[a.param_no]:n[p++];if(t.not_type.test(a.type)&&t.not_primitive.test(a.type)&&o instanceof Function&&(o=o()),t.numeric_arg.test(a.type)&&"number"!=typeof o&&isNaN(o))throw new TypeError(e("[sprintf] expecting number but found %T",o));switch(t.number.test(a.type)&&(u=0<=o),a.type){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,a.width?parseInt(a.width):0);break;case"e":o=a.precision?parseFloat(o).toExponential(a.precision):parseFloat(o).toExponential();break;case"f":o=a.precision?parseFloat(o).toFixed(a.precision):parseFloat(o);break;case"g":o=a.precision?String(Number(o.toPrecision(a.precision))):parseFloat(o);break;case"o":o=(parseInt(o,10)>>>0).toString(8);break;case"s":o=String(o),o=a.precision?o.substring(0,a.precision):o;break;case"t":o=String(!!o),o=a.precision?o.substring(0,a.precision):o;break;case"T":o=Object.prototype.toString.call(o).slice(8,-1).toLowerCase(),o=a.precision?o.substring(0,a.precision):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=a.precision?o.substring(0,a.precision):o;break;case"x":o=(parseInt(o,10)>>>0).toString(16);break;case"X":o=(parseInt(o,10)>>>0).toString(16).toUpperCase()}t.json.test(a.type)?g+=o:(!t.number.test(a.type)||u&&!a.sign?h="":(h=u?"+":"-",o=o.toString().replace(t.sign,"")),c=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",d=a.width-(h+o).length,l=a.width&&0<d?c.repeat(d):"",g+=a.align?h+o+l:"0"===c?h+l+o:l+h+o)}return g}(function(e){if(n[e])return n[e];for(var i,o=e,r=[],s=0;o;){if(null!==(i=t.text.exec(o)))r.push(i[0]);else if(null!==(i=t.modulo.exec(o)))r.push("%");else{if(null===(i=t.placeholder.exec(o)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){s|=1;var a=[],l=i[2],c=[];if(null===(c=t.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=t.key_access.exec(l)))a.push(c[1]);else{if(null===(c=t.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(c[1])}i[2]=a}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:i[0],param_no:i[1],keys:i[2],sign:i[3],pad_char:i[4],align:i[5],width:i[6],precision:i[7],type:i[8]})}o=o.substring(i[0].length)}return n[e]=r}(i),arguments)}function i(t,i){return e.apply(null,[t].concat(i||[]))}var n=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=e,exports.vsprintf=i),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=i,"function"==typeof define&&define.amd&&define((function(){return{sprintf:e,vsprintf:i}})))}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,(function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e=function(){function e(t,e,i,n){this.markup=t,this.children=e,this.options=i,this.callback=n}return e.prototype.render=function(e){var i=t(this.markup);if(this.options&&this.options.contents&&i.html(this.options.contents),this.options&&this.options.className&&i.addClass(this.options.className),this.options&&this.options.data&&t.each(this.options.data,(function(t,e){i.attr("data-"+t,e)})),this.options&&this.options.click&&i.on("click",this.options.click),this.children){var n=i.find(".note-children-container");this.children.forEach((function(t){t.render(n.length?n:i)}))}return this.callback&&this.callback(i,this.options),this.options&&this.options.callback&&this.options.callback(i),e&&e.append(i),i},e}(),i=function(i,n){return function(){var o="object"==typeof arguments[1]?arguments[1]:arguments[0],r=t.isArray(arguments[0])?arguments[0]:[];return o&&o.children&&(r=o.children),new e(i,r,o,n)}},n=function(){function t(t,e){if(this.$node=t,this.options=$.extend({},{title:"",target:e.container,trigger:"hover focus",placement:"bottom"},e),this.$tooltip=$(['<div class="note-tooltip in">','  <div class="note-tooltip-arrow"/>','  <div class="note-tooltip-content"/>',"</div>"].join("")),"manual"!==this.options.trigger){var i=this.show.bind(this),n=this.hide.bind(this),o=this.toggle.bind(this);this.options.trigger.split(" ").forEach((function(e){"hover"===e?(t.off("mouseenter mouseleave"),t.on("mouseenter",i).on("mouseleave",n)):"click"===e?t.on("click",o):"focus"===e&&t.on("focus",i).on("blur",n)}))}}return t.prototype.show=function(){var t=this.$node,e=t.offset(),i=this.$tooltip,n=this.options.title||t.attr("title")||t.data("title"),o=this.options.placement||t.data("placement");i.addClass(o),i.addClass("in"),i.find(".note-tooltip-content").text(n),i.appendTo(this.options.target);var r=t.outerWidth(),s=t.outerHeight(),a=i.outerWidth(),l=i.outerHeight();"bottom"===o?i.css({top:e.top+s,left:e.left+(r/2-a/2)}):"top"===o?i.css({top:e.top-l,left:e.left+(r/2-a/2)}):"left"===o?i.css({top:e.top+(s/2-l/2),left:e.left-a}):"right"===o&&i.css({top:e.top+(s/2-l/2),left:e.left+r})},t.prototype.hide=function(){this.$tooltip.removeClass("in"),this.$tooltip.remove()},t.prototype.toggle=function(){this.$tooltip.hasClass("in")?this.hide():this.show()},t}(),o=function(){function t(t,e){this.$button=t,this.options=$.extend({},{target:e.container},e),this.setEvent()}return t.prototype.setEvent=function(){var t=this;this.$button.on("click",(function(e){t.toggle(),e.stopImmediatePropagation()}))},t.prototype.clear=function(){var t=$(".note-btn-group.open");t.find(".note-btn.active").removeClass("active"),t.removeClass("open")},t.prototype.show=function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var t=this.$button.next(),e=t.offset(),i=t.outerWidth(),n=$(window).width(),o=parseFloat($(this.options.target).css("margin-right"));e.left+i>n-o?t.css("margin-left",n-o-(e.left+i)):t.css("margin-left","")},t.prototype.hide=function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")},t.prototype.toggle=function(){var t=this.$button.parent().hasClass("open");this.clear(),t?this.hide():this.show()},t}();$(document).on("click",(function(t){$(t.target).closest(".note-btn-group").length||$(".note-btn-group.open").removeClass("open")})),$(document).on("click.note-dropdown-menu",(function(t){$(t.target).closest(".note-dropdown-menu").parent().removeClass("open")}));var r=function(){function t(t,e){this.options=$.extend({},{target:e.container||"body"},e),this.$modal=t,this.$backdrop=$('<div class="note-modal-backdrop" />')}return t.prototype.show=function(){"body"===this.options.target?(this.$backdrop.css("position","fixed"),this.$modal.css("position","fixed")):(this.$backdrop.css("position","absolute"),this.$modal.css("position","absolute")),this.$backdrop.appendTo(this.options.target).show(),this.$modal.appendTo(this.options.target).addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this))},t.prototype.hide=function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide")},t}(),s=i('<div class="note-editor note-frame"/>'),a=i('<div class="note-toolbar" role="toolbar"/>'),l=i('<div class="note-editing-area"/>'),c=i('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),d=i('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),u=i(['<output class="note-status-output" role="status" aria-live="polite"/>','<div class="note-statusbar" role="resize">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),h=i('<div class="note-editor"/>'),p=i(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" role="status" aria-live="polite"/>'].join("")),f=i('<div class="note-btn-group">'),g=i('<button type="button" class="note-btn" role="button" tabindex="-1">',(function(t,e){e&&e.tooltip&&(t.attr({"aria-label":e.tooltip}),t.data("_lite_tooltip",new n(t,{title:e.tooltip,container:e.container}))),e.contents&&t.html(e.contents),e&&e.data&&"dropdown"===e.data.toggle&&t.data("_lite_dropdown",new o(t,{container:e.container}))})),m=i('<div class="note-dropdown-menu" role="list">',(function(t,e){var i=$.isArray(e.items)?e.items.map((function(t){var i="string"==typeof t?t:t.value||"",n=e.template?e.template(t):t,o=$('<a class="note-dropdown-item" href="#" data-value="'+i+'" role="listitem" aria-label="'+t+'"></a>');return o.html(n).data("item",t),o})):e.items;t.html(i).attr({"aria-label":e.title}),t.on("click","> .note-dropdown-item",(function(t){var i=$(this),n=i.data("item"),o=i.data("value");n.click?n.click(i):e.itemClick&&e.itemClick(t,n,o)}))})),v=i('<div class="note-dropdown-menu note-check" role="list">',(function(t,e){var i=$.isArray(e.items)?e.items.map((function(t){var i="string"==typeof t?t:t.value||"",n=e.template?e.template(t):t,o=$('<a class="note-dropdown-item" href="#" data-value="'+i+'" role="listitem" aria-label="'+t+'"></a>');return o.html([k(e.checkClassName)," ",n]).data("item",t),o})):e.items;t.html(i).attr({"aria-label":e.title}),t.on("click","> .note-dropdown-item",(function(t){var i=$(this),n=i.data("item"),o=i.data("value");n.click?n.click(i):e.itemClick&&e.itemClick(t,n,o)}))})),y=i('<div class="note-color-palette"/>',(function(t,e){for(var i=[],o=0,r=e.colors.length;o<r;o++){for(var s=e.eventName,a=e.colors[o],l=e.colorsName[o],c=[],d=0,u=a.length;d<u;d++){var h=a[d],p=l[d];c.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',h,'" ','data-event="',s,'" ','data-value="',h,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+c.join("")+"</div>")}t.html(i.join("")),t.find(".note-color-btn").each((function(){$(this).data("_lite_tooltip",new n($(this),{container:e.container}))}))})),b=i('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',(function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['  <div class="note-modal-content">',e.title?'    <div class="note-modal-header">      <button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button>      <h4 class="note-modal-title">'+e.title+"</h4>    </div>":"",'    <div class="note-modal-body">'+e.body+"</div>",e.footer?'    <div class="note-modal-footer">'+e.footer+"</div>":"","  </div>"].join("")),t.data("modal",new r(t,e))})),w=i(['<div class="note-popover bottom">','  <div class="note-popover-arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),(function(t,e){var i=void 0!==e.direction?e.direction:"bottom";t.addClass(i).hide(),e.hideArrow&&t.find(".note-popover-arrow").hide()})),x=i('<div class="checkbox"></div>',(function(t,e){t.html(["<label"+(e.id?' for="'+e.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(e.id?' id="'+e.id+'"':""),e.checked?" checked":"",' aria-checked="'+(e.checked?"true":"false")+'"/>',e.text?e.text:"","</label>"].join(""))})),k=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},C={editor:s,toolbar:a,editingArea:l,codable:c,editable:d,statusbar:u,airEditor:h,airEditable:p,buttonGroup:f,button:g,dropdown:m,dropdownCheck:v,dropdownButton:function(t,e){return f([g({className:"dropdown-toggle",contents:t.title+" "+k("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),m({className:t.className,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},dropdownButtonContents:function(t,e){return t+" "+k(e.icons.caret,"span")},dropdownCheckButton:function(t,e){return f([g({className:"dropdown-toggle",contents:t.title+" "+k("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),v({className:t.className,checkClassName:t.checkClassName,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},paragraphDropdownButton:function(t){return f([g({className:"dropdown-toggle",contents:t.title+" "+k("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),m([f({className:"note-align",children:t.items[0]}),f({className:"note-list",children:t.items[1]})])]).render()},tableDropdownButton:function(t){return f([g({className:"dropdown-toggle",contents:t.title+" "+k("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),m({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.col+"em",height:t.row+"em"}).mousedown(t.itemClick).mousemove((function(e){!function(t,e,i){var n,o=$(t.target.parentNode),r=o.next(),s=o.find(".note-dimension-picker-mousecatcher"),a=o.find(".note-dimension-picker-highlighted"),l=o.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var c=$(t.target).offset();n={x:t.pageX-c.left,y:t.pageY-c.top}}else n={x:t.offsetX,y:t.offsetY};var d=Math.ceil(n.x/18)||1,u=Math.ceil(n.y/18)||1;a.css({width:d+"em",height:u+"em"}),s.data("value",d+"x"+u),d>3&&d<e&&l.css({width:d+1+"em"}),u>3&&u<i&&l.css({height:u+1+"em"}),r.html(d+" x "+u)}(e,t.col,t.row)}))}}).render()},colorDropdownButton:function(t,e){return f({className:"note-color",children:[g({className:"note-current-color-button",contents:t.title,tooltip:t.lang.color.recent,click:t.currentClick,callback:function(t){var i=t.find(".note-recent-color");"foreColor"!==e&&(i.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00"))}}),g({className:"dropdown-toggle",contents:k("note-icon-caret"),tooltip:t.lang.color.more,data:{toggle:"dropdown"}}),m({items:["<div>",'<div class="note-btn-group btn-background-color">','  <div class="note-palette-title">'+t.lang.color.background+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="backColor" data-value="inherit">',t.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>','  <div class="btn-sm">','    <input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',t.lang.color.cpSelect,"    </button>","  </div>","</div>",'<div class="note-btn-group btn-foreground-color">','  <div class="note-palette-title">'+t.lang.color.foreground+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="removeFormat" data-value="foreColor">',t.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>','  <div class="btn-sm">','    <input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',t.lang.color.cpSelect,"    </button>","  </div>","</div>","</div>"].join(""),callback:function(i){i.find(".note-holder").each((function(){var e=$(this);e.append(y({colors:t.colors,eventName:e.data("event")}).render())})),"fore"===e?(i.find(".btn-background-color").hide(),i.css({"min-width":"210px"})):"back"===e&&(i.find(".btn-foreground-color").hide(),i.css({"min-width":"210px"}))},click:function(i){var n=$(i.target),o=n.data("event"),r=n.data("value"),s=document.getElementById("html5fcp").value,a=document.getElementById("html5bcp").value;if("cp"===r?i.stopPropagation():"cpbackColor"===r?r=a:"cpforeColor"===r&&(r=s),o&&r){var l="backColor"===o?"background-color":"color",c=n.closest(".note-color").find(".note-recent-color"),d=n.closest(".note-color").find(".note-current-color-button");c.css(l,r),d.attr("data-"+o,r),"fore"===e?t.itemClick("foreColor",r):"back"===e?t.itemClick("backColor",r):t.itemClick(o,r)}}})]}).render()},palette:y,dialog:b,videoDialog:function(t){var e='<div class="note-form-group"><label class="note-form-label">'+t.lang.video.url+' <small class="text-muted">'+t.lang.video.providers+'</small></label><input class="note-video-url note-input" type="text" /></div>',i=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',t.lang.video.insert,"</button>"].join("");return b({title:t.lang.video.insert,fade:t.fade,body:e,footer:i}).render()},imageDialog:function(t){var e='<div class="note-form-group note-group-select-from-files"><label class="note-form-label">'+t.lang.image.selectFromFiles+'</label><input class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple" />'+t.imageLimitation+'</div><div class="note-form-group" style="overflow:auto;"><label class="note-form-label">'+t.lang.image.url+'</label><input class="note-image-url note-input" type="text" /></div>',i=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',t.lang.image.insert,"</button>"].join("");return b({title:t.lang.image.insert,fade:t.fade,body:e,footer:i}).render()},linkDialog:function(t){var e='<div class="note-form-group"><label class="note-form-label">'+t.lang.link.textToDisplay+'</label><input class="note-link-text note-input" type="text" /></div><div class="note-form-group"><label class="note-form-label">'+t.lang.link.url+'</label><input class="note-link-url note-input" type="text" value="http://" /></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.lang.link.openInNewWindow+"</label></div>"),i=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',t.lang.link.insert,"</button>"].join("");return b({className:"link-dialog",title:t.lang.link.insert,fade:t.fade,body:e,footer:i}).render()},popover:w,checkbox:x,icon:k,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},check:function(t,e){t.find(".checked").removeClass("checked"),t.find('[data-value="'+e+'"]').addClass("checked")},onDialogShown:function(t,e){t.one("note.modal.show",e)},onDialogHidden:function(t,e){t.one("note.modal.hide",e)},showDialog:function(t){t.data("modal").show()},hideDialog:function(t){t.data("modal").hide()},getPopoverContent:function(t){return t.find(".note-popover-content")},getDialogBody:function(t){return t.find(".note-modal-body")},createLayout:function(t,e){var i=(e.airMode?C.airEditor([C.editingArea([C.airEditable()])]):C.editor([C.toolbar(),C.editingArea([C.codable(),C.editable()]),C.statusbar()])).render();return i.insertAfter(t),{note:t,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.off("summernote"),t.show()}};t.summernote=t.summernote||{lang:{}},t.extend(t.summernote.lang,{"en-US":{font:{bold:"Полужирный",italic:"Курсив",underline:"Подчёркнутый",clear:"Убрать стили шрифта",height:"Высота линии",name:"Шрифт",strikethrough:"Зачёркнутый",subscript:"Нижний индекс",superscript:"Верхний индекс",size:"Размер шрифта"},image:{image:"Картинка",insert:"Вставить картинку",resizeFull:"Восстановить размер",resizeHalf:"Уменьшить до 50%",resizeQuarter:"Уменьшить до 25%",floatLeft:"Расположить слева",floatRight:"Расположить справа",floatNone:"Расположение по-умолчанию",shapeRounded:"Форма: Закругленная",shapeCircle:"Форма: Круг",shapeThumbnail:"Форма: Миниатюра",shapeNone:"Форма: Нет",dragImageHere:"Перетащите сюда картинку",dropImage:"Перетащите картинку",selectFromFiles:"Выбрать из файлов",maximumFileSize:"Максимальный размер файла",maximumFileSizeError:"Превышен максимальный размер файла",url:"URL картинки",remove:"Удалить картинку",original:"Оригинал"},video:{video:"Видео",videoLink:"Ссылка на видео",insert:"Вставить видео",url:"URL видео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion или Youku)"},link:{link:"Ссылка",insert:"Вставить ссылку",unlink:"Убрать ссылку",edit:"Редактировать",textToDisplay:"Отображаемый текст",url:"URL для перехода",openInNewWindow:"Открывать в новом окне"},table:{table:"Таблица",addRowAbove:"Добавить строку выше",addRowBelow:"Добавить строку ниже",addColLeft:"Добавить столбец слева",addColRight:"Добавить столбец справа",delRow:"Удалить строку",delCol:"Удалить столбец",delTable:"Удалить таблицу"},hr:{insert:"Вставить горизонтальную линию"},style:{style:"Стиль",p:"Нормальный",blockquote:"Цитата",pre:"Код",h1:"Заголовок 1",h2:"Заголовок 2",h3:"Заголовок 3",h4:"Заголовок 4",h5:"Заголовок 5",h6:"Заголовок 6"},lists:{unordered:"Маркированный список",ordered:"Нумерованный список"},options:{help:"Помощь",fullscreen:"На весь экран",codeview:"Исходный код"},paragraph:{paragraph:"Параграф",outdent:"Уменьшить отступ",indent:"Увеличить отступ",left:"Выровнять по левому краю",center:"Выровнять по центру",right:"Выровнять по правому краю",justify:"Растянуть по ширине"},color:{recent:"Последний цвет",more:"Еще цвета",background:"Цвет фона",foreground:"Цвет шрифта",transparent:"Прозрачный",setTransparent:"Сделать прозрачным",reset:"Сброс",resetToDefault:"Восстановить умолчания"},shortcut:{shortcuts:"Сочетания клавиш",close:"Закрыть",textFormatting:"Форматирование текста",action:"Действие",paragraphFormatting:"Форматирование параграфа",documentStyle:"Стиль документа",extraKeys:"Дополнительные комбинации"},help:{insertParagraph:"Новый параграф",undo:"Отменить последнюю команду",redo:"Повторить последнюю команду",tab:"Tab",untab:"Untab",bold:'Установить стиль "Жирный"',italic:'Установить стиль "Наклонный"',underline:'Установить стиль "Подчеркнутый"',strikethrough:'Установить стиль "Зачеркнутый"',removeFormat:"Сборсить стили",justifyLeft:"Выровнять по левому краю",justifyCenter:"Выровнять по центру",justifyRight:"Выровнять по правому краю",justifyFull:"Растянуть на всю ширину",insertUnorderedList:"Включить/отключить маркированный список",insertOrderedList:"Включить/отключить нумерованный список",outdent:"Убрать отступ в текущем параграфе",indent:"Вставить отступ в текущем параграфе",formatPara:"Форматировать текущий блок как параграф (тег P)",formatH1:"Форматировать текущий блок как H1",formatH2:"Форматировать текущий блок как H2",formatH3:"Форматировать текущий блок как H3",formatH4:"Форматировать текущий блок как H4",formatH5:"Форматировать текущий блок как H5",formatH6:"Форматировать текущий блок как H6",insertHorizontalRule:"Вставить горизонтальную черту","linkDialog.show":'Показать диалог "Ссылка"'},history:{undo:"Отменить",redo:"Повтор"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var S="function"==typeof define&&define.amd;var T,_=navigator.userAgent,A=/MSIE|Trident/i.test(_);if(A){var D=/MSIE (\d+[.]\d+)/.exec(_);D&&(T=parseFloat(D[1])),(D=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(_))&&(T=parseFloat(D[1]))}var E=/Edge\/\d+/.test(_),M=!!window.CodeMirror;if(!M&&S)if("function"==typeof __webpack_require__)try{require.resolve("codemirror"),M=!0}catch(t){}else if("undefined"!=typeof require)if(void 0!==require.resolve)try{require.resolve("codemirror"),M=!0}catch(t){}else void 0!==require.specified&&(M=require.specified("codemirror"));var I="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,L=A||E?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",O={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:A,isEdge:E,isFF:!E&&/firefox/i.test(_),isPhantom:/PhantomJS/i.test(_),isWebkit:!E&&/webkit/i.test(_),isChrome:!E&&/chrome/i.test(_),isSafari:!E&&/safari/i.test(_),browserVersion:T,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:S,isSupportTouch:I,hasCodeMirror:M,isFontInstalled:function(e){var i="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=n.css("fontFamily",i).width(),r=n.css("fontFamily",e+","+i).width();return n.remove(),o!==r},isW3CRangeSupport:!!document.createRange,inputEventName:L};var N=0;var P={eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},peq2:function(t){return function(e,i){return e[t]===i[t]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(t,e){return function(i){return t(i)&&e(i)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},uniqueId:function(t){var e=++N+"";return t?t+e:e},rect2bnd:function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map((function(t){return t.substring(0,1).toUpperCase()+t.substring(1)})).join("")},debounce:function(t,e,i){var n;return function(){var o=this,r=arguments,s=i&&!n;clearTimeout(n),n=setTimeout((function(){n=null,i||t.apply(o,r)}),e),s&&t.apply(o,r)}}};function j(t){return t[0]}function H(t){return t[t.length-1]}function F(t){return t.slice(1)}function B(e,i){return t.inArray(i,e)}function R(t,e){return-1!==B(t,e)}var z={head:j,last:H,initial:function(t){return t.slice(0,t.length-1)},tail:F,prev:function(t,e){var i=B(t,e);return-1===i?null:t[i-1]},next:function(t,e){var i=B(t,e);return-1===i?null:t[i+1]},find:function(t,e){for(var i=0,n=t.length;i<n;i++){var o=t[i];if(e(o))return o}},contains:R,all:function(t,e){for(var i=0,n=t.length;i<n;i++)if(!e(t[i]))return!1;return!0},sum:function(t,e){return e=e||P.self,t.reduce((function(t,i){return t+e(i)}),0)},from:function(t){for(var e=[],i=t.length,n=-1;++n<i;)e[n]=t[n];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,e){return t.length?F(t).reduce((function(t,i){var n=H(t);return e(H(n),i)?n[n.length]=i:t[t.length]=[i],t}),[[j(t)]]):[]},compact:function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},unique:function(t){for(var e=[],i=0,n=t.length;i<n;i++)R(e,t[i])||e.push(t[i]);return e}},W={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Y={isEdit:function(t){return z.contains([W.BACKSPACE,W.TAB,W.ENTER,W.SPACE,W.DELETE],t)},isMove:function(t){return z.contains([W.LEFT,W.UP,W.RIGHT,W.DOWN],t)},nameFromCode:P.invertObject(W),code:W},U=String.fromCharCode(160);function q(e){return e&&t(e).hasClass("note-editable")}function X(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function Q(t){return t&&3===t.nodeType}function V(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase())}function K(t){return!q(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}var G=X("PRE"),Z=X("LI");var J=X("TABLE"),tt=X("DATA");function et(t){return!(st(t)||it(t)||nt(t)||K(t)||J(t)||rt(t)||tt(t))}function it(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}var nt=X("HR");function ot(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}var rt=X("BLOCKQUOTE");function st(t){return ot(t)||rt(t)||q(t)}var at=X("A");var lt=X("BODY");var ct=O.isMSIE&&O.browserVersion<11?"&nbsp;":"<br>";function dt(t){return Q(t)?t.nodeValue.length:t?t.childNodes.length:0}function ut(t){var e=dt(t);return 0===e||(!Q(t)&&1===e&&t.innerHTML===ct||!(!z.all(t.childNodes,Q)||""!==t.innerHTML))}function ht(t){V(t)||dt(t)||(t.innerHTML=ct)}function pt(t,e){for(;t;){if(e(t))return t;if(q(t))break;t=t.parentNode}return null}function ft(t,e){e=e||P.fail;var i=[];return pt(t,(function(t){return q(t)||i.push(t),e(t)})),i}function gt(t,e){e=e||P.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.nextSibling;return i}function mt(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t}function vt(e,i){return t.each(i,(function(t,i){e.appendChild(i)})),e}function yt(t){return 0===t.offset}function bt(t){return t.offset===dt(t.node)}function wt(t){return yt(t)||bt(t)}function xt(t,e){for(;t&&t!==e;){if(0!==Ct(t))return!1;t=t.parentNode}return!0}function kt(t,e){if(!e)return!1;for(;t&&t!==e;){if(Ct(t)!==dt(t.parentNode)-1)return!1;t=t.parentNode}return!0}function Ct(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function St(t){return!!(t&&t.childNodes&&t.childNodes.length)}function Tt(t,e){var i,n;if(0===t.offset){if(q(t.node))return null;i=t.node.parentNode,n=Ct(t.node)}else St(t.node)?n=dt(i=t.node.childNodes[t.offset-1]):(i=t.node,n=e?0:t.offset-1);return{node:i,offset:n}}function _t(t,e){var i,n;if(dt(t.node)===t.offset){if(q(t.node))return null;i=t.node.parentNode,n=Ct(t.node)+1}else St(t.node)?(i=t.node.childNodes[t.offset],n=0):(i=t.node,n=e?dt(t.node):t.offset+1);return{node:i,offset:n}}function At(t,e){return t.node===e.node&&t.offset===e.offset}function Dt(t,e){var i=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint,o=e&&e.isDiscardEmptySplits;if(o&&(i=!0),wt(t)&&(Q(t.node)||n)){if(yt(t))return t.node;if(bt(t))return t.node.nextSibling}if(Q(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],s=mt(t.node.cloneNode(!1),t.node);return vt(s,gt(r)),i||(ht(t.node),ht(s)),o&&(ut(t.node)&&It(t.node),ut(s))?(It(s),t.node.nextSibling):s}function Et(t,e,i){var n=ft(e.node,P.eq(t));return n.length?1===n.length?Dt(e,i):n.reduce((function(t,n){return t===e.node&&(t=Dt(e,i)),Dt({node:n,offset:t?Ct(t):dt(n)},i)})):null}function Mt(t){return document.createElement(t)}function It(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){for(var n=[],o=0,r=t.childNodes.length;o<r;o++)n.push(t.childNodes[o]);for(o=0,r=n.length;o<r;o++)i.insertBefore(n[o],t)}i.removeChild(t)}}var $t=X("TEXTAREA");function Lt(t,e){var i=$t(t[0])?t.val():t.html();return e?i.replace(/[\n\r]/g,""):i}var Ot={NBSP_CHAR:U,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:ct,emptyPara:"<p>"+ct+"</p>",makePredByNodeName:X,isEditable:q,isControlSizing:function(e){return e&&t(e).hasClass("note-control-sizing")},isText:Q,isElement:function(t){return t&&1===t.nodeType},isVoid:V,isPara:K,isPurePara:function(t){return K(t)&&!Z(t)},isHeading:function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},isInline:et,isBlock:P.not(et),isBodyInline:function(t){return et(t)&&!pt(t,K)},isBody:lt,isParaInline:function(t){return et(t)&&!!pt(t,K)},isPre:G,isList:it,isTable:J,isData:tt,isCell:ot,isBlockquote:rt,isBodyContainer:st,isAnchor:at,isDiv:X("DIV"),isLi:Z,isBR:X("BR"),isSpan:X("SPAN"),isB:X("B"),isU:X("U"),isS:X("S"),isI:X("I"),isImg:X("IMG"),isTextarea:$t,isEmpty:ut,isEmptyAnchor:P.and(at,ut),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||P.ok;var i=[];return t.previousSibling&&e(t.previousSibling)&&i.push(t.previousSibling),i.push(t),t.nextSibling&&e(t.nextSibling)&&i.push(t.nextSibling),i},nodeLength:dt,isLeftEdgePoint:yt,isRightEdgePoint:bt,isEdgePoint:wt,isLeftEdgeOf:xt,isRightEdgeOf:kt,isLeftEdgePointOf:function(t,e){return yt(t)&&xt(t.node,e)},isRightEdgePointOf:function(t,e){return bt(t)&&kt(t.node,e)},prevPoint:Tt,nextPoint:_t,isSamePoint:At,isVisiblePoint:function(t){if(Q(t.node)||!St(t.node)||ut(t.node))return!0;var e=t.node.childNodes[t.offset-1],i=t.node.childNodes[t.offset];return!(e&&!V(e)||i&&!V(i))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=Tt(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=_t(t)}return null},isCharPoint:function(t){if(!Q(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==U},walkPoint:function(t,e,i,n){for(var o=t;o&&(i(o),!At(o,e));){o=_t(o,n&&t.node!==o.node&&e.node!==o.node)}},ancestor:pt,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===dt(t);){if(e(t))return t;if(q(t))break;t=t.parentNode}return null},listAncestor:ft,lastAncestor:function(t,e){var i=ft(t);return z.last(i.filter(e))},listNext:gt,listPrev:function(t,e){e=e||P.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.previousSibling;return i},listDescendant:function(t,e){var i=[];return e=e||P.ok,function n(o){t!==o&&e(o)&&i.push(o);for(var r=0,s=o.childNodes.length;r<s;r++)n(o.childNodes[r])}(t),i},commonAncestor:function(e,i){for(var n=ft(e),o=i;o;o=o.parentNode)if(t.inArray(o,n)>-1)return o;return null},wrap:function(e,i){var n=e.parentNode,o=t("<"+i+">")[0];return n.insertBefore(o,e),o.appendChild(e),o},insertAfter:mt,appendChildNodes:vt,position:Ct,hasChildren:St,makeOffsetPath:function(t,e){return ft(e,P.eq(t)).map(Ct).reverse()},fromOffsetPath:function(t,e){for(var i=t,n=0,o=e.length;n<o;n++)i=i.childNodes.length<=e[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[e[n]];return i},splitTree:Et,splitPoint:function(t,e){var i,n,o=e?K:st,r=ft(t.node,o),s=z.last(r)||t.node;o(s)?(i=r[r.length-2],n=s):n=(i=s).parentNode;var a=i&&Et(i,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return a||n!==t.node||(a=t.node.childNodes[t.offset]),{rightNode:a,container:n}},create:Mt,createText:function(t){return document.createTextNode(t)},remove:It,removeWhile:function(t,e){for(;t&&!q(t)&&e(t);){var i=t.parentNode;It(t),t=i}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var i=Mt(e);return t.style.cssText&&(i.style.cssText=t.style.cssText),vt(i,z.from(t.childNodes)),mt(i,t),It(t),i},html:function(e,i){var n=Lt(e);if(i){n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,(function(t,e,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!e,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return t+(n||o?"\n":"")})),n=t.trim(n)}return n},value:Lt,posFromPlaceholder:function(e){var i=t(e),n=i.offset(),o=i.outerHeight(!0);return{left:n.left,top:n.top+o}},attachEvents:function(t,e){Object.keys(e).forEach((function(i){t.on(i,e[i])}))},detachEvents:function(t,e){Object.keys(e).forEach((function(i){t.off(i,e[i])}))},isCustomStyleTag:function(t){return t&&!Q(t)&&z.contains(t.classList,"note-styletag")}};function Nt(t,e){var i,n,o=t.parentElement(),r=document.body.createTextRange(),s=z.from(o.childNodes);for(i=0;i<s.length;i++)if(!Ot.isText(s[i])){if(r.moveToElementText(s[i]),r.compareEndPoints("StartToStart",t)>=0)break;n=s[i]}if(0!==i&&Ot.isText(s[i-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(n||o),a.collapse(!n),l=n?n.nextSibling:o.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",a);for(var d=c.text.replace(/[\r\n]/g,"").length;d>l.nodeValue.length&&l.nextSibling;)d-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&Ot.isText(l.nextSibling)&&d===l.nodeValue.length&&(d-=l.nodeValue.length,l=l.nextSibling),o=l,i=d}return{cont:o,offset:i}}function Pt(t){var e=function(t,i){var n,o;if(Ot.isText(t)){var r=Ot.listPrev(t,P.not(Ot.isText)),s=z.last(r).previousSibling;n=s||t.parentNode,i+=z.sum(z.tail(r),Ot.nodeLength),o=!s}else{if(n=t.childNodes[i]||t,Ot.isText(n))return e(n,0);i=0,o=!1}return{node:n,collapseToStart:o,offset:i}},i=document.body.createTextRange(),n=e(t.node,t.offset);return i.moveToElementText(n.node),i.collapse(n.collapseToStart),i.moveStart("character",n.offset),i}var jt=function(){function e(t,e,i,n){this.sc=t,this.so=e,this.ec=i,this.eo=n,this.isOnEditable=this.makeIsOn(Ot.isEditable),this.isOnList=this.makeIsOn(Ot.isList),this.isOnAnchor=this.makeIsOn(Ot.isAnchor),this.isOnCell=this.makeIsOn(Ot.isCell),this.isOnData=this.makeIsOn(Ot.isData)}return e.prototype.nativeRange=function(){if(O.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.so),t.setEnd(this.ec,this.eo),t}var e=Pt({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Pt({node:this.ec,offset:this.eo})),e},e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},e.prototype.select=function(){var t=this.nativeRange();if(O.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},e.prototype.scrollIntoView=function(e){var i=t(e).height();return e.scrollTop+i<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+i-this.sc.offsetTop)),this},e.prototype.normalize=function(){var t=function(t,e){if(Ot.isVisiblePoint(t)&&!Ot.isEdgePoint(t)||Ot.isVisiblePoint(t)&&Ot.isRightEdgePoint(t)&&!e||Ot.isVisiblePoint(t)&&Ot.isLeftEdgePoint(t)&&e||Ot.isVisiblePoint(t)&&Ot.isBlock(t.node)&&Ot.isEmpty(t.node))return t;var i=Ot.ancestor(t.node,Ot.isBlock);if((Ot.isLeftEdgePointOf(t,i)||Ot.isVoid(Ot.prevPoint(t).node))&&!e||(Ot.isRightEdgePointOf(t,i)||Ot.isVoid(Ot.nextPoint(t).node))&&e){if(Ot.isVisiblePoint(t))return t;e=!e}return(e?Ot.nextPointUntil(Ot.nextPoint(t),Ot.isVisiblePoint):Ot.prevPointUntil(Ot.prevPoint(t),Ot.isVisiblePoint))||t},i=t(this.getEndPoint(),!1),n=this.isCollapsed()?i:t(this.getStartPoint(),!0);return new e(n.node,n.offset,i.node,i.offset)},e.prototype.nodes=function(t,e){t=t||P.ok;var i=e&&e.includeAncestor,n=e&&e.fullyContains,o=this.getStartPoint(),r=this.getEndPoint(),s=[],a=[];return Ot.walkPoint(o,r,(function(e){var o;Ot.isEditable(e.node)||(n?(Ot.isLeftEdgePoint(e)&&a.push(e.node),Ot.isRightEdgePoint(e)&&z.contains(a,e.node)&&(o=e.node)):o=i?Ot.ancestor(e.node,t):e.node,o&&t(o)&&s.push(o))}),!0),z.unique(s)},e.prototype.commonAncestor=function(){return Ot.commonAncestor(this.sc,this.ec)},e.prototype.expand=function(t){var i=Ot.ancestor(this.sc,t),n=Ot.ancestor(this.ec,t);if(!i&&!n)return new e(this.sc,this.so,this.ec,this.eo);var o=this.getPoints();return i&&(o.sc=i,o.so=0),n&&(o.ec=n,o.eo=Ot.nodeLength(n)),new e(o.sc,o.so,o.ec,o.eo)},e.prototype.collapse=function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)},e.prototype.splitText=function(){var t=this.sc===this.ec,i=this.getPoints();return Ot.isText(this.ec)&&!Ot.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Ot.isText(this.sc)&&!Ot.isEdgePoint(this.getStartPoint())&&(i.sc=this.sc.splitText(this.so),i.so=0,t&&(i.ec=i.sc,i.eo=this.eo-this.so)),new e(i.sc,i.so,i.ec,i.eo)},e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var i=this.splitText(),n=i.nodes(null,{fullyContains:!0}),o=Ot.prevPointUntil(i.getStartPoint(),(function(t){return!z.contains(n,t.node)})),r=[];return t.each(n,(function(t,e){var i=e.parentNode;o.node!==i&&1===Ot.nodeLength(i)&&r.push(i),Ot.remove(e,!1)})),t.each(r,(function(t,e){Ot.remove(e,!1)})),new e(o.node,o.offset,o.node,o.offset).normalize()},e.prototype.makeIsOn=function(t){return function(){var e=Ot.ancestor(this.sc,t);return!!e&&e===Ot.ancestor(this.ec,t)}},e.prototype.isLeftEdgeOf=function(t){if(!Ot.isLeftEdgePoint(this.getStartPoint()))return!1;var e=Ot.ancestor(this.sc,t);return e&&Ot.isLeftEdgeOf(this.sc,e)},e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},e.prototype.wrapBodyInlineWithPara=function(){if(Ot.isBodyContainer(this.sc)&&Ot.isEmpty(this.sc))return this.sc.innerHTML=Ot.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t,i=this.normalize();if(Ot.isParaInline(this.sc)||Ot.isPara(this.sc))return i;if(Ot.isInline(i.sc)){var n=Ot.listAncestor(i.sc,P.not(Ot.isInline));t=z.last(n),Ot.isInline(t)||(t=n[n.length-2]||i.sc.childNodes[i.so])}else t=i.sc.childNodes[i.so>0?i.so-1:0];var o=Ot.listPrev(t,Ot.isParaInline).reverse();if((o=o.concat(Ot.listNext(t.nextSibling,Ot.isParaInline))).length){var r=Ot.wrap(z.head(o),"p");Ot.appendChildNodes(r,z.tail(o))}return this.normalize()},e.prototype.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),i=Ot.splitPoint(e.getStartPoint(),Ot.isInline(t));return i.rightNode?i.rightNode.parentNode.insertBefore(t,i.rightNode):i.container.appendChild(t),t},e.prototype.pasteHTML=function(e){var i=t("<div></div>").html(e)[0],n=z.from(i.childNodes),o=this.wrapBodyInlineWithPara().deleteContents();return o.so>0&&(n=n.reverse()),n=n.map((function(t){return o.insertNode(t)})),o.so>0&&(n=n.reverse()),n},e.prototype.toString=function(){var t=this.nativeRange();return O.isW3CRangeSupport?t.toString():t.text},e.prototype.getWordRange=function(t){var i=this.getEndPoint();if(!Ot.isCharPoint(i))return this;var n=Ot.prevPointUntil(i,(function(t){return!Ot.isCharPoint(t)}));return t&&(i=Ot.nextPointUntil(i,(function(t){return!Ot.isCharPoint(t)}))),new e(n.node,n.offset,i.node,i.offset)},e.prototype.bookmark=function(t){return{s:{path:Ot.makeOffsetPath(t,this.sc),offset:this.so},e:{path:Ot.makeOffsetPath(t,this.ec),offset:this.eo}}},e.prototype.paraBookmark=function(t){return{s:{path:z.tail(Ot.makeOffsetPath(z.head(t),this.sc)),offset:this.so},e:{path:z.tail(Ot.makeOffsetPath(z.last(t),this.ec)),offset:this.eo}}},e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},e}(),Ht={create:function(t,e,i,n){if(4===arguments.length)return new jt(t,e,i,n);if(2===arguments.length)return new jt(t,e,i=t,n=e);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0])).collapse(Ot.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var t,e,i,n;if(O.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(Ot.isBody(o.anchorNode))return null;var r=o.getRangeAt(0);t=r.startContainer,e=r.startOffset,i=r.endContainer,n=r.endOffset}else{var s=document.selection.createRange(),a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var c=Nt(l,!0),d=Nt(a,!1);Ot.isText(c.node)&&Ot.isLeftEdgePoint(c)&&Ot.isTextNode(d.node)&&Ot.isRightEdgePoint(d)&&d.node.nextSibling===c.node&&(c=d),t=c.cont,e=c.offset,i=d.cont,n=d.offset}return new jt(t,e,i,n)},createFromNode:function(t){var e=t,i=0,n=t,o=Ot.nodeLength(n);return Ot.isVoid(e)&&(i=Ot.listPrev(e).length-1,e=e.parentNode),Ot.isBR(n)?(o=Ot.listPrev(n).length-1,n=n.parentNode):Ot.isVoid(n)&&(o=Ot.listPrev(n).length,n=n.parentNode),this.create(e,i,n,o)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var i=Ot.fromOffsetPath(t,e.s.path),n=e.s.offset,o=Ot.fromOffsetPath(t,e.e.path),r=e.e.offset;return new jt(i,n,o,r)},createFromParaBookmark:function(t,e){var i=t.s.offset,n=t.e.offset,o=Ot.fromOffsetPath(z.head(e),t.s.path),r=Ot.fromOffsetPath(z.last(e),t.e.path);return new jt(o,i,r,n)}};var Ft=function(){function t(t){this.stack=[],this.stackOffset=-1,this.$editable=t,this.editable=t[0]}return t.prototype.makeSnapshot=function(){var t=Ht.create(this.editable);return{contents:this.$editable.html(),bookmark:t?t.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},t.prototype.applySnapshot=function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&Ht.createFromBookmark(this.editable,t.bookmark).select()},t.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},t.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},t.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},t.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},t}(),Bt=function(){function e(){}return e.prototype.jQueryCSS=function(e,i){if(O.jqueryVersion<1.9){var n={};return t.each(i,(function(t,i){n[i]=e.css(i)})),n}return e.css(i)},e.prototype.fromNode=function(t){var e=this.jQueryCSS(t,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},e.prototype.stylePara=function(e,i){t.each(e.nodes(Ot.isPara,{includeAncestor:!0}),(function(e,n){t(n).css(i)}))},e.prototype.styleNodes=function(e,i){e=e.splitText();var n=i&&i.nodeName||"SPAN",o=!(!i||!i.expandClosestSibling),r=!(!i||!i.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(Ot.create(n))];var s=Ot.makePredByNodeName(n),a=e.nodes(Ot.isText,{fullyContains:!0}).map((function(t){return Ot.singleChildAncestor(t,s)||Ot.wrap(t,n)}));if(o){if(r){var l=e.nodes();s=P.and(s,(function(t){return z.contains(l,t)}))}return a.map((function(e){var i=Ot.withClosestSiblings(e,s),n=z.head(i),o=z.tail(i);return t.each(o,(function(t,e){Ot.appendChildNodes(n,e.childNodes),Ot.remove(e)})),z.head(i)}))}return a},e.prototype.current=function(e){var i=t(Ot.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(i);try{n=t.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(t){}if(e.isOnList()){var o=t.inArray(n["list-style-type"],["circle","disc","disc-leading-zero","square"])>-1;n["list-style"]=o?"unordered":"ordered"}else n["list-style"]="none";var r=Ot.ancestor(e.sc,Ot.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var s=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=s.toFixed(1)}return n.anchor=e.isOnAnchor()&&Ot.ancestor(e.sc,Ot.isAnchor),n.ancestors=Ot.listAncestor(e.sc,Ot.isEditable),n.range=e,n},e}(),Rt=function(){function e(){}return e.prototype.insertOrderedList=function(t){this.toggleList("OL",t)},e.prototype.insertUnorderedList=function(t){this.toggleList("UL",t)},e.prototype.indent=function(e){var i=this,n=Ht.create(e).wrapBodyInlineWithPara(),o=n.nodes(Ot.isPara,{includeAncestor:!0}),r=z.clusterBy(o,P.peq2("parentNode"));t.each(r,(function(e,n){var o=z.head(n);if(Ot.isLi(o)){var r=i.findList(o.previousSibling);r?n.map((function(t){return r.appendChild(t)})):(i.wrapList(n,o.parentNode.nodeName),n.map((function(t){return t.parentNode})).map((function(t){return i.appendToPrevious(t)})))}else t.each(n,(function(e,i){t(i).css("marginLeft",(function(t,e){return(parseInt(e,10)||0)+25}))}))})),n.select()},e.prototype.outdent=function(e){var i=this,n=Ht.create(e).wrapBodyInlineWithPara(),o=n.nodes(Ot.isPara,{includeAncestor:!0}),r=z.clusterBy(o,P.peq2("parentNode"));t.each(r,(function(e,n){var o=z.head(n);Ot.isLi(o)?i.releaseList([n]):t.each(n,(function(e,i){t(i).css("marginLeft",(function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""}))}))})),n.select()},e.prototype.toggleList=function(e,i){var n=this,o=Ht.create(i).wrapBodyInlineWithPara(),r=o.nodes(Ot.isPara,{includeAncestor:!0}),s=o.paraBookmark(r),a=z.clusterBy(r,P.peq2("parentNode"));if(z.find(r,Ot.isPurePara)){var l=[];t.each(a,(function(t,i){l=l.concat(n.wrapList(i,e))})),r=l}else{var c=o.nodes(Ot.isList,{includeAncestor:!0}).filter((function(i){return!t.nodeName(i,e)}));c.length?t.each(c,(function(t,i){Ot.replace(i,e)})):r=this.releaseList(a,!0)}Ht.createFromParaBookmark(s,r).select()},e.prototype.wrapList=function(t,e){var i=z.head(t),n=z.last(t),o=Ot.isList(i.previousSibling)&&i.previousSibling,r=Ot.isList(n.nextSibling)&&n.nextSibling,s=o||Ot.insertAfter(Ot.create(e||"UL"),n);return t=t.map((function(t){return Ot.isPurePara(t)?Ot.replace(t,"LI"):t})),Ot.appendChildNodes(s,t),r&&(Ot.appendChildNodes(s,z.from(r.childNodes)),Ot.remove(r)),t},e.prototype.releaseList=function(e,i){var n=this,o=[];return t.each(e,(function(e,r){var s=z.head(r),a=z.last(r),l=i?Ot.lastAncestor(s,Ot.isList):s.parentNode,c=l.parentNode;if("LI"===l.parentNode.nodeName)r.map((function(t){var e=n.findNextSiblings(t);c.nextSibling?c.parentNode.insertBefore(t,c.nextSibling):c.parentNode.appendChild(t),e.length&&(n.wrapList(e,l.nodeName),t.appendChild(e[0].parentNode))})),0===l.children.length&&c.removeChild(l),0===c.childNodes.length&&c.parentNode.removeChild(c);else{var d=l.childNodes.length>1?Ot.splitTree(l,{node:a.parentNode,offset:Ot.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,u=Ot.splitTree(l,{node:s.parentNode,offset:Ot.position(s)},{isSkipPaddingBlankHTML:!0});r=i?Ot.listDescendant(u,Ot.isLi):z.from(u.childNodes).filter(Ot.isLi),!i&&Ot.isList(l.parentNode)||(r=r.map((function(t){return Ot.replace(t,"P")}))),t.each(z.from(r).reverse(),(function(t,e){Ot.insertAfter(e,l)}));var h=z.compact([l,u,d]);t.each(h,(function(e,i){var n=[i].concat(Ot.listDescendant(i,Ot.isList));t.each(n.reverse(),(function(t,e){Ot.nodeLength(e)||Ot.remove(e,!0)}))}))}o=o.concat(r)})),o},e.prototype.appendToPrevious=function(t){return t.previousSibling?Ot.appendChildNodes(t.previousSibling,[t]):this.wrapList([t],"LI")},e.prototype.findList=function(t){return t?z.find(t.children,(function(t){return["OL","UL"].indexOf(t.nodeName)>-1})):null},e.prototype.findNextSiblings=function(t){for(var e=[];t.nextSibling;)e.push(t.nextSibling),t=t.nextSibling;return e},e}(),zt=function(){function e(t){this.bullet=new Rt,this.options=t.options}return e.prototype.insertTab=function(t,e){var i=Ot.createText(new Array(e+1).join(Ot.NBSP_CHAR));(t=t.deleteContents()).insertNode(i,!0),(t=Ht.create(i,e)).select()},e.prototype.insertParagraph=function(e,i){i=(i=(i=i||Ht.create(e)).deleteContents()).wrapBodyInlineWithPara();var n,o=Ot.ancestor(i.sc,Ot.isPara);if(o){if(Ot.isEmpty(o)&&Ot.isLi(o))return void this.bullet.toggleList(o.parentNode.nodeName);var r=null;if(1===this.options.blockquoteBreakingLevel?r=Ot.ancestor(o,Ot.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=Ot.lastAncestor(o,Ot.isBlockquote)),r){n=t(Ot.emptyPara)[0],Ot.isRightEdgePoint(i.getStartPoint())&&Ot.isBR(i.sc.nextSibling)&&t(i.sc.nextSibling).remove();var s=Ot.splitTree(r,i.getStartPoint(),{isDiscardEmptySplits:!0});s?s.parentNode.insertBefore(n,s):Ot.insertAfter(n,r)}else{n=Ot.splitTree(o,i.getStartPoint());var a=Ot.listDescendant(o,Ot.isEmptyAnchor);a=a.concat(Ot.listDescendant(n,Ot.isEmptyAnchor)),t.each(a,(function(t,e){Ot.remove(e)})),(Ot.isHeading(n)||Ot.isPre(n)||Ot.isCustomStyleTag(n))&&Ot.isEmpty(n)&&(n=Ot.replace(n,"p"))}}else{var l=i.sc.childNodes[i.so];n=t(Ot.emptyPara)[0],l?i.sc.insertBefore(n,l):i.sc.appendChild(n)}Ht.create(n,0).normalize().select().scrollIntoView(e)},e}(),Wt=function(t,e,i,n){var o={colPos:0,rowPos:0},r=[],s=[];function a(t,e,i,n,o,s,a){var l={baseRow:i,baseCell:n,isRowSpan:o,isColSpan:s,isVirtual:a};r[t]||(r[t]=[]),r[t][e]=l}function l(t,e,i,n){return{baseCell:t.baseCell,action:e,virtualTable:{rowIndex:i,cellIndex:n}}}function c(t,e){if(!r[t])return e;if(!r[t][e])return e;for(var i=e;r[t][i];)if(i++,!r[t][i])return i}function d(t,e){var i=c(t.rowIndex,e.cellIndex),n=e.colSpan>1,r=e.rowSpan>1,s=t.rowIndex===o.rowPos&&e.cellIndex===o.colPos;a(t.rowIndex,i,t,e,r,n,!1);var l=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(l>1)for(var d=1;d<l;d++){var h=t.rowIndex+d;u(h,i,e,s),a(h,i,t,e,!0,n,!0)}var p=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(p>1)for(var f=1;f<p;f++){var g=c(t.rowIndex,i+f);u(t.rowIndex,g,e,s),a(t.rowIndex,g,t,e,r,!0,!0)}}function u(t,e,i,n){t===o.rowPos&&o.colPos>=i.cellIndex&&i.cellIndex<=e&&!n&&o.colPos++}function h(t){switch(e){case Wt.where.Column:if(t.isColSpan)return Wt.resultAction.SubtractSpanCount;break;case Wt.where.Row:if(!t.isVirtual&&t.isRowSpan)return Wt.resultAction.AddCell;if(t.isRowSpan)return Wt.resultAction.SubtractSpanCount}return Wt.resultAction.RemoveCell}function p(t){switch(e){case Wt.where.Column:if(t.isColSpan)return Wt.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return Wt.resultAction.Ignore;break;case Wt.where.Row:if(t.isRowSpan)return Wt.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return Wt.resultAction.Ignore}return Wt.resultAction.AddCell}this.getActionList=function(){for(var t=e===Wt.where.Row?o.rowPos:-1,n=e===Wt.where.Column?o.colPos:-1,a=0,c=!0;c;){var d=t>=0?t:a,u=n>=0?n:a,f=r[d];if(!f)return c=!1,s;var g=f[u];if(!g)return c=!1,s;var m=Wt.resultAction.Ignore;switch(i){case Wt.requestAction.Add:m=p(g);break;case Wt.requestAction.Delete:m=h(g)}s.push(l(g,m,d,u)),a++}return s},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())?(o.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?o.rowPos=t.parentElement.rowIndex:console.error("Impossible to identify start Row point.",t)):console.error("Impossible to identify start Cell point.",t),function(){for(var t=n.rows,e=0;e<t.length;e++)for(var i=t[e].cells,o=0;o<i.length;o++)d(t[e],i[o])}()};Wt.where={Row:0,Column:1},Wt.requestAction={Add:0,Delete:1},Wt.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Yt,Ut=function(){function e(){}return e.prototype.tab=function(t,e){var i=Ot.ancestor(t.commonAncestor(),Ot.isCell),n=Ot.ancestor(i,Ot.isTable),o=Ot.listDescendant(n,Ot.isCell),r=z[e?"prev":"next"](o,i);r&&Ht.create(r,0).select()},e.prototype.addRow=function(e,i){for(var n=Ot.ancestor(e.commonAncestor(),Ot.isCell),o=t(n).closest("tr"),r=this.recoverAttributes(o),s=t("<tr"+r+"></tr>"),a=new Wt(n,Wt.where.Row,Wt.requestAction.Add,t(o).closest("table")[0]).getActionList(),l=0;l<a.length;l++){var c=a[l],d=this.recoverAttributes(c.baseCell);switch(c.action){case Wt.resultAction.AddCell:s.append("<td"+d+">"+Ot.blank+"</td>");break;case Wt.resultAction.SumSpanCount:if("top"===i)if((c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=o[0].rowIndex){var u=t("<div></div>").append(t("<td"+d+">"+Ot.blank+"</td>").removeAttr("rowspan")).html();s.append(u);break}var h=parseInt(c.baseCell.rowSpan,10);h++,c.baseCell.setAttribute("rowSpan",h)}}if("top"===i)o.before(s);else{if(n.rowSpan>1){var p=o[0].rowIndex+(n.rowSpan-2);return void t(t(o).parent().find("tr")[p]).after(t(s))}o.after(s)}},e.prototype.addCol=function(e,i){var n=Ot.ancestor(e.commonAncestor(),Ot.isCell),o=t(n).closest("tr");t(o).siblings().push(o);for(var r=new Wt(n,Wt.where.Column,Wt.requestAction.Add,t(o).closest("table")[0]).getActionList(),s=0;s<r.length;s++){var a=r[s],l=this.recoverAttributes(a.baseCell);switch(a.action){case Wt.resultAction.AddCell:"right"===i?t(a.baseCell).after("<td"+l+">"+Ot.blank+"</td>"):t(a.baseCell).before("<td"+l+">"+Ot.blank+"</td>");break;case Wt.resultAction.SumSpanCount:if("right"===i){var c=parseInt(a.baseCell.colSpan,10);c++,a.baseCell.setAttribute("colSpan",c)}else t(a.baseCell).before("<td"+l+">"+Ot.blank+"</td>")}}},e.prototype.recoverAttributes=function(t){var e="";if(!t)return e;for(var i=t.attributes||[],n=0;n<i.length;n++)"id"!==i[n].name.toLowerCase()&&i[n].specified&&(e+=" "+i[n].name+"='"+i[n].value+"'");return e},e.prototype.deleteRow=function(e){for(var i=Ot.ancestor(e.commonAncestor(),Ot.isCell),n=t(i).closest("tr"),o=n.children("td, th").index(t(i)),r=n[0].rowIndex,s=new Wt(i,Wt.where.Row,Wt.requestAction.Delete,t(n).closest("table")[0]).getActionList(),a=0;a<s.length;a++)if(s[a]){var l=s[a].baseCell,c=s[a].virtualTable,d=l.rowSpan&&l.rowSpan>1,u=d?parseInt(l.rowSpan,10):0;switch(s[a].action){case Wt.resultAction.Ignore:continue;case Wt.resultAction.AddCell:var h=n.next("tr")[0];if(!h)continue;var p=n[0].cells[o];d&&(u>2?(u--,h.insertBefore(p,h.cells[o]),h.cells[o].setAttribute("rowSpan",u),h.cells[o].innerHTML=""):2===u&&(h.insertBefore(p,h.cells[o]),h.cells[o].removeAttribute("rowSpan"),h.cells[o].innerHTML=""));continue;case Wt.resultAction.SubtractSpanCount:d&&(u>2?(u--,l.setAttribute("rowSpan",u),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")):2===u&&(l.removeAttribute("rowSpan"),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")));continue;case Wt.resultAction.RemoveCell:continue}}n.remove()},e.prototype.deleteCol=function(e){for(var i=Ot.ancestor(e.commonAncestor(),Ot.isCell),n=t(i).closest("tr"),o=n.children("td, th").index(t(i)),r=new Wt(i,Wt.where.Column,Wt.requestAction.Delete,t(n).closest("table")[0]).getActionList(),s=0;s<r.length;s++)if(r[s])switch(r[s].action){case Wt.resultAction.Ignore:continue;case Wt.resultAction.SubtractSpanCount:var a=r[s].baseCell;if(a.colSpan&&a.colSpan>1){var l=a.colSpan?parseInt(a.colSpan,10):0;l>2?(l--,a.setAttribute("colSpan",l),a.cellIndex===o&&(a.innerHTML="")):2===l&&(a.removeAttribute("colSpan"),a.cellIndex===o&&(a.innerHTML=""))}continue;case Wt.resultAction.RemoveCell:Ot.remove(r[s].baseCell,!0);continue}},e.prototype.createTable=function(e,i,n){for(var o,r=[],s=0;s<e;s++)r.push("<td>"+Ot.blank+"</td>");o=r.join("");for(var a,l=[],c=0;c<i;c++)l.push("<tr>"+o+"</tr>");a=l.join("");var d=t("<table>"+a+"</table>");return n&&n.tableClassName&&d.addClass(n.tableClassName),d[0]},e.prototype.deleteTable=function(e){var i=Ot.ancestor(e.commonAncestor(),Ot.isCell);t(i).closest("table").remove()},e}(),qt=function(){function e(e){var i=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Bt,this.table=new Ut,this.typing=new zt(e),this.bullet=new Rt,this.history=new Ft(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var n=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,r=n.length;o<r;o++)this[n[o]]=function(t){return function(e){i.beforeCommand(),document.execCommand(t,!1,e),i.afterCommand(!0)}}(n[o]),this.context.memo("help."+n[o],this.lang.help[n[o]]);this.fontName=this.wrapCommand((function(t){return i.fontStyling("font-family","'"+t+"'")})),this.fontSize=this.wrapCommand((function(t){return i.fontStyling("font-size",t+"px")}));for(o=1;o<=6;o++)this["formatH"+o]=function(t){return function(){i.formatBlock("H"+t)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand((function(){i.typing.insertParagraph(i.editable)})),this.insertOrderedList=this.wrapCommand((function(){i.bullet.insertOrderedList(i.editable)})),this.insertUnorderedList=this.wrapCommand((function(){i.bullet.insertUnorderedList(i.editable)})),this.indent=this.wrapCommand((function(){i.bullet.indent(i.editable)})),this.outdent=this.wrapCommand((function(){i.bullet.outdent(i.editable)})),this.insertNode=this.wrapCommand((function(e){i.isLimited(t(e).text().length)||(i.createRange().insertNode(e),Ht.createFromNodeAfter(e).select())})),this.insertText=this.wrapCommand((function(t){if(!i.isLimited(t.length)){var e=i.createRange().insertNode(Ot.createText(t));Ht.create(e,Ot.nodeLength(e)).select()}})),this.pasteHTML=this.wrapCommand((function(t){if(!i.isLimited(t.length)){var e=i.createRange().pasteHTML(t);Ht.createFromNodeAfter(z.last(e)).select()}})),this.formatBlock=this.wrapCommand((function(t,e){var n=i.options.callbacks.onApplyCustomStyle;n?n.call(i,e,i.context,i.onFormatBlock):i.onFormatBlock(t,e)})),this.insertHorizontalRule=this.wrapCommand((function(){var t=i.createRange().insertNode(Ot.create("HR"));t.nextSibling&&Ht.create(t.nextSibling,0).normalize().select()})),this.lineHeight=this.wrapCommand((function(t){i.style.stylePara(i.createRange(),{lineHeight:t})})),this.createLink=this.wrapCommand((function(e){var n=e.url,o=e.text,r=e.isNewWindow,s=e.range||i.createRange(),a=o.length-s.toString().length;if(!(a>0&&i.isLimited(a))){var l=s.toString()!==o;"string"==typeof n&&(n=n.trim()),i.options.onCreateLink?n=i.options.onCreateLink(n):/^\.?\/(.*)/.test(n)||(n=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(n)?n:"http://"+n);var c=[];if(l){var d=(s=s.deleteContents()).insertNode(t("<A>"+o+"</A>")[0]);c.push(d)}else c=i.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});t.each(c,(function(e,i){t(i).attr("href",n),r?t(i).attr("target","_blank"):t(i).removeAttr("target")}));var u=Ht.createFromNodeBefore(z.head(c)).getStartPoint(),h=Ht.createFromNodeAfter(z.last(c)).getEndPoint();Ht.create(u.node,u.offset,h.node,h.offset).select()}})),this.color=this.wrapCommand((function(t){var e=t.foreColor,i=t.backColor;e&&document.execCommand("foreColor",!1,e),i&&document.execCommand("backColor",!1,i)})),this.foreColor=this.wrapCommand((function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)})),this.insertTable=this.wrapCommand((function(t){var e=t.split("x");i.createRange().deleteContents().insertNode(i.table.createTable(e[0],e[1],i.options))})),this.removeMedia=this.wrapCommand((function(){var e=t(i.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=t(i.restoreTarget()).detach(),i.context.triggerEvent("media.delete",e,i.$editable)})),this.floatMe=this.wrapCommand((function(e){var n=t(i.restoreTarget());n.toggleClass("note-float-left","left"===e),n.toggleClass("note-float-right","right"===e),n.css("float",e)})),this.resize=this.wrapCommand((function(e){t(i.restoreTarget()).css({width:100*e+"%",height:""})}))}return e.prototype.initialize=function(){var t=this;this.$editable.on("keydown",(function(e){if(e.keyCode===Y.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1})).on("keyup",(function(e){t.context.triggerEvent("keyup",e)})).on("focus",(function(e){t.context.triggerEvent("focus",e)})).on("blur",(function(e){t.context.triggerEvent("blur",e)})).on("mousedown",(function(e){t.context.triggerEvent("mousedown",e)})).on("mouseup",(function(e){t.context.triggerEvent("mouseup",e)})).on("scroll",(function(e){t.context.triggerEvent("scroll",e)})).on("paste",(function(e){t.context.triggerEvent("paste",e)})),this.$editable.html(Ot.html(this.$note)||Ot.emptyPara),this.$editable.on(O.inputEventName,P.debounce((function(){t.context.triggerEvent("change",t.$editable.html())}),10)),this.$editor.on("focusin",(function(e){t.context.triggerEvent("focusin",e)})).on("focusout",(function(e){t.context.triggerEvent("focusout",e)})),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},e.prototype.destroy=function(){this.$editable.off()},e.prototype.handleKeyMap=function(t){var e=this.options.keyMap[O.isMac?"mac":"pc"],i=[];t.metaKey&&i.push("CMD"),t.ctrlKey&&!t.altKey&&i.push("CTRL"),t.shiftKey&&i.push("SHIFT");var n=Y.nameFromCode[t.keyCode];n&&i.push(n);var o=e[i.join("+")];o?!1!==this.context.invoke(o)&&t.preventDefault():Y.isEdit(t.keyCode)&&this.afterCommand()},e.prototype.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&z.contains([66,73,85],t.keyCode)&&t.preventDefault()},e.prototype.isLimited=function(t,e){return t=t||0,(void 0===e||!(Y.isMove(e.keyCode)||e.ctrlKey||e.metaKey||z.contains([Y.code.BACKSPACE,Y.code.DELETE],e.keyCode)))&&(this.options.maxTextLength>0&&this.$editable.text().length+t>=this.options.maxTextLength)},e.prototype.createRange=function(){return this.focus(),Ht.create(this.editable)},e.prototype.saveRange=function(t){this.lastRange=this.createRange(),t&&this.lastRange.collapse().select()},e.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},e.prototype.saveTarget=function(t){this.$editable.data("target",t)},e.prototype.clearTarget=function(){this.$editable.removeData("target")},e.prototype.restoreTarget=function(){return this.$editable.data("target")},e.prototype.currentStyle=function(){var t=Ht.create();return t&&(t=t.normalize()),t?this.style.current(t):this.style.fromNode(this.$editable)},e.prototype.styleFromNode=function(t){return this.style.fromNode(t)},e.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},e.prototype.afterCommand=function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html())},e.prototype.tab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}},e.prototype.untab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1},e.prototype.wrapCommand=function(t){return function(){this.beforeCommand(),t.apply(this,arguments),this.afterCommand()}},e.prototype.insertImage=function(e,i){var n,o=this;return(n=e,t.Deferred((function(e){var i=t("<img>");i.one("load",(function(){i.off("error abort"),e.resolve(i)})).one("error abort",(function(){i.off("load").detach(),e.reject(i)})).css({display:"none"}).appendTo(document.body).attr("src",n)})).promise()).then((function(t){o.beforeCommand(),"function"==typeof i?i(t):("string"==typeof i&&t.attr("data-filename",i),t.css("width",Math.min(o.$editable.width(),t.width()))),t.show(),Ht.create(o.editable).insertNode(t[0]),Ht.createFromNodeAfter(t[0]).select(),o.afterCommand()})).fail((function(t){o.context.triggerEvent("image.upload.error",t)}))},e.prototype.insertImagesAsDataURL=function(e){var i=this;t.each(e,(function(e,n){var o=n.name;i.options.maximumImageFileSize&&i.options.maximumImageFileSize<n.size?i.context.triggerEvent("image.upload.error",i.lang.image.maximumFileSizeError):function(e){return t.Deferred((function(i){t.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(t){i.reject(t)}}).readAsDataURL(e)})).promise()}(n).then((function(t){return i.insertImage(t,o)})).fail((function(){i.context.triggerEvent("image.upload.error")}))}))},e.prototype.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=Ht.createFromNode(Ot.ancestor(t.sc,Ot.isAnchor))),t.toString()},e.prototype.onFormatBlock=function(e,i){if(e=O.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),i&&i.length){var n=i[0].className||"";if(n){var o=this.createRange();t([o.sc,o.ec]).closest(e).addClass(n)}}},e.prototype.formatPara=function(){this.formatBlock("P")},e.prototype.fontStyling=function(e,i){var n=this.createRange();if(n){var o=this.style.styleNodes(n);if(t(o).css(e,i),n.isCollapsed()){var r=z.head(o);r&&!Ot.nodeLength(r)&&(r.innerHTML=Ot.ZERO_WIDTH_NBSP_CHAR,Ht.createFromNodeAfter(r.firstChild).select(),this.$editable.data("bogus",r))}}},e.prototype.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=Ot.ancestor(t.sc,Ot.isAnchor);(t=Ht.createFromNode(e)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},e.prototype.getLinkInfo=function(){var e=this.createRange().expand(Ot.isAnchor),i=t(z.head(e.nodes(Ot.isAnchor))),n={range:e,text:e.toString(),url:i.length?i.attr("href"):""};return i.length&&(n.isNewWindow="_blank"===i.attr("target")),n},e.prototype.addRow=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())},e.prototype.addCol=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())},e.prototype.deleteRow=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())},e.prototype.deleteCol=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())},e.prototype.deleteTable=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())},e.prototype.resizeTo=function(t,e,i){var n;if(i){var o=t.y/t.x,r=e.data("ratio");n={width:r>o?t.x:t.y/r,height:r>o?t.x*r:t.y}}else n={width:t.x,height:t.y};e.css(n)},e.prototype.hasFocus=function(){return this.$editable.is(":focus")},e.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},e.prototype.isEmpty=function(){return Ot.isEmpty(this.$editable[0])||Ot.emptyPara===this.$editable.html()},e.prototype.empty=function(){this.context.invoke("code",Ot.emptyPara)},e.prototype.normalizeContent=function(){this.$editable[0].normalize()},e}(),Xt=function(){function t(t){this.context=t,this.$editable=t.layoutInfo.editable}return t.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},t.prototype.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var i=e.items.length>1?e.items[1]:z.head(e.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),this.context.invoke("editor.afterCommand")}},t}(),Qt=function(){function e(e){this.context=e,this.$eventListener=t(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=t(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return e.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},e.prototype.attachDragAndDropEvent=function(){var e=this,i=t(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var o=e.context.invoke("codeview.isActivated"),r=e.$editor.width()>0&&e.$editor.height()>0;o||i.length||!r||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),n.text(e.lang.image.dragImageHere)),i=i.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(i=i.not(t.target)).length||e.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=t(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",(function(){e.$dropzone.addClass("hover"),n.text(e.lang.image.dropImage)})).on("dragleave",(function(){e.$dropzone.removeClass("hover"),n.text(e.lang.image.dragImageHere)})),this.$dropzone.on("drop",(function(i){var n=i.originalEvent.dataTransfer;i.preventDefault(),n&&n.files&&n.files.length?(e.$editable.focus(),e.context.invoke("editor.insertImagesOrCallback",n.files)):t.each(n.types,(function(i,o){var r=n.getData(o);o.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",r):t(r).each((function(t,i){e.context.invoke("editor.insertNode",i)}))}))})).on("dragover",!1)},e.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach((function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])})),this.documentEventHandlers={}},e}();O.hasCodeMirror&&(O.isSupportAmd?require(["codemirror"],(function(t){Yt=t})):Yt=window.CodeMirror);var Vt=function(){function t(t){this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}return t.prototype.sync=function(){this.isActivated()&&O.hasCodeMirror&&this.$codable.data("cmEditor").save()},t.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},t.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},t.prototype.activate=function(){var t=this;if(this.$codable.val(Ot.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),O.hasCodeMirror){var e=Yt.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var i=new Yt.TernServer(this.options.codemirror.tern);e.ternServer=i,e.on("cursorActivity",(function(t){i.updateArgHints(t)}))}e.on("blur",(function(i){t.context.triggerEvent("blur.codeview",e.getValue(),i)})),e.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",e)}else this.$codable.on("blur",(function(e){t.context.triggerEvent("blur.codeview",t.$codable.val(),e)}))},t.prototype.deactivate=function(){if(O.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=Ot.value(this.$codable,this.options.prettifyHtml)||Ot.emptyPara,i=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),i&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},t.prototype.destroy=function(){this.isActivated()&&this.deactivate()},t}(),Kt=function(){function e(e){this.$document=t(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}return e.prototype.initialize=function(){var t=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation();var i=t.$editable.offset().top-t.$document.scrollTop(),n=function(e){var n=e.clientY-(i+24);n=t.options.minheight>0?Math.max(n,t.options.minheight):n,n=t.options.maxHeight>0?Math.min(n,t.options.maxHeight):n,t.$editable.height(n)};t.$document.on("mousemove",n).one("mouseup",(function(){t.$document.off("mousemove",n)}))}))},e.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},e}(),Gt=function(){function e(e){var i=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=t(window),this.$scrollbar=t("html, body"),this.onResize=function(){i.resizeTo({h:i.$window.height()-i.$toolbar.outerHeight()})}}return e.prototype.resizeTo=function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)},e.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},e.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},e}(),Zt=function(){function e(e){var i=this;this.context=e,this.$document=t(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){i.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){i.update()},"summernote.disable":function(){i.hide()},"summernote.codeview.toggled":function(){i.update()}}}return e.prototype.initialize=function(){var e=this;this.$handle=t(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",(function(t){if(Ot.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var i=e.$handle.find(".note-control-selection").data("target"),n=i.offset(),o=e.$document.scrollTop(),r=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-n.left,y:t.clientY-(n.top-o)},i,!t.shiftKey),e.update(i[0])};e.$document.on("mousemove",r).one("mouseup",(function(t){t.preventDefault(),e.$document.off("mousemove",r),e.context.invoke("editor.afterCommand")})),i.data("ratio")||i.data("ratio",i.height()/i.width())}})),this.$handle.on("wheel",(function(t){t.preventDefault(),e.update()}))},e.prototype.destroy=function(){this.$handle.remove()},e.prototype.update=function(e){if(this.context.isDisabled())return!1;var i=Ot.isImg(e),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e),i){var o=t(e),r=o.position(),s={left:r.left+parseInt(o.css("marginLeft"),10),top:r.top+parseInt(o.css("marginTop"),10)},a={w:o.outerWidth(!1),h:o.outerHeight(!1)};n.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",o);var l=new Image;l.src=o.attr("src");var c=a.w+"x"+a.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";n.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",e)}else this.hide();return i},e.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},e}(),Jt=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,te=function(){function e(t){var e=this;this.context=t,this.events={"summernote.keyup":function(t,i){i.isDefaultPrevented()||e.handleKeyup(i)},"summernote.keydown":function(t,i){e.handleKeydown(i)}}}return e.prototype.initialize=function(){this.lastWordRange=null},e.prototype.destroy=function(){this.lastWordRange=null},e.prototype.replace=function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),i=e.match(Jt);if(i&&(i[1]||i[2])){var n=i[1]?e:"http://"+e,o=t("<a />").html(e).attr("href",n)[0];this.context.options.linkTargetBlank&&t(o).attr("target","_blank"),this.lastWordRange.insertNode(o),this.lastWordRange=null,this.context.invoke("editor.focus")}}},e.prototype.handleKeydown=function(t){if(z.contains([Y.code.ENTER,Y.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},e.prototype.handleKeyup=function(t){z.contains([Y.code.ENTER,Y.code.SPACE],t.keyCode)&&this.replace()},e}(),ee=function(){function t(t){var e=this;this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}return t.prototype.shouldInitialize=function(){return Ot.isTextarea(this.$note[0])},t}(),ie=function(){function e(t){var e=this;this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}return e.prototype.shouldInitialize=function(){return!!this.options.placeholder},e.prototype.initialize=function(){var e=this;this.$placeholder=t('<div class="note-placeholder">'),this.$placeholder.on("click",(function(){e.context.invoke("focus")})).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},e.prototype.destroy=function(){this.$placeholder.remove()},e.prototype.update=function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)},e}(),ne=function(){function e(e){this.ui=t.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=P.invertObject(this.options.keyMap[O.isMac?"mac":"pc"])}return e.prototype.representShortcut=function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(O.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},e.prototype.button=function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)},e.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},e.prototype.destroy=function(){delete this.fontInstalledMap},e.prototype.isFontInstalled=function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=O.isFontInstalled(t)||z.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]},e.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===t.inArray(e,["sans-serif","serif","monospace","cursive","fantasy"])},e.prototype.colorPalette=function(e,i,n,o){var r=this;return this.ui.buttonGroup({className:"note-color "+e,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:i,click:function(e){var i=t(e.currentTarget);n&&o?r.context.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")}):n?r.context.invoke("editor.color",{backColor:i.attr("data-backColor")}):o&&r.context.invoke("editor.color",{foreColor:i.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");n&&(e.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")),o||e.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker'+generateCode("lLllnnnLl")+'" class="note-btn note-color-select-btn" value="#FFFF00" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(o?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker'+generateCode("lLllnnnLl")+'" class="note-btn note-color-select-btn" value="#000000" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(e){e.find(".note-holder").each((function(e,i){var n=t(i);n.append(r.ui.palette({colors:r.options.colors,colorsName:r.options.colorsName,eventName:n.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())}));var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];e.find(".note-holder-custom").each((function(e,n){var o=t(n);o.append(r.ui.palette({colors:i,colorsName:i,eventName:o.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())})),e.find("input[type=color]").each((function(i,n){t(n).change((function(){var i=e.find("#"+t(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();i.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),i.click()}))}))},click:function(i){i.stopPropagation();var n=t("."+e),o=t(i.target),s=o.data("event"),a=o.attr("data-value");if("openPalette"===s){var l=n.find("#"+a),c=t(n.find("#"+l.data("event")).find(".note-color-row")[0]),d=c.find(".note-color-btn").last().detach(),u=l.val();d.css("background-color",u).attr("aria-label",u).attr("data-value",u).attr("data-original-title",u),c.prepend(d),l.click()}else if(z.contains(["backColor","foreColor"],s)){var h="backColor"===s?"background-color":"color",p=o.closest(".note-color").find(".note-recent-color"),f=o.closest(".note-color").find(".note-current-color-button");p.css(h,a),f.attr("data-"+s,a),r.context.invoke("editor."+s,a)}}})]}).render()},e.prototype.addToolbarButtons=function(){var e=this;this.context.memo("button.style",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:e.lang.style.hasOwnProperty(t)?e.lang.style[t]:t});var i=t.tag,n=t.title;return"<"+i+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+n+"</"+i+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()}));for(var i=function(t,i){var o=n.options.styleTags[t];n.context.memo("button.style."+o,(function(){return e.button({className:"note-btn-style-"+o,contents:'<div data-value="'+o+'">'+o.toUpperCase()+"</div>",tooltip:e.lang.style[o],click:e.context.createInvokeHandler("editor.formatBlock")}).render()}))},n=this,o=0,r=this.options.styleTags.length;o<r;o++)i(o);this.context.memo("button.bold",(function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()})),this.context.memo("button.italic",(function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()})),this.context.memo("button.underline",(function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()})),this.context.memo("button.clear",(function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()})),this.context.memo("button.strikethrough",(function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()})),this.context.memo("button.superscript",(function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()})),this.context.memo("button.subscript",(function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()})),this.context.memo("button.fontname",(function(){var i=e.context.invoke("editor.currentStyle");return t.each(i["font-family"].split(","),(function(i,n){n=n.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(n)&&-1===t.inArray(n,e.options.fontNames)&&e.options.fontNames.push(n)})),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"/>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()})),this.context.memo("button.fontsize",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()})),this.context.memo("button.color",(function(){return e.colorPalette("note-color-all",e.lang.color.recent,!0,!0)})),this.context.memo("button.forecolor",(function(){return e.colorPalette("note-color-fore",e.lang.color.foreground,!1,!0)})),this.context.memo("button.backcolor",(function(){return e.colorPalette("note-color-back",e.lang.color.background,!0,!1)})),this.context.memo("button.ul",(function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()})),this.context.memo("button.ol",(function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()}));var s=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),l=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),c=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),d=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),u=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",P.invoke(s,"render")),this.context.memo("button.justifyCenter",P.invoke(a,"render")),this.context.memo("button.justifyRight",P.invoke(l,"render")),this.context.memo("button.justifyFull",P.invoke(c,"render")),this.context.memo("button.outdent",P.invoke(d,"render")),this.context.memo("button.indent",P.invoke(u,"render")),this.context.memo("button.paragraph",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[s,a,l,c]}),e.ui.buttonGroup({className:"note-list",children:[d,u]})])]).render()})),this.context.memo("button.height",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()})),this.context.memo("button.table",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()})),this.context.memo("button.link",(function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.picture",(function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()})),this.context.memo("button.video",(function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()})),this.context.memo("button.hr",(function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()})),this.context.memo("button.fullscreen",(function(){return e.button({className:"btn-fullscreen",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()})),this.context.memo("button.codeview",(function(){return e.button({className:"btn-codeview",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()})),this.context.memo("button.redo",(function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()})),this.context.memo("button.undo",(function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()})),this.context.memo("button.help",(function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()}))},e.prototype.addImagePopoverButtons=function(){var t=this;this.context.memo("button.imageSize100",(function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()})),this.context.memo("button.imageSize50",(function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()})),this.context.memo("button.imageSize25",(function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()})),this.context.memo("button.floatLeft",(function(){return t.button({contents:t.ui.icon(t.options.icons.alignLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()})),this.context.memo("button.floatRight",(function(){return t.button({contents:t.ui.icon(t.options.icons.alignRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()})),this.context.memo("button.floatNone",(function(){return t.button({contents:t.ui.icon(t.options.icons.alignJustify),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()})),this.context.memo("button.removeMedia",(function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()}))},e.prototype.addLinkPopoverButtons=function(){var t=this;this.context.memo("button.linkDialogShow",(function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.unlink",(function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()}))},e.prototype.addTablePopoverButtons=function(){var t=this;this.context.memo("button.addRowUp",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()})),this.context.memo("button.addRowDown",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()})),this.context.memo("button.addColLeft",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()})),this.context.memo("button.addColRight",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()})),this.context.memo("button.deleteRow",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()})),this.context.memo("button.deleteCol",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()})),this.context.memo("button.deleteTable",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()}))},e.prototype.build=function(e,i){for(var n=0,o=i.length;n<o;n++){for(var r=i[n],s=t.isArray(r)?r[0]:r,a=t.isArray(r)?1===r.length?[r[0]]:r[1]:[r],l=this.ui.buttonGroup({className:"note-"+s}).render(),c=0,d=a.length;c<d;c++){var u=this.context.memo("button."+a[c]);u&&l.append("function"==typeof u?u(this.context):u)}l.appendTo(e)}},e.prototype.updateCurrentStyle=function(e){var i=this,n=e||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var r=o["font-family"].split(",").map((function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")})),s=z.find(r,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each((function(e,i){var n=t(i),o=n.data("value")+""==s+"";n.toggleClass("checked",o)})),n.find(".note-current-fontname").text(s).css("font-family",s)}if(o["font-size"]){var a=o["font-size"];n.find(".dropdown-fontsize a").each((function(e,i){var n=t(i),o=n.data("value")+""==a+"";n.toggleClass("checked",o)})),n.find(".note-current-fontsize").text(a)}if(o["line-height"]){var l=o["line-height"];n.find(".dropdown-line-height li a").each((function(e,n){var o=t(n).data("value")+""==l+"";i.className=o?"checked":""}))}},e.prototype.updateBtnStates=function(e,i){var n=this;t.each(i,(function(t,i){n.ui.toggleBtnActive(e.find(t),i())}))},e.prototype.tableMoveHandler=function(e){var i,n=t(e.target.parentNode),o=n.next(),r=n.find(".note-dimension-picker-mousecatcher"),s=n.find(".note-dimension-picker-highlighted"),a=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=t(e.target).offset();i={x:e.pageX-l.left,y:e.pageY-l.top}}else i={x:e.offsetX,y:e.offsetY};var c=Math.ceil(i.x/18)||1,d=Math.ceil(i.y/18)||1;s.css({width:c+"em",height:d+"em"}),r.data("value",c+"x"+d),c>3&&c<this.options.insertTableMaxSize.col&&a.css({width:c+1+"em"}),d>3&&d<this.options.insertTableMaxSize.row&&a.css({height:d+1+"em"}),o.html(c+" x "+d)},e}(),oe=function(){function e(e){this.context=e,this.$window=t(window),this.$document=t(document),this.ui=t.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.followScroll=this.followScroll.bind(this)}return e.prototype.shouldInitialize=function(){return!this.options.airMode},e.prototype.initialize=function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",(function(){t.context.invoke("buttons.updateCurrentStyle")})),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},e.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},e.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$toolbar.parent(".note-toolbar-wrapper"),i=this.$editor.outerHeight(),n=this.$editor.width(),o=this.$toolbar.height();e.css({height:o});var r=0;this.options.otherStaticBar&&(r=t(this.options.otherStaticBar).outerHeight());var s=this.$document.scrollTop(),a=this.$editor.offset().top;s>a-r&&s<a+i-r-o?this.$toolbar.css({position:"fixed",top:r,width:n}):this.$toolbar.css({position:"relative",top:0,width:"100%"})},e.prototype.changeContainer=function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},e.prototype.updateFullscreen=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)},e.prototype.updateCodeview=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()},e.prototype.activate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)},e.prototype.deactivate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)},e}(),re=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,i=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":t("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:i,footer:n}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",(function(t){t.keyCode===Y.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))},e.prototype.toggleLinkBtn=function(t,e,i){this.ui.toggleBtn(t,e.val()&&i.val())},e.prototype.showLinkDialog=function(e){var i=this;return t.Deferred((function(t){var n=i.$dialog.find(".note-link-text"),o=i.$dialog.find(".note-link-url"),r=i.$dialog.find(".note-link-btn"),s=i.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");i.ui.onDialogShown(i.$dialog,(function(){i.context.triggerEvent("dialog.shown"),e.url||(e.url=e.text),n.val(e.text);var a=function(){i.toggleLinkBtn(r,n,o),e.text=n.val()};n.on("input",a).on("paste",(function(){setTimeout(a,0)}));var l=function(){i.toggleLinkBtn(r,n,o),e.text||n.val(o.val())};o.on("input",l).on("paste",(function(){setTimeout(l,0)})).val(e.url),O.isSupportTouch||o.trigger("focus"),i.toggleLinkBtn(r,n,o),i.bindEnterKey(o,r),i.bindEnterKey(n,r);var c=void 0!==e.isNewWindow?e.isNewWindow:i.context.options.linkTargetBlank;s.prop("checked",c),r.one("click",(function(r){r.preventDefault(),t.resolve({range:e.range,url:o.val(),text:n.val(),isNewWindow:s.is(":checked")}),i.ui.hideDialog(i.$dialog)}))})),i.ui.onDialogHidden(i.$dialog,(function(){n.off("input paste keypress"),o.off("input paste keypress"),r.off("click"),"pending"===t.state()&&t.reject()})),i.ui.showDialog(i.$dialog)})).promise()},e.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then((function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)})).fail((function(){t.context.invoke("editor.restoreRange")}))},e}(),se=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){i.update()},"summernote.disable summernote.dialog.shown":function(){i.hide()}}}return e.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.link)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.createRange");if(e.isCollapsed()&&e.isOnAnchor()){var i=Ot.ancestor(e.sc,Ot.isAnchor),n=t(i).attr("href");this.$popover.find("a").attr("href",n).html(n);var o=Ot.posFromPlaceholder(i);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),ae=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var i=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>"}var o=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:o,footer:r}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",(function(t){t.keyCode===Y.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))},e.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then((function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.options.callbacks.onImageUpload?t.context.triggerEvent("image.upload",e):t.context.invoke("editor.insertImagesAsDataURL",e)})).fail((function(){t.context.invoke("editor.restoreRange")}))},e.prototype.showImageDialog=function(){var e=this;return t.Deferred((function(t){var i=e.$dialog.find(".note-image-input"),n=e.$dialog.find(".note-image-url"),o=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),i.replaceWith(i.clone().on("change",(function(e){t.resolve(e.target.files||e.target.value)})).val("")),o.click((function(e){e.preventDefault(),t.resolve(n.val())})),n.on("keyup paste",(function(){var t=n.val();e.ui.toggleBtn(o,t)})).val(""),O.isSupportTouch||n.trigger("focus"),e.bindEnterKey(n,o)})),e.ui.onDialogHidden(e.$dialog,(function(){i.off("change"),n.off("keyup paste keypress"),o.off("click"),"pending"===t.state()&&t.reject()})),e.ui.showDialog(e.$dialog)}))},e}(),le=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){i.hide()}}}return e.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.image)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(t){if(Ot.isImg(t)){var e=Ot.posFromPlaceholder(t),i=Ot.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:e.left,top:this.options.popatmouse?event.pageY:Math.min(e.top,i.top)})}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),ce=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(t,e){i.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){i.update()},"summernote.disable":function(){i.hide()}}}return e.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.table)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),O.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=Ot.isCell(t);if(e){var i=Ot.posFromPlaceholder(t);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide();return e},e.prototype.hide=function(){this.$popover.hide()},e}(),de=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),i='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:i}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",(function(t){t.keyCode===Y.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))},e.prototype.createVideoNode=function(e){var i,n=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),o=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),s=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),a=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),d=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),u=e.match(/^.+.(mp4|m4v)$/),h=e.match(/^.+.(ogg|ogv)$/),p=e.match(/^.+.(webm)$/);if(n&&11===n[1].length){var f=n[1],g=0;if(void 0!==n[2]){var m=n[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var v=[3600,60,1],y=0,b=v.length;y<b;y++)g+=void 0!==m[y+1]?v[y]*parseInt(m[y+1],10):0}i=t("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+f+(g>0?"?start="+g:"")).attr("width","640").attr("height","360")}else if(o&&o[0].length)i=t("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)i=t("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(s&&s[3].length)i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+s[3]).attr("width","640").attr("height","360");else if(a&&a[2].length)i=t("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||d&&d[2].length){var w=c&&c[1].length?c[1]:d[2];i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+w+"&amp;auto=0")}else{if(!(u||h||p))return!1;i=t("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return i.addClass("note-video-clip"),i[0]},e.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then((function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");var i=t.createVideoNode(e);i&&t.context.invoke("editor.insertNode",i)})).fail((function(){t.context.invoke("editor.restoreRange")}))},e.prototype.showVideoDialog=function(e){var i=this;return t.Deferred((function(t){var n=i.$dialog.find(".note-video-url"),o=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,(function(){i.context.triggerEvent("dialog.shown"),n.val(e).on("input",(function(){i.ui.toggleBtn(o,n.val())})),O.isSupportTouch||n.trigger("focus"),o.click((function(e){e.preventDefault(),t.resolve(n.val())})),i.bindEnterKey(n,o)})),i.ui.onDialogHidden(i.$dialog,(function(){n.off("input"),o.off("click"),"pending"===t.state()&&t.reject()})),i.ui.showDialog(i.$dialog)}))},e}(),ue=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.11</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.createShortcutList=function(){var e=this,i=this.options.keyMap[O.isMac?"mac":"pc"];return Object.keys(i).map((function(n){var o=i[n],r=t('<div><div class="help-list-item"/></div>');return r.append(t("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(t("<span/>").html(e.context.memo("help."+o)||o)),r.html()})).join("")},e.prototype.showHelpDialog=function(){var e=this;return t.Deferred((function(t){e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),t.resolve()})),e.ui.showDialog(e.$dialog)})).promise()},e.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then((function(){t.context.invoke("editor.restoreRange")}))},e}(),he=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){i.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){i.hide()},"summernote.focusout":function(t,e){O.isFF||e.relatedTarget&&Ot.ancestor(e.relatedTarget,P.eq(i.$popover[0]))||i.hide()}}}return e.prototype.shouldInitialize=function(){return this.options.airMode&&!z.isEmpty(this.options.popover.air)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=z.last(t.range.getClientRects());if(e){var i=P.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-20,top:i.top+i.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),pe=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=t.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||i.handleKeyup(e)},"summernote.keydown":function(t,e){i.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){i.hide()}}}return e.prototype.shouldInitialize=function(){return this.hints.length>0},e.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",(function(i){e.$content.find(".active").removeClass("active"),t(i.currentTarget).addClass("active"),e.replace()}))},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},e.prototype.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var i=t.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}},e.prototype.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var i=t.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}},e.prototype.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),Ht.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},e.prototype.nodeFromItem=function(t){var e=this.hints[t.data("index")],i=t.data("item"),n=e.content?e.content(i):i;return"string"==typeof n&&(n=Ot.createText(n)),n},e.prototype.createItemTemplates=function(e,i){var n=this.hints[e];return i.map((function(i,o){var r=t('<div class="note-hint-item"/>');return r.append(n.template?n.template(i):i+""),r.data({index:e,item:i}),r}))},e.prototype.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===Y.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===Y.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===Y.code.DOWN&&(t.preventDefault(),this.moveDown()))},e.prototype.searchKeyword=function(t,e,i){var n=this.hints[t];if(n&&n.match.test(e)&&n.search){var o=n.match.exec(e);n.search(o[1],i)}else i()},e.prototype.createGroup=function(e,i){var n=this,o=t('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,i,(function(t){(t=t||[]).length&&(o.html(n.createItemTemplates(e,t)),n.show())})),o},e.prototype.handleKeyup=function(t){var e=this;if(!z.contains([Y.code.ENTER,Y.code.UP,Y.code.DOWN],t.keyCode)){var i=this.context.invoke("editor.createRange").getWordRange(),n=i.toString();if(this.hints.length&&n){this.$content.empty();var o=P.rect2bnd(z.last(i.getClientRects()));o&&(this.$popover.hide(),this.lastWordRange=i,this.hints.forEach((function(t,i){t.match.test(n)&&e.createGroup(i,n).appendTo(e.$content)})),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:o.left,top:o.top-this.$popover.outerHeight()-5}):this.$popover.css({left:o.left,top:o.top+o.height+5}))}else this.hide()}},e.prototype.show=function(){this.$popover.show()},e.prototype.hide=function(){this.$popover.hide()},e}(),fe=function(){function e(e,i){this.ui=t.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=i,this.initialize()}return e.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},e.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},e.prototype.reset=function(){var t=this.isDisabled();this.code(Ot.emptyPara),this._destroy(),this._initialize(),t&&this.disable()},e.prototype._initialize=function(){var e=this,i=t.extend({},this.options.buttons);Object.keys(i).forEach((function(t){e.memo("button."+t,i[t])}));var n=t.extend({},this.options.modules,t.summernote.plugins||{});Object.keys(n).forEach((function(t){e.module(t,n[t],!0)})),Object.keys(this.modules).forEach((function(t){e.initializeModule(t)}))},e.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach((function(e){t.removeModule(e)})),Object.keys(this.memos).forEach((function(e){t.removeMemo(e)})),this.triggerEvent("destroy",this)},e.prototype.code=function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t)},e.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},e.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},e.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},e.prototype.triggerEvent=function(){var t=z.head(arguments),e=z.tail(z.from(arguments)),i=this.options.callbacks[P.namespaceToCamel(t,"on")];i&&i.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)},e.prototype.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||P.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&Ot.attachEvents(this.$note,e.events))},e.prototype.module=function(t,e,i){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),i||this.initializeModule(t)},e.prototype.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&Ot.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]},e.prototype.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},e.prototype.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},e.prototype.createInvokeHandlerAndUpdateState=function(t,e){var i=this;return function(n){i.createInvokeHandler(t,e)(n),i.invoke("buttons.updateCurrentStyle")}},e.prototype.createInvokeHandler=function(e,i){var n=this;return function(o){o.preventDefault();var r=t(o.target);n.invoke(e,i||r.closest("[data-value]").data("value"),r)}},e.prototype.invoke=function(){var t=z.head(arguments),e=z.tail(z.from(arguments)),i=t.split("."),n=i.length>1,o=n&&z.head(i),r=n?z.last(i):z.head(i),s=this.modules[o||"editor"];return!o&&this[r]?this[r].apply(this,e):s&&s[r]&&s.shouldInitialize()?s[r].apply(s,e):void 0},e}();t.fn.extend({summernote:function(){var e=t.type(z.head(arguments)),i="string"===e,n="object"===e,o=t.extend({},t.summernote.options,n?z.head(arguments):{});o.langInfo=t.extend(!0,{},t.summernote.lang["en-US"],t.summernote.lang[o.lang]),o.icons=t.extend(!0,{},t.summernote.options.icons,o.icons),o.tooltip="auto"===o.tooltip?!O.isSupportTouch:o.tooltip,this.each((function(e,i){var n=t(i);if(!n.data("summernote")){var r=new fe(n,o);n.data("summernote",r),n.data("summernote").triggerEvent("init",r.layoutInfo)}}));var r=this.first();if(r.length){var s=r.data("summernote");if(i)return s.invoke.apply(s,z.from(arguments));o.focus&&s.invoke("editor.focus")}return this}}),t.summernote=t.extend(t.summernote,{version:"0.8.11",ui:C,plugins:{},options:{modules:{editor:qt,clipboard:Xt,dropzone:Qt,codeview:Vt,statusbar:Kt,fullscreen:Gt,handle:Zt,hintPopover:pe,autoLink:te,autoSync:ee,placeholder:ie,buttons:ne,toolbar:oe,linkDialog:re,linkPopover:se,imageDialog:ae,imagePopover:le,tablePopover:ce,videoDialog:de,helpDialog:ue,airPopover:he},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,styleTags:["p","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null,onImageLinkInsert:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})})),function(t){t.attrFn=t.attrFn||{};var e="ontouchstart"in window,i={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:e,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:e?"touchstart":"mousedown",endevent:e?"touchend":"mouseup",moveevent:e?"touchmove":"mousemove",tapevent:e?"tap":"click",scrollevent:e?"touchmove":"scroll",hold_timer:null,tap_timer:null};t.isTouchCapable=function(){return i.touch_capable},t.getStartEvent=function(){return i.startevent},t.getEndEvent=function(){return i.endevent},t.getMoveEvent=function(){return i.moveevent},t.getTapEvent=function(){return i.tapevent},t.getScrollEvent=function(){return i.scrollevent},t.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],(function(e,i){t.fn[i]=function(t){return t?this.on(i,t):this.trigger(i)},t.attrFn[i]=!0})),t.event.special.tapstart={setup:function(){var e=this,n=t(e);n.on(i.startevent,(function t(o){if(n.data("callee",t),o.originalEvent){if(o.which&&1!==o.which)return!1;var r=o.originalEvent,s={position:{x:i.touch_capable?r.touches[0].screenX:o.screenX,y:i.touch_capable?r.touches[0].screenY:o.screenY},offset:{x:i.touch_capable?Math.round(r.changedTouches[0].pageX-(n.offset()?n.offset().left:0)):Math.round(o.pageX-(n.offset()?n.offset().left:0)),y:i.touch_capable?Math.round(r.changedTouches[0].pageY-(n.offset()?n.offset().top:0)):Math.round(o.pageY-(n.offset()?n.offset().top:0))},time:Date.now(),target:o.target};return v(e,"tapstart",o,s),!0}}))},remove:function(){t(this).off(i.startevent,t(this).data.callee)}},t.event.special.tapmove={setup:function(){var e=this,n=t(e);n.on(i.moveevent,(function t(o){if(n.data("callee",t),o.originalEvent){var r=o.originalEvent,s={position:{x:i.touch_capable?r.touches[0].screenX:o.screenX,y:i.touch_capable?r.touches[0].screenY:o.screenY},offset:{x:i.touch_capable?Math.round(r.changedTouches[0].pageX-(n.offset()?n.offset().left:0)):Math.round(o.pageX-(n.offset()?n.offset().left:0)),y:i.touch_capable?Math.round(r.changedTouches[0].pageY-(n.offset()?n.offset().top:0)):Math.round(o.pageY-(n.offset()?n.offset().top:0))},time:Date.now(),target:o.target};return v(e,"tapmove",o,s),!0}}))},remove:function(){t(this).off(i.moveevent,t(this).data.callee)}},t.event.special.tapend={setup:function(){var e=this,n=t(e);n.on(i.endevent,(function t(o){if(n.data("callee",t),o.originalEvent){var r=o.originalEvent,s={position:{x:i.touch_capable?r.changedTouches[0].screenX:o.screenX,y:i.touch_capable?r.changedTouches[0].screenY:o.screenY},offset:{x:i.touch_capable?Math.round(r.changedTouches[0].pageX-(n.offset()?n.offset().left:0)):Math.round(o.pageX-(n.offset()?n.offset().left:0)),y:i.touch_capable?Math.round(r.changedTouches[0].pageY-(n.offset()?n.offset().top:0)):Math.round(o.pageY-(n.offset()?n.offset().top:0))},time:Date.now(),target:o.target};return v(e,"tapend",o,s),!0}}))},remove:function(){t(this).off(i.endevent,t(this).data.callee)}},t.event.special.taphold={setup:function(){var e,n=this,o=t(n),r={x:0,y:0},s=0,a=0;o.on(i.startevent,(function t(l){if(l.originalEvent){if(l.which&&1!==l.which)return!1;o.data("tapheld",!1),e=l.target;var c=l.originalEvent,d=Date.now(),u={x:i.touch_capable?c.touches[0].screenX:l.screenX,y:i.touch_capable?c.touches[0].screenY:l.screenY},h={x:i.touch_capable?c.touches[0].pageX-c.touches[0].target.offsetLeft:l.offsetX,y:i.touch_capable?c.touches[0].pageY-c.touches[0].target.offsetTop:l.offsetY};r.x=l.originalEvent.targetTouches?l.originalEvent.targetTouches[0].pageX:l.pageX,r.y=l.originalEvent.targetTouches?l.originalEvent.targetTouches[0].pageY:l.pageY,s=r.x,a=r.y;var p=o.parent().data("threshold")?o.parent().data("threshold"):o.data("threshold"),f=void 0!==p&&!1!==p&&parseInt(p)?parseInt(p):i.taphold_threshold;return i.hold_timer=window.setTimeout((function(){var p=r.x-s,f=r.y-a;if(l.target==e&&(r.x==s&&r.y==a||p>=-i.tap_pixel_range&&p<=i.tap_pixel_range&&f>=-i.tap_pixel_range&&f<=i.tap_pixel_range)){o.data("tapheld",!0);var g=Date.now(),m={x:i.touch_capable?c.touches[0].screenX:l.screenX,y:i.touch_capable?c.touches[0].screenY:l.screenY},y={x:i.touch_capable?Math.round(c.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(l.pageX-(o.offset()?o.offset().left:0)),y:i.touch_capable?Math.round(c.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(l.pageY-(o.offset()?o.offset().top:0))},b={startTime:d,endTime:g,startPosition:u,startOffset:h,endPosition:m,endOffset:y,duration:g-d,target:l.target};o.data("callee1",t),v(n,"taphold",l,b)}}),f),!0}})).on(i.endevent,(function t(){o.data("callee2",t),o.data("tapheld",!1),window.clearTimeout(i.hold_timer)})).on(i.moveevent,(function t(e){o.data("callee3",t),e.originalEvent&&(s=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,a=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY)}))},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.endevent,t(this).data.callee2).off(i.moveevent,t(this).data.callee3)}},t.event.special.doubletap={setup:function(){var e,n,o=this,r=t(o),s=null,a=!1;r.on(i.startevent,(function e(o){if(o.originalEvent)return(!o.which||1===o.which)&&(r.data("doubletapped",!1),o.target,r.data("callee1",e),n=o.originalEvent,s||(s={position:{x:i.touch_capable?n.touches[0].screenX:o.screenX,y:i.touch_capable?n.touches[0].screenY:o.screenY},offset:{x:i.touch_capable?Math.round(n.changedTouches[0].pageX-(r.offset()?r.offset().left:0)):Math.round(o.pageX-(r.offset()?r.offset().left:0)),y:i.touch_capable?Math.round(n.changedTouches[0].pageY-(r.offset()?r.offset().top:0)):Math.round(o.pageY-(r.offset()?r.offset().top:0))},time:Date.now(),target:o.target,element:o.originalEvent.srcElement,index:t(o.target).index()}),!0)})).on(i.endevent,(function l(c){if(c.originalEvent){var d=Date.now(),u=d-(r.data("lastTouch")||d+1);if(window.clearTimeout(e),r.data("callee2",l),u<i.doubletap_int&&t(c.target).index()==s.index&&u>100){r.data("doubletapped",!0),window.clearTimeout(i.tap_timer);var h={position:{x:i.touch_capable?c.originalEvent.changedTouches[0].screenX:c.screenX,y:i.touch_capable?c.originalEvent.changedTouches[0].screenY:c.screenY},offset:{x:i.touch_capable?Math.round(n.changedTouches[0].pageX-(r.offset()?r.offset().left:0)):Math.round(c.pageX-(r.offset()?r.offset().left:0)),y:i.touch_capable?Math.round(n.changedTouches[0].pageY-(r.offset()?r.offset().top:0)):Math.round(c.pageY-(r.offset()?r.offset().top:0))},time:Date.now(),target:c.target,element:c.originalEvent.srcElement,index:t(c.target).index()},p={firstTap:s,secondTap:h,interval:h.time-s.time};a||(v(o,"doubletap",c,p),s=null),a=!0,window.setTimeout((function(){a=!1}),i.doubletap_int)}else r.data("lastTouch",d),e=window.setTimeout((function(){s=null,window.clearTimeout(e)}),i.doubletap_int,[c]);r.data("lastTouch",d)}}))},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.endevent,t(this).data.callee2)}},t.event.special.singletap={setup:function(){var e=this,n=t(e),o=null,r=null,s={x:0,y:0};n.on(i.startevent,(function t(e){if(e.originalEvent)return(!e.which||1===e.which)&&(r=Date.now(),o=e.target,n.data("callee1",t),s.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,s.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,!0)})).on(i.endevent,(function t(a){if(n.data("callee2",t),a.originalEvent&&a.target==o){var l=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.pageX,c=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageY:a.pageY;i.tap_timer=window.setTimeout((function(){var t=s.x-l,o=s.y-c;if(!n.data("doubletapped")&&!n.data("tapheld")&&(s.x==l&&s.y==c||t>=-i.tap_pixel_range&&t<=i.tap_pixel_range&&o>=-i.tap_pixel_range&&o<=i.tap_pixel_range)){var d=a.originalEvent,u={position:{x:i.touch_capable?d.changedTouches[0].screenX:a.screenX,y:i.touch_capable?d.changedTouches[0].screenY:a.screenY},offset:{x:i.touch_capable?Math.round(d.changedTouches[0].pageX-(n.offset()?n.offset().left:0)):Math.round(a.pageX-(n.offset()?n.offset().left:0)),y:i.touch_capable?Math.round(d.changedTouches[0].pageY-(n.offset()?n.offset().top:0)):Math.round(a.pageY-(n.offset()?n.offset().top:0))},time:Date.now(),target:a.target};u.time-r<i.taphold_threshold&&v(e,"singletap",a,u)}}),i.doubletap_int)}}))},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.endevent,t(this).data.callee2)}},t.event.special.tap={setup:function(){var e,n,o=this,r=t(o),s=!1,a=null,l={x:0,y:0};r.on(i.startevent,(function t(i){if(r.data("callee1",t),i.originalEvent)return(!i.which||1===i.which)&&(s=!0,l.x=i.originalEvent.targetTouches?i.originalEvent.targetTouches[0].pageX:i.pageX,l.y=i.originalEvent.targetTouches?i.originalEvent.targetTouches[0].pageY:i.pageY,e=Date.now(),a=i.target,n=i.originalEvent.targetTouches?i.originalEvent.targetTouches:[i],!0)})).on(i.endevent,(function t(c){if(r.data("callee2",t),c.originalEvent){var d=c.originalEvent.targetTouches?c.originalEvent.changedTouches[0].pageX:c.pageX,u=c.originalEvent.targetTouches?c.originalEvent.changedTouches[0].pageY:c.pageY,h=l.x-d,p=l.y-u;if(a==c.target&&s&&Date.now()-e<i.taphold_threshold&&(l.x==d&&l.y==u||h>=-i.tap_pixel_range&&h<=i.tap_pixel_range&&p>=-i.tap_pixel_range&&p<=i.tap_pixel_range)){for(var f=c.originalEvent,g=[],m=0;m<n.length;m++){var y={position:{x:i.touch_capable?f.changedTouches[m].screenX:c.screenX,y:i.touch_capable?f.changedTouches[m].screenY:c.screenY},offset:{x:i.touch_capable?Math.round(f.changedTouches[m].pageX-(r.offset()?r.offset().left:0)):Math.round(c.pageX-(r.offset()?r.offset().left:0)),y:i.touch_capable?Math.round(f.changedTouches[m].pageY-(r.offset()?r.offset().top:0)):Math.round(c.pageY-(r.offset()?r.offset().top:0))},time:Date.now(),target:c.target};g.push(y)}v(o,"tap",c,g)}}}))},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.endevent,t(this).data.callee2)}},t.event.special.swipe={setup:function(){var e,n=t(this),o=!1,r=!1,s={x:0,y:0},a={x:0,y:0};n.on(i.startevent,(function r(l){if(l.originalEvent){(n=t(l.currentTarget)).data("callee1",r),s.x=l.originalEvent.targetTouches?l.originalEvent.targetTouches[0].pageX:l.pageX,s.y=l.originalEvent.targetTouches?l.originalEvent.targetTouches[0].pageY:l.pageY,a.x=s.x,a.y=s.y,o=!0;var c=l.originalEvent;e={position:{x:i.touch_capable?c.touches[0].screenX:l.screenX,y:i.touch_capable?c.touches[0].screenY:l.screenY},offset:{x:i.touch_capable?Math.round(c.changedTouches[0].pageX-(n.offset()?n.offset().left:0)):Math.round(l.pageX-(n.offset()?n.offset().left:0)),y:i.touch_capable?Math.round(c.changedTouches[0].pageY-(n.offset()?n.offset().top:0)):Math.round(l.pageY-(n.offset()?n.offset().top:0))},time:Date.now(),target:l.target}}})),n.on(i.moveevent,(function l(c){if(c.originalEvent){var d;(n=t(c.currentTarget)).data("callee2",l),a.x=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX,a.y=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY;var u=n.parent().data("xthreshold")?n.parent().data("xthreshold"):n.data("xthreshold"),h=n.parent().data("ythreshold")?n.parent().data("ythreshold"):n.data("ythreshold"),p=void 0!==u&&!1!==u&&parseInt(u)?parseInt(u):i.swipe_h_threshold,f=void 0!==h&&!1!==h&&parseInt(h)?parseInt(h):i.swipe_v_threshold;if(s.y>a.y&&s.y-a.y>f&&(d="swipeup"),s.x<a.x&&a.x-s.x>p&&(d="swiperight"),s.y<a.y&&a.y-s.y>f&&(d="swipedown"),s.x>a.x&&s.x-a.x>p&&(d="swipeleft"),null!=d&&o){s.x=0,s.y=0,a.x=0,a.y=0,o=!1;var g=c.originalEvent,m={position:{x:i.touch_capable?g.touches[0].screenX:c.screenX,y:i.touch_capable?g.touches[0].screenY:c.screenY},offset:{x:i.touch_capable?Math.round(g.changedTouches[0].pageX-(n.offset()?n.offset().left:0)):Math.round(c.pageX-(n.offset()?n.offset().left:0)),y:i.touch_capable?Math.round(g.changedTouches[0].pageY-(n.offset()?n.offset().top:0)):Math.round(c.pageY-(n.offset()?n.offset().top:0))},time:Date.now(),target:c.target},v=Math.abs(e.position.x-m.position.x),y=Math.abs(e.position.y-m.position.y),b={startEvnt:e,endEvnt:m,direction:d.replace("swipe",""),xAmount:v,yAmount:y,duration:m.time-e.time};r=!0,n.trigger("swipe",b).trigger(d,b)}}})),n.on(i.endevent,(function s(a){if(a.originalEvent){var l="";if((n=t(a.currentTarget)).data("callee3",s),r){var c=n.data("xthreshold"),d=n.data("ythreshold"),u=void 0!==c&&!1!==c&&parseInt(c)?parseInt(c):i.swipe_h_threshold,h=void 0!==d&&!1!==d&&parseInt(d)?parseInt(d):i.swipe_v_threshold,p=a.originalEvent,f={position:{x:i.touch_capable?p.changedTouches[0].screenX:a.screenX,y:i.touch_capable?p.changedTouches[0].screenY:a.screenY},offset:{x:i.touch_capable?Math.round(p.changedTouches[0].pageX-(n.offset()?n.offset().left:0)):Math.round(a.pageX-(n.offset()?n.offset().left:0)),y:i.touch_capable?Math.round(p.changedTouches[0].pageY-(n.offset()?n.offset().top:0)):Math.round(a.pageY-(n.offset()?n.offset().top:0))},time:Date.now(),target:a.target};e.position.y>f.position.y&&e.position.y-f.position.y>h&&(l="swipeup"),e.position.x<f.position.x&&f.position.x-e.position.x>u&&(l="swiperight"),e.position.y<f.position.y&&f.position.y-e.position.y>h&&(l="swipedown"),e.position.x>f.position.x&&e.position.x-f.position.x>u&&(l="swipeleft");var g=Math.abs(e.position.x-f.position.x),m=Math.abs(e.position.y-f.position.y),v={startEvnt:e,endEvnt:f,direction:l.replace("swipe",""),xAmount:g,yAmount:m,duration:f.time-e.time};n.trigger("swipeend",v)}o=!1,r=!1}}))},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.moveevent,t(this).data.callee2).off(i.endevent,t(this).data.callee3)}},t.event.special.scrollstart={setup:function(){var e,n,o=this,r=t(o);function s(t,i){v(o,(e=i)?"scrollstart":"scrollend",t)}r.on(i.scrollevent,(function t(i){r.data("callee",t),e||s(i,!0),clearTimeout(n),n=setTimeout((function(){s(i,!1)}),50)}))},remove:function(){t(this).off(i.scrollevent,t(this).data.callee)}};var n,o,r,s,a=t(window),l={0:!0,180:!0};if(i.orientation_support){var c=window.innerWidth||a.width(),d=window.innerHeight||a.height();r=c>d&&c-d>50,s=l[window.orientation],(r&&s||!r&&!s)&&(l={"-90":!0,90:!0})}function u(){var t=n();t!==o&&(o=t,a.trigger("orientationchange"))}t.event.special.orientationchange={setup:function(){return!i.orientation_support&&(o=n(),a.on("throttledresize",u),!0)},teardown:function(){return!i.orientation_support&&(a.off("throttledresize",u),!0)},add:function(t){var e=t.handler;t.handler=function(t){return t.orientation=n(),e.apply(this,arguments)}}},t.event.special.orientationchange.orientation=n=function(){var t=document.documentElement;return(i.orientation_support?l[window.orientation]:t&&t.clientWidth/t.clientHeight<1.1)?"portrait":"landscape"},t.event.special.throttledresize={setup:function(){t(this).on("resize",g)},teardown:function(){t(this).off("resize",g)}};var h,p,f,g=function(){p=Date.now(),(f=p-m)>=250?(m=p,t(this).trigger("throttledresize")):(h&&window.clearTimeout(h),h=window.setTimeout(u,250-f))},m=0;function v(e,i,n,o){var r=n.type;n.type=i,t.event.dispatch.call(e,n,o),n.type=r}t.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},(function(e,i){t.event.special[e]={setup:function(){t(this).on(i,t.noop)}}}))}(jQuery),function(t){var e="mousedown touchstart MSPointerDown pointerdown",i="mouseup touchend MSPointerUp pointerup",n="mousemove touchmove MSPointerMove pointermove scroll";function o(t,e,i){l("transform",t,"translate("+e+"px, "+i+"px)")}function r(t,e){l("transition",t,e)}function s(t){return t=t.originalEvent||t,window.event&&window.event.changedTouches&&event.changedTouches[0].pageX||t.pageX}function a(t){return t=t.originalEvent||t,window.event&&window.event.changedTouches&&event.changedTouches[0].pageY||t.pageY}function l(t,e,i){for(var n=(t=t.toLowerCase()).charAt(0).toUpperCase()+t.substr(1),o=["webkit","Moz","ms","O"].map((function(t){return t+n})).concat("transform"),r=0,s=o.length;r<s;++r)if(o[r]in e.style){if(void 0===i)return e.style[o[r]];e.style[o[r]]=i;break}}var c=["altKey","bubbles","button","cancelable","charCode","clientX","clientY","ctrlKey","currentTarget","data","detail","eventPhase","metaKey","offsetX","offsetY","originalTarget","pageX","pageY","relatedTarget","screenX","screenY","shiftKey","target","view","which"];function d(t,e,i,n){if(t[0]){i=i.originalEvent||i;var o={};c.forEach((function(t){o[t]=i[t]})),o.currentTarget=o.target=t[0];var r=t[0].ownerDocument.defaultView||t[0].ownerDocument.parentWindow,s=r.Zepto||r.jQuery,a=s.Event(e,o);return s(t[0]).trigger(a,n),a}}var u,h=0,p=function(){var e;this.eventHandler=t("<div />"),this.parent=this.el=this.handle=null,this.origin={x:0,y:0,transition:null,translate:null,offset:{x:0,y:0}},this.lastEntered=this.currentTarget=null,this.lastX=this.lastY=this.lastDirection=null,this.originalCss={},this.windows=[window],Object.defineProperty(this,"placeholder",{get:function(){return e},set:function(t){e!==t&&(e&&e.remove(),e=t)}})};p.prototype.on=function(){return this.eventHandler.on.apply(this.eventHandler,Array.prototype.slice.call(arguments)),this},p.prototype.off=function(){return this.eventHandler.off.apply(this.eventHandler,Array.prototype.slice.call(arguments)),this},p.prototype.start=function(e,o,c,u){this.parent=e,this.el=o,this.handle=u;o=this.handle||this.el;this.origin.x=s(c),this.origin.y=a(c),this.origin.transform=l("transform",this.el[0]),this.origin.transition=l("transition",this.el[0]);var h=this.el[0].getBoundingClientRect();return this.origin.offset.x=h.left+(window.scrollX||window.pageXOffset)-this.origin.x,this.origin.offset.y=h.top+(window.scrollY||window.pageYOffset)-this.origin.y,this.origin.scrollX=window.scrollX||window.pageXOffset,this.origin.scrollY=window.scrollY||window.pageYOffset,o[0].style.pointerEvents="none",this.windows.forEach((function(e){t(e).on(n,t.proxy(this.move,this)),t(e).on(i,t.proxy(this.stop,this))}),this),r(o[0],""),d(this.eventHandler,"dragging:start",c),this.el},p.prototype.stop=function(e){if(this.last){var o=this.last;this.last=null,!d(t(o),"dragging:drop",e).isDefaultPrevented()}if(this.el){for(var s in this.originalCss)this.el.css(s,this.originalCss[s]),delete this.originalCss[s];d(this.eventHandler,"dragging:stop",e,this.el),this.placeholder=null,this.handle||this.adjustPlacement(e);var a=this.el;this.handle&&this.handle.remove(),setTimeout(function(t,e){r(t[0],"all 0.25s ease-in-out 0s"),l("transform",t[0],e.transform||""),setTimeout(r.bind(null,t[0],e.transition||""),250),t[0].style.pointerEvents=""}.bind(null,a,this.origin)),this.windows.forEach((function(e){t(e).off(n,this.move),t(e).off(i,this.stop)}),this),this.parent=this.el=this.handle=null}},p.prototype.move=function(e){if(this.el){var i=(p=this.el[0].ownerDocument).defaultView||p.parentWindow;if("scroll"!==e.type){var n=s(e),r=a(e);e.view!==i&&e.view.frameElement&&(n+=e.view.frameElement.offsetLeft,r+=e.view.frameElement.offsetTop);var l,c=e.clientX||e.originalEvent&&e.originalEvent.clientX||window.event&&window.event.touches&&window.event.touches[0].clientX||0,h=e.clientY||e.originalEvent&&e.originalEvent.clientY||window.event&&window.event.touches&&window.event.touches[0].clientY||0,p=this.el[0].ownerDocument;l=m?(l=e.view.document.msElementsFromPoint(c,h))[0]===this.el[0]?l[1]:l[0]:e.view.document.elementFromPoint(c,h);var f=this.lastX-n,g=((x=this.lastY-r)>0?"up":x<0&&"down")||f>0&&"up"||f<0&&"down"||this.lastDirection;u.currentTarget||this.setCurrent(l),this.currentTarget&&(l!==this.last&&this.lastEntered!==this.currentTarget?(d(t(this.lastEntered),"dragging:leave",e),d(t(this.currentTarget),"dragging:enter",e),this.lastEntered=this.currentTarget):g!==this.lastDirection&&d(t(this.currentTarget),"dragging:diverted",e)),this.last=l,this.currentTarget=null,this.lastDirection=g,this.lastX=n,this.lastY=r,this.origin.scrollX=window.scrollX||window.pageXOffset,this.origin.scrollY=window.scrollY||window.pageYOffset}else n=this.lastX+((window.scrollX||window.pageXOffset)-this.origin.scrollX),r=this.lastY+((window.scrollY||window.pageYOffset)-this.origin.scrollY);if(e.view!==i&&e.view&&e.view.frameElement){var v=-1*(r-(window.scrollY||window.pageYOffset)-window.innerHeight),y=document.documentElement.offsetHeight<(window.scrollY||window.pageYOffset)+window.innerHeight;v<=10&&!y&&setTimeout((function(){window.scrollBy(0,5)}),50);var b=r-(window.scrollY||window.pageYOffset),w=(window.scrollY||window.pageYOffset)<=0;b<=10&&!w&&setTimeout((function(){window.scrollBy(0,-5)}),50)}f=n-this.origin.x;var x=r-this.origin.y;o((this.handle||this.el)[0],f,x)}},p.prototype.setCurrent=function(t){this.currentTarget=t},p.prototype.css=function(t,e){this.el&&(this.originalCss[t]=this.el.css(t),this.el.css(t,e))},p.prototype.adjustPlacement=function(t){var e=this.handle&&this.handle[0]||this.el[0];o(e,0,0);var i=e.getBoundingClientRect();this.origin.x=i.left+(window.scrollX||window.pageXOffset)-this.origin.offset.x,this.origin.y=i.top+(window.scrollY||window.pageYOffset)-this.origin.offset.y;var n=s(t)||this.lastX,r=a(t)||this.lastY;o(e,n-this.origin.x,r-this.origin.y)};try{parent.$&&parent.$.dragging&&(u=parent.$.dragging).windows.push(window)}catch(t){}u=t.dragging=u||new p;var f=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;function g(t){return Array.prototype.slice.call(t)}var m=!1;void 0===f&&((f=function(t){this.targets=[],this.onAdded=function(e){t([{addedNodes:[e.target],removedNodes:[]}])},this.onRemoved=function(e){t([{addedNodes:[],removedNodes:[e.target]}])}}).prototype.observe=function(t){t.addEventListener("DOMNodeInserted",this.onAdded),t.addEventListener("DOMNodeRemoved",this.onRemoved),this.targets.push(t)},f.prototype.disconnect=function(){for(var t;t=this.targets.shift();)t.removeEventListener("DOMNodeInserted",this.onAdded),t.removeEventListener("DOMNodeRemoved",this.onRemoved)},m=!!~navigator.appName.indexOf("Internet Explorer"));var v=function(t,e,i,n){var o=this;this.targets=t instanceof NodeList?Array.prototype.slice.call(t):[t];var r=">"===e[0],s=r?e.substr(1):e,a=!1;function l(t,i,n){n&&function(t,i){var n=[];return g(t).forEach((function(t){1===t.nodeType&&(r&&-1===o.targets.indexOf(t.parentNode)||(function(t,e){var i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector;return!!i&&i.call(t,e)}(t,s)&&n.push(t),!r&&i&&g(t.querySelectorAll(e)).forEach((function(t){n.push(t)}))))})),n}(t,i).filter((function(t,e,i){return i.indexOf(t)===e})).forEach((function(t){n.call(t)}))}var c=null,d=[],u=[];function h(){o.disconnect();for(var t=0,e=u.length;t<e;++t){var r=d.indexOf(u[t]);r>-1&&(d.splice(r,1),u.splice(t--,1))}l(d,!(a&&m),i),l(u,!0,n),d.length=0,u.length=0,o.observe()}this.observer=new f((function(t){t.forEach((function(t){d.push.apply(d,t.addedNodes),u.push.apply(u,t.removedNodes)})),c&&clearTimeout(c),c=setTimeout(h)})),i&&this.targets.forEach((function(t){l(t.children,!0,i)})),a=!0,this.observe()};v.prototype.disconnect=function(){this.observer.disconnect()},v.prototype.observe=function(){var t=this;this.targets.forEach((function(e){t.observer.observe(e,{childList:!0,subtree:!0})}))};var y=function(e,i){this.id=h++,this.el=t(e),this.opts=i,this.cancel=!1!==i.handle};y.prototype.create=function(){this.el.on(e,t.proxy(this.start,this)).css("touch-action","double-tap-zoom").css("-ms-touch-action","double-tap-zoom"),u.on("dragging:stop",t.proxy(this.reset,this));var i=this;setTimeout((function(){i.el.trigger("draggable:create",i)}))},y.prototype.destroy=function(){this.el.off(e,this.start),u.off("dragging:stop",this.reset)},y.prototype.enable=function(){this.opts.disabled=!1},y.prototype.disable=function(){this.opts.disabled=!0},y.prototype.start=function(e){if(this.opts.disabled)return!1;if("mousedown"===e.type&&1!==e.which)return!1;if(e=e.originalEvent||e,this.opts.cancel)for(var i=t(e.target);i[0]!==this.el[0];){if(i.is(this.opts.cancel))return;i=i.parent()}if(this.opts.handle){i=t(e.target);for(var n=!1;i[0]!==this.el[0];){if(i.is(this.opts.handle)){n=!0;break}i=i.parent()}if(!n)return}e.preventDefault();var o;this.el;if(this.opts.clone){"function"==typeof this.opts.clone?o=this.opts.clone.call(this.el):(o=this.el.clone(),this.opts.cloneClass&&o.addClass(this.opts.cloneClass));var r=this.el.position();o.css("position","absolute").css("left",r.left).css("top",r.top).width(this.el.width()).height(this.el.height()),o.insertAfter(this.el)}u.start(this,this.el,e,o),d(this.el,"draggable:start",e,{item:u.el})},y.prototype.reset=function(t,e){e===this.el[0]&&d(this.el,"draggable:stop",t,{item:u.el})};var b=function(e,i){this.id=h++,this.el=t(e),this.opts=i,this.accept=!1};b.prototype.create=function(){this.el.on("dragging:enter",t.proxy(this.enter,this)).on("dragging:leave",t.proxy(this.leave,this)).on("dragging:drop",t.proxy(this.drop,this)),u.on("dragging:start",t.proxy(this.activate,this)).on("dragging:stop",t.proxy(this.reset,this));var e=this;setTimeout((function(){e.el.trigger("droppable:create",e)}))},b.prototype.destroy=function(){this.el.off("dragging:enter",this.enter).off("dragging:leave",this.leave).off("dragging:drop",this.drop)},b.prototype.enable=function(){this.opts.disabled=!1},b.prototype.disable=function(){this.opts.disabled=!0},b.prototype.activate=function(t){if(this.accept=u.parent.opts.connectWith&&this.el.is(u.parent.opts.connectWith),!this.accept){var e="*"===this.opts.accept||("function"==typeof this.opts.accept?this.opts.accept.call(this.el[0],u.el):u.el.is(this.opts.accept));"default"!==this.opts.scope?(this.accept=u.parent.opts.scope===this.opts.scope,this.accept||"*"===this.opts.accept||(this.accept=e)):this.accept=e}this.accept&&(this.opts.activeClass&&this.el.addClass(this.opts.activeClass),d(this.el,"droppable:activate",t,{item:u.el}))},b.prototype.reset=function(t){this.accept&&(this.opts.activeClass&&this.el.removeClass(this.opts.activeClass),this.opts.hoverClass&&this.el.removeClass(this.opts.hoverClass),d(this.el,"droppable:deactivate",t,{item:u.el}))},b.prototype.enter=function(t){if(this.opts.disabled)return!1;t.stopPropagation(),u.placeholder&&u.placeholder.hide(),this.accept&&(this.opts.hoverClass&&this.el.addClass(this.opts.hoverClass),d(this.el,"droppable:over",t,{item:u.el}))},b.prototype.leave=function(t){if(this.opts.disabled)return!1;this.opts.hoverClass&&this.accept&&this.el.removeClass(this.opts.hoverClass),d(this.el,"droppable:out",t,{item:u.el})},b.prototype.drop=function(e){if(this.opts.disabled||!this.accept)return!1;if(u.el){var i=u.el,n="function"==typeof this.opts.receiveHandler&&this.opts.receiveHandler,o={item:i},r=null;u.handle&&(o.helper=u.handle,n||(r=o.clone=u.el.clone())),d(this.el,"droppable:drop",e,o).isDefaultPrevented()||(n?n.call(this.el,o):t(this.el).append(r||u.el))}};var w=function(e,i){this.id=h++,this.el=e,this.opts=i;var n=this.opts.placeholderTag;if(!n)try{n=this.el.find(this.opts.items)[0].tagName}catch(t){n=/^ul|ol$/i.test(this.el[0].tagName)?"li":"div"}this.placeholder=t("<"+n+' id="__ph'+this.id+'" class="'+this.opts.placeholder+'" />'),this.accept=this.index=this.direction=null};function x(e,i,n){return function(o,r,s){var a=[];return this.each((function(){var l=t(this).data(i);if("string"==typeof o){if(void 0===l)throw new Error(i+" not defined");switch(o){case"enable":l.enable();break;case"disable":l.disable();break;case"destroy":l.destroy(),t(this).removeData(i);break;case"option":void 0!==s?l.opts[r]=s:"object"==typeof r?l.opts=t.extend(l.opts,r):r?a.push(l.opts[r]):a.push(l.opts);break;case"toArray":if("sortable"!==i)return;a.push(l.toArray(r))}}else{if(l)return t.extend(l.opts,o),this;(l=new e(t(this),t.extend({},n,o))).create(),t(this).data(i,l)}})),a.length?1===a.length?a[0]:a:this}}w.prototype.create=function(){this.el.on(e,this.opts.items,t.proxy(this.start,this)).on("dragging:enter",this.opts.items,t.proxy(this.enter,this)).on("dragging:diverted",this.opts.items,t.proxy(this.diverted,this)).on("dragging:drop",this.opts.items,t.proxy(this.drop,this)),t(this.el).find(this.opts.items).css("touch-action","double-tap-zoom").css("-ms-touch-action","double-tap-zoom"),this.el.on("dragging:enter",t.proxy(this.enter,this)).on("dragging:diverted",t.proxy(this.diverted,this)).on("dragging:drop",t.proxy(this.drop,this)),u.on("dragging:start",t.proxy(this.activate,this)).on("dragging:stop",t.proxy(this.reset,this));var i=this;setTimeout((function(){i.el.trigger("sortable:create",i)})),this.observer=new v(this.el[0],this.opts.items,(function(){}),(function(){if(!(this===i.placeholder[0]||u.el&&this===u.el[0])){var e=t(this);e.css("touch-action","double-tap-zoom").css("-ms-touch-action","double-tap-zoom"),i.el.trigger("sortable:change",{item:e}),i.el.trigger("sortable:update",{item:e,index:-1})}}))},w.prototype.destroy=function(){this.el.off(e,this.opts.items,this.start).off("dragging:enter",this.opts.items,this.enter).off("dragging:diverted",this.opts.items,this.diverted).off("dragging:drop",this.opts.items,this.drop),this.el.off("dragging:enter",this.enter).off("dragging:diverted",this.diverted).off("dragging:drop",this.drop),this.observer.disconnect()},w.prototype.enable=function(){this.opts.disabled=!1},w.prototype.disable=function(){this.opts.disabled=!0},w.prototype.activate=function(t){this.isEmpty=0===this.el.find(this.opts.items).length,this.accept=u.parent.id===this.id,!this.accept&&u.parent.opts.connectWith&&(this.accept=this.el.is(u.parent.opts.connectWith)),this.accept&&(this.accept=u.parent.id===this.id||"*"===this.opts.accept||("function"==typeof this.opts.accept?this.opts.accept.call(this.el[0],u.el):u.el.is(this.opts.accept)),this.accept&&(this.opts.activeClass&&this.el.addClass(this.opts.activeClass),d(this.el,"sortable:activate",t,{item:u.el})))},w.prototype.reset=function(t){this.accept&&(this.opts.activeClass&&this.el.removeClass(this.opts.activeClass),d(this.el,"sortable:deactivate",t,{item:u.el}),null!==this.index&&(d(this.el,"sortable:beforeStop",t,{item:u.el}),d(this.el,"sortable:stop",t,{item:u.el}),this.index=null))},w.prototype.indexOf=function(t){return this.el.find(this.opts.items+", #"+this.placeholder.attr("id")).index(t)},w.prototype.start=function(e){if(!this.opts.disabled&&!u.el){if("mousedown"===e.type&&1!==e.which)return!1;if(this.opts.cancel)for(var i=t(e.target);i[0]!==this.el[0];){if(i.is(this.opts.cancel))return;i=i.parent()}if(this.opts.handle){i=t(e.target);for(var n=!1;i[0]!==this.el[0];){if(i.is(this.opts.handle)){n=!0;break}i=i.parent()}if(!n)return}if(e.stopPropagation(),e.preventDefault(),u.start(this,t(e.currentTarget),e),this.index=this.indexOf(u.el),u.el.before(u.placeholder=this.placeholder.show()),null!==this.index){var o=u.el.outerHeight?u.el.outerHeight():u.el.height();u.css("margin-bottom",-o)}this.opts.forcePlaceholderSize&&(this.placeholder.height(parseFloat(u.el.css("height"))),this.placeholder.width(parseFloat(u.el.css("width")))),u.adjustPlacement(e),d(this.el,"sortable:start",e,{item:u.el})}},w.prototype.enter=function(e){if(this.accept&&!this.opts.disabled){e.stopPropagation();var i=e.currentTarget,n=i===this.el[0];i!==this.placeholder[0]&&(i=t(i),n&&!this.isEmpty&&this.placeholder.parent().length||(u.placeholder=this.placeholder,this.opts.forcePlaceholderSize&&(this.placeholder.height(parseFloat(u.el.css("height"))),this.placeholder.width(parseFloat(u.el.css("width")))),n?(this.el.append(this.placeholder),this.el.trigger("sortable:change",{item:u.el})):this.diverted(e)))}},w.prototype.diverted=function(e){if(this.accept&&!this.opts.disabled){e.stopPropagation();var i=t(e.currentTarget);i[0]===this.el[0]||(u.placeholder=this.placeholder,this.direction=this.indexOf(this.placeholder.show())<this.indexOf(i)?"down":"up",i["down"===this.direction?"after":"before"](this.placeholder),u.adjustPlacement(e),this.el.trigger("sortable:change",{item:u.el}))}},w.prototype.drop=function(t){if(this.accept&&!this.opts.disabled&&(t.stopPropagation(),t.preventDefault(),u.el&&this.placeholder.parent().length)){d(this.el,"sortable:beforeStop",t,{item:u.el}),this.observer.disconnect();var e,i=this.indexOf(this.placeholder);i>this.index&&i--,e=null===this.index?this.opts.receiveHandler:this.opts.updateHandler||this.opts.updatePosition;var n=u.el;"function"==typeof e?e.call(this.el,{item:u.el,index:i}):(u.handle&&(n=u.el.clone()),n.insertBefore(this.placeholder)),null===this.index&&d(this.el,"sortable:receive",t,{item:n}),i!==this.index&&this.el.trigger("sortable:update",{item:n,index:i}),d(this.el,"sortable:stop",t,{item:n}),this.index=null,this.observer.observe(),u.stop(t)}},w.prototype.toArray=function(e){e||(e={});var i=e.attribute||"id",n=[];return this.el.find(this.opts.items).each((function(){n.push(t(this).prop(i))})),n},t.fn.draggable=x(y,"draggable",{cancel:"input, textarea, button, select, option",connectWith:!1,cursor:"auto",disabled:!1,handle:!1,initialized:!1,clone:!1,cloneClass:"",scope:"default"}),t.fn.droppable=x(b,"droppable",{accept:"*",activeClass:"",disabled:!1,hoverClass:"",initialized:!1,scope:"default",receiveHandler:null}),t.fn.sortable=x(w,"sortable",{accept:"*",activeClass:"",cancel:"input, textarea, button, select, option, span.delete",connectWith:!1,disabled:!1,forcePlaceholderSize:!1,handle:!1,initialized:!1,items:"li, div",placeholder:"placeholder",placeholderTag:null,updateHandler:null,receiveHandler:null})}(window.Zepto||window.jQuery),function(){var t,e,i,n,o,r=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var i,n;for(i in e)n=e[i],null==t[i]&&(t[i]=n);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.createEvent=function(t,e,i,n){var o;return null==e&&(e=!1),null==i&&(i=!1),null==n&&(n=null),null!=document.createEvent?(o=document.createEvent("CustomEvent")).initCustomEvent(t,e,i,n):null!=document.createEventObject?(o=document.createEventObject()).eventType=t:o.eventName=t,o},t.prototype.emitEvent=function(t,e){return null!=t.dispatchEvent?t.dispatchEvent(e):e in(null!=t)?t[e]():"on"+e in(null!=t)?t["on"+e]():void 0},t.prototype.addEvent=function(t,e,i){return null!=t.addEventListener?t.addEventListener(e,i,!1):null!=t.attachEvent?t.attachEvent("on"+e,i):t[e]=i},t.prototype.removeEvent=function(t,e,i){return null!=t.removeEventListener?t.removeEventListener(e,i,!1):null!=t.detachEvent?t.detachEvent("on"+e,i):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),i=this.WeakMap||this.MozWeakMap||(i=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,i,n,o;for(e=i=0,n=(o=this.keys).length;i<n;e=++i)if(o[e]===t)return this.values[e]},t.prototype.set=function(t,e){var i,n,o,r;for(i=n=0,o=(r=this.keys).length;n<o;i=++n)if(r[i]===t)return void(this.values[i]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return t.notSupported=!0,t.prototype.observe=function(){},t}()),n=this.getComputedStyle||function(t,e){return this.getPropertyValue=function(e){var i;return"float"===e&&(e="styleFloat"),o.test(e)&&e.replace(o,(function(t,e){return e.toUpperCase()})),(null!=(i=t.currentStyle)?i[e]:void 0)||null},this},o=/(\-([a-z]){1})/g,this.WOW=function(){function o(t){null==t&&(t={}),this.scrollCallback=r(this.scrollCallback,this),this.scrollHandler=r(this.scrollHandler,this),this.resetAnimation=r(this.resetAnimation,this),this.start=r(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),null!=t.scrollContainer&&(this.config.scrollContainer=document.querySelector(t.scrollContainer)),this.animationNameCache=new i,this.wowEvent=this.util().createEvent(this.config.boxClass)}return o.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},o.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},o.prototype.start=function(){var e,i,n,o,r;if(this.stopped=!1,this.boxes=function(){var t,i,n,o;for(o=[],t=0,i=(n=this.element.querySelectorAll("."+this.config.boxClass)).length;t<i;t++)e=n[t],o.push(e);return o}.call(this),this.all=function(){var t,i,n,o;for(o=[],t=0,i=(n=this.boxes).length;t<i;t++)e=n[t],o.push(e);return o}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(i=0,n=(o=this.boxes).length;i<n;i++)e=o[i],this.applyStyle(e,!0);if(this.disabled()||(this.util().addEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)return new t((r=this,function(t){var e,i,n,o,s;for(s=[],e=0,i=t.length;e<i;e++)o=t[e],s.push(function(){var t,e,i,r;for(r=[],t=0,e=(i=o.addedNodes||[]).length;t<e;t++)n=i[t],r.push(this.doSync(n));return r}.call(r));return s})).observe(document.body,{childList:!0,subtree:!0})},o.prototype.stop=function(){if(this.stopped=!0,this.util().removeEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval)return clearInterval(this.interval)},o.prototype.sync=function(e){if(t.notSupported)return this.doSync(this.element)},o.prototype.doSync=function(t){var e,i,n,o,r;if(null==t&&(t=this.element),1===t.nodeType){for(r=[],i=0,n=(o=(t=t.parentNode||t).querySelectorAll("."+this.config.boxClass)).length;i<n;i++)e=o[i],s.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),r.push(this.scrolled=!0)):r.push(void 0);return r}},o.prototype.show=function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(t),this.util().emitEvent(t,this.wowEvent),this.util().addEvent(t,"animationend",this.resetAnimation),this.util().addEvent(t,"oanimationend",this.resetAnimation),this.util().addEvent(t,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(t,"MSAnimationEnd",this.resetAnimation),t},o.prototype.applyStyle=function(t,e){var i,n,o,r;return n=t.getAttribute("data-wow-duration"),i=t.getAttribute("data-wow-delay"),o=t.getAttribute("data-wow-iteration"),this.animate((r=this,function(){return r.customStyle(t,e,n,i,o)}))},o.prototype.animate="requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()},o.prototype.resetStyle=function(){var t,e,i,n,o;for(o=[],e=0,i=(n=this.boxes).length;e<i;e++)t=n[e],o.push(t.style.visibility="visible");return o},o.prototype.resetAnimation=function(t){var e;if(t.type.toLowerCase().indexOf("animationend")>=0)return(e=t.target||t.srcElement).className=e.className.replace(this.config.animateClass,"").trim()},o.prototype.customStyle=function(t,e,i,n,o){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",i&&this.vendorSet(t.style,{animationDuration:i}),n&&this.vendorSet(t.style,{animationDelay:n}),o&&this.vendorSet(t.style,{animationIterationCount:o}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},o.prototype.vendors=["moz","webkit"],o.prototype.vendorSet=function(t,e){var i,n,o,r;for(i in n=[],e)o=e[i],t[""+i]=o,n.push(function(){var e,n,s,a;for(a=[],e=0,n=(s=this.vendors).length;e<n;e++)r=s[e],a.push(t[""+r+i.charAt(0).toUpperCase()+i.substr(1)]=o);return a}.call(this));return n},o.prototype.vendorCSS=function(t,e){var i,o,r,s,a,l;for(s=(a=n(t)).getPropertyCSSValue(e),i=0,o=(r=this.vendors).length;i<o;i++)l=r[i],s=s||a.getPropertyCSSValue("-"+l+"-"+e);return s},o.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(i){e=n(t).getPropertyValue("animation-name")}return"none"===e?"":e},o.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},o.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},o.prototype.scrollHandler=function(){return this.scrolled=!0},o.prototype.scrollCallback=function(){var t;if(this.scrolled&&(this.scrolled=!1,this.boxes=function(){var e,i,n,o;for(o=[],e=0,i=(n=this.boxes).length;e<i;e++)(t=n[e])&&(this.isVisible(t)?this.show(t):o.push(t));return o}.call(this),!this.boxes.length&&!this.config.live))return this.stop()},o.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},o.prototype.isVisible=function(t){var e,i,n,o,r;return i=t.getAttribute("data-wow-offset")||this.config.offset,o=(r=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset)+Math.min(this.element.clientHeight,this.util().innerHeight())-i,e=(n=this.offsetTop(t))+t.clientHeight,n<=o&&e>=r},o.prototype.util=function(){return null!=this._util?this._util:this._util=new e},o.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},o}()}.call(this),function(t,e){var i,n;"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self,i=t.Cookies,(n=t.Cookies=e()).noConflict=function(){return t.Cookies=i,n})}(this,(function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}var e={read:function(t){return t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};return function i(n,o){function r(e,i,r){if("undefined"!=typeof document){"number"==typeof(r=t({},o,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),i=n.write(i,e);var s="";for(var a in r)r[a]&&(s+="; "+a,!0!==r[a]&&(s+="="+r[a].split(";")[0]));return document.cookie=e+"="+i+s}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],o={},r=0;r<i.length;r++){var s=i[r].split("="),a=s.slice(1).join("=");'"'===a[0]&&(a=a.slice(1,-1));try{var l=e.read(s[0]);if(o[l]=n.read(a,l),t===l)break}catch(t){}}return t?o[t]:o}},remove:function(e,i){r(e,"",t({},i,{expires:-1}))},withAttributes:function(e){return i(this.converter,t({},this.attributes,e))},withConverter:function(e){return i(t({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}(e,{path:"/"})})),
/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Cropper=e()}(this,(function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a="undefined"!=typeof window&&void 0!==window.document,l=a?window:{},c=!(!a||!l.document.documentElement)&&"ontouchstart"in l.document.documentElement,d=!!a&&"PointerEvent"in l,u="cropper",h="all",p="crop",f="move",g="zoom",m="e",v="w",y="s",b="n",w="ne",x="nw",k="se",C="sw",S="".concat(u,"-crop"),T="".concat(u,"-disabled"),_="".concat(u,"-hidden"),A="".concat(u,"-hide"),D="".concat(u,"-invisible"),E="".concat(u,"-modal"),M="".concat(u,"-move"),I="".concat(u,"Action"),$="".concat(u,"Preview"),L="crop",O="move",N="none",P="crop",j="cropend",H="cropmove",F="cropstart",B="dblclick",R=d?"pointerdown":c?"touchstart":"mousedown",z=d?"pointermove":c?"touchmove":"mousemove",W=d?"pointerup pointercancel":c?"touchend touchcancel":"mouseup",Y="ready",U="resize",q="wheel",X="zoom",Q="image/jpeg",V=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,K=/^data:/,G=/^data:image\/jpeg;base64,/,Z=/^img|canvas$/i,J={viewMode:0,dragMode:L,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},tt=Number.isNaN||l.isNaN;function et(t){return"number"==typeof t&&!tt(t)}var it=function(t){return t>0&&t<1/0};function nt(t){return void 0===t}function ot(t){return"object"===i(t)&&null!==t}var rt=Object.prototype.hasOwnProperty;function st(t){if(!ot(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&rt.call(i,"isPrototypeOf")}catch(t){return!1}}function at(t){return"function"==typeof t}var lt=Array.prototype.slice;function ct(t){return Array.from?Array.from(t):lt.call(t)}function dt(t,e){return t&&at(e)&&(Array.isArray(t)||et(t.length)?ct(t).forEach((function(i,n){e.call(t,i,n,t)})):ot(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}))),t}var ut=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return ot(t)&&i.length>0&&i.forEach((function(e){ot(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},ht=/\.\d*(?:0|9){12}\d*$/;function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ht.test(t)?Math.round(t*e)/e:t}var ft=/^width|height|left|top|marginLeft|marginTop$/;function gt(t,e){var i=t.style;dt(e,(function(t,e){ft.test(e)&&et(t)&&(t="".concat(t,"px")),i[e]=t}))}function mt(t,e){if(e)if(et(t.length))dt(t,(function(t){mt(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function vt(t,e){e&&(et(t.length)?dt(t,(function(t){vt(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function yt(t,e,i){e&&(et(t.length)?dt(t,(function(t){yt(t,e,i)})):i?mt(t,e):vt(t,e))}var bt=/([a-z\d])([A-Z])/g;function wt(t){return t.replace(bt,"$1-$2").toLowerCase()}function xt(t,e){return ot(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(wt(e)))}function kt(t,e,i){ot(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(wt(e)),i)}var Ct=/\s\s*/,St=function(){var t=!1;if(a){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});l.addEventListener("test",i,n),l.removeEventListener("test",i,n)}return t}();function Tt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(Ct).forEach((function(e){if(!St){var r=t.listeners;r&&r[e]&&r[e][i]&&(o=r[e][i],delete r[e][i],0===Object.keys(r[e]).length&&delete r[e],0===Object.keys(r).length&&delete t.listeners)}t.removeEventListener(e,o,n)}))}function _t(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(Ct).forEach((function(e){if(n.once&&!St){var r=t.listeners,s=void 0===r?{}:r;o=function(){delete s[e][i],t.removeEventListener(e,o,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];i.apply(t,a)},s[e]||(s[e]={}),s[e][i]&&t.removeEventListener(e,s[e][i],n),s[e][i]=o,t.listeners=s}t.addEventListener(e,o,n)}))}function At(t,e,i){var n;return at(Event)&&at(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}function Dt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Et=l.location,Mt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function It(t){var e=t.match(Mt);return null!==e&&(e[1]!==Et.protocol||e[2]!==Et.hostname||e[3]!==Et.port)}function $t(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function Lt(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,o=t.translateX,r=t.translateY,s=[];et(o)&&0!==o&&s.push("translateX(".concat(o,"px)")),et(r)&&0!==r&&s.push("translateY(".concat(r,"px)")),et(e)&&0!==e&&s.push("rotate(".concat(e,"deg)")),et(i)&&1!==i&&s.push("scaleX(".concat(i,")")),et(n)&&1!==n&&s.push("scaleY(".concat(n,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function Ot(t,i){var n=t.pageX,o=t.pageY,r={endX:n,endY:o};return i?r:e({startX:n,startY:o},r)}function Nt(t){var e=t.aspectRatio,i=t.height,n=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=it(n),s=it(i);if(r&&s){var a=i*e;"contain"===o&&a>n||"cover"===o&&a<n?i=n/e:n=i*e}else r?i=n/e:s&&(n=i*e);return{width:n,height:i}}var Pt=String.fromCharCode;var jt=/^data:.*,/;function Ht(t){var e,i=new DataView(t);try{var n,o,r;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var s=i.byteLength,a=2;a+1<s;){if(255===i.getUint8(a)&&225===i.getUint8(a+1)){o=a;break}a+=1}if(o){var l=o+10;if("Exif"===function(t,e,i){var n="";i+=e;for(var o=e;o<i;o+=1)n+=Pt(t.getUint8(o));return n}(i,o+4,4)){var c=i.getUint16(l);if(((n=18761===c)||19789===c)&&42===i.getUint16(l+2,n)){var d=i.getUint32(l+4,n);d>=8&&(r=l+d)}}}if(r){var u,h,p=i.getUint16(r,n);for(h=0;h<p;h+=1)if(u=r+12*h+2,274===i.getUint16(u,n)){u+=8,e=i.getUint16(u,n),i.setUint16(u,1,n);break}}}catch(t){e=1}return e}var Ft={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper,o=Number(e.minContainerWidth),r=Number(e.minContainerHeight);mt(n,_),vt(t,_);var s={width:Math.max(i.offsetWidth,o>=0?o:200),height:Math.max(i.offsetHeight,r>=0?r:100)};this.containerData=s,gt(n,{width:s.width,height:s.height}),mt(t,_),vt(n,_)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,o=n?e.naturalHeight:e.naturalWidth,r=n?e.naturalWidth:e.naturalHeight,s=o/r,a=t.width,l=t.height;t.height*s>t.width?3===i?a=t.height*s:l=t.width/s:3===i?l=t.width/s:a=t.height*s;var c={aspectRatio:s,naturalWidth:o,naturalHeight:r,width:a,height:l};this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(t.width-c.width)/2,c.top=(t.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=ut({},c)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,o=this.canvasData,r=this.cropBoxData,s=i.viewMode,a=o.aspectRatio,l=this.cropped&&r;if(t){var c=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;s>1?(c=Math.max(c,n.width),d=Math.max(d,n.height),3===s&&(d*a>c?c=d*a:d=c/a)):s>0&&(c?c=Math.max(c,l?r.width:0):d?d=Math.max(d,l?r.height:0):l&&(c=r.width,(d=r.height)*a>c?c=d*a:d=c/a));var u=Nt({aspectRatio:a,width:c,height:d});c=u.width,d=u.height,o.minWidth=c,o.minHeight=d,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if(s>(l?0:1)){var h=n.width-o.width,p=n.height-o.height;o.minLeft=Math.min(0,h),o.minTop=Math.min(0,p),o.maxLeft=Math.max(0,h),o.maxTop=Math.max(0,p),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+(r.width-o.width)),o.minTop=Math.min(r.top,r.top+(r.height-o.height)),o.maxLeft=r.left,o.maxTop=r.top,2===s&&(o.width>=n.width&&(o.minLeft=Math.min(0,h),o.maxLeft=Math.max(0,h)),o.height>=n.height&&(o.minTop=Math.min(0,p),o.maxTop=Math.max(0,p))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=n.width,o.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var o=function(t){var e=t.width,i=t.height,n=t.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:e};var o=n%90*Math.PI/180,r=Math.sin(o),s=Math.cos(o),a=e*s+i*r,l=e*r+i*s;return n>90?{width:l,height:a}:{width:a,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),r=o.width,s=o.height,a=i.width*(r/i.naturalWidth),l=i.height*(s/i.naturalHeight);i.left-=(a-i.width)/2,i.top-=(l-i.height)/2,i.width=a,i.height=l,i.aspectRatio=r/s,i.naturalWidth=r,i.naturalHeight=s,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,gt(this.canvas,ut({width:i.width,height:i.height},Lt({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),o=i.naturalHeight*(e.height/e.naturalHeight);ut(i,{width:n,height:o,left:(e.width-n)/2,top:(e.height-o)/2}),gt(this.image,ut({width:i.width,height:i.height},Lt(ut({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};i&&(e.height*i>e.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*n),o.height=Math.max(o.minHeight,o.height*n),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=ut({},o)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,o=this.canvasData,r=this.cropBoxData,s=this.limited,a=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,d=s?Math.min(n.width,o.width,o.width+o.left,n.width-o.left):n.width,u=s?Math.min(n.height,o.height,o.height+o.top,n.height-o.top):n.height;l=Math.min(l,n.width),c=Math.min(c,n.height),a&&(l&&c?c*a>l?c=l/a:l=c*a:l?c=l/a:c&&(l=c*a),u*a>d?u=d/a:d=u*a),r.minWidth=Math.min(l,d),r.minHeight=Math.min(c,u),r.maxWidth=d,r.maxHeight=u}e&&(s?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(n.width,o.left+o.width)-r.width,r.maxTop=Math.min(n.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=n.width-r.width,r.maxTop=n.height-r.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&kt(this.face,I,i.width>=e.width&&i.height>=e.height?f:h),gt(this.cropBox,ut({width:i.width,height:i.height},Lt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),At(this.element,P,this.getData())}},Bt={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,o=t.alt||"The image to preview",r=document.createElement("img");if(e&&(r.crossOrigin=e),r.src=n,r.alt=o,this.viewBox.appendChild(r),this.viewBoxImage=r,i){var s=i;"string"==typeof i?s=t.ownerDocument.querySelectorAll(i):i.querySelector&&(s=[i]),this.previews=s,dt(s,(function(t){var i=document.createElement("img");kt(t,$,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=o,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)}))}},resetPreview:function(){dt(this.previews,(function(t){var e=xt(t,$);gt(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(ot(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(wt(e)))}(t,$)}))},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,o=i.height,r=t.width,s=t.height,a=i.left-e.left-t.left,l=i.top-e.top-t.top;this.cropped&&!this.disabled&&(gt(this.viewBoxImage,ut({width:r,height:s},Lt(ut({translateX:-a,translateY:-l},t)))),dt(this.previews,(function(e){var i=xt(e,$),c=i.width,d=i.height,u=c,h=d,p=1;n&&(h=o*(p=c/n)),o&&h>d&&(u=n*(p=d/o),h=d),gt(e,{width:u,height:h}),gt(e.getElementsByTagName("img")[0],ut({width:r*p,height:s*p},Lt(ut({translateX:-a*p,translateY:-l*p},t))))})))}},Rt={bind:function(){var t=this.element,e=this.options,i=this.cropper;at(e.cropstart)&&_t(t,F,e.cropstart),at(e.cropmove)&&_t(t,H,e.cropmove),at(e.cropend)&&_t(t,j,e.cropend),at(e.crop)&&_t(t,P,e.crop),at(e.zoom)&&_t(t,X,e.zoom),_t(i,R,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&_t(i,q,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&_t(i,B,this.onDblclick=this.dblclick.bind(this)),_t(t.ownerDocument,z,this.onCropMove=this.cropMove.bind(this)),_t(t.ownerDocument,W,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&_t(window,U,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;at(e.cropstart)&&Tt(t,F,e.cropstart),at(e.cropmove)&&Tt(t,H,e.cropmove),at(e.cropend)&&Tt(t,j,e.cropend),at(e.crop)&&Tt(t,P,e.crop),at(e.zoom)&&Tt(t,X,e.zoom),Tt(i,R,this.onCropStart),e.zoomable&&e.zoomOnWheel&&Tt(i,q,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&Tt(i,B,this.onDblclick),Tt(t.ownerDocument,z,this.onCropMove),Tt(t.ownerDocument,W,this.onCropEnd),e.responsive&&Tt(window,U,this.onResize)}},zt={resize:function(){if(!this.disabled){var t,e,i=this.options,n=this.container,o=this.containerData,r=n.offsetWidth/o.width,s=n.offsetHeight/o.height,a=Math.abs(r-1)>Math.abs(s-1)?r:s;if(1!==a)i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(dt(t,(function(e,i){t[i]=e*a}))),this.setCropBoxData(dt(e,(function(t,i){e[i]=t*a}))))}},dblclick:function(){var t,e;this.disabled||this.options.dragMode===N||this.setDragMode((t=this.dragBox,e=S,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?O:L))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(et(e)&&1!==e||et(i)&&0!==i||t.ctrlKey))){var n,o=this.options,r=this.pointers;t.changedTouches?dt(t.changedTouches,(function(t){r[t.identifier]=Ot(t)})):r[t.pointerId||0]=Ot(t),n=Object.keys(r).length>1&&o.zoomable&&o.zoomOnTouch?g:xt(t.target,I),V.test(n)&&!1!==At(this.element,F,{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,n===p&&(this.cropping=!0,mt(this.dragBox,E)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==At(this.element,H,{originalEvent:t,action:e})&&(t.changedTouches?dt(t.changedTouches,(function(t){ut(i[t.identifier]||{},Ot(t,!0))})):ut(i[t.pointerId||0]||{},Ot(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?dt(t.changedTouches,(function(t){delete i[t.identifier]})):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,yt(this.dragBox,E,this.cropped&&this.options.modal)),At(this.element,j,{originalEvent:t,action:e}))}}},Wt={change:function(t){var i,n=this.options,o=this.canvasData,r=this.containerData,s=this.cropBoxData,a=this.pointers,l=this.action,c=n.aspectRatio,d=s.left,u=s.top,S=s.width,T=s.height,A=d+S,D=u+T,E=0,M=0,I=r.width,$=r.height,L=!0;!c&&t.shiftKey&&(c=S&&T?S/T:1),this.limited&&(E=s.minLeft,M=s.minTop,I=E+Math.min(r.width,o.width,o.left+o.width),$=M+Math.min(r.height,o.height,o.top+o.height));var O=a[Object.keys(a)[0]],N={x:O.endX-O.startX,y:O.endY-O.startY},P=function(t){switch(t){case m:A+N.x>I&&(N.x=I-A);break;case v:d+N.x<E&&(N.x=E-d);break;case b:u+N.y<M&&(N.y=M-u);break;case y:D+N.y>$&&(N.y=$-D)}};switch(l){case h:d+=N.x,u+=N.y;break;case m:if(N.x>=0&&(A>=I||c&&(u<=M||D>=$))){L=!1;break}P(m),(S+=N.x)<0&&(l=v,d-=S=-S),c&&(T=S/c,u+=(s.height-T)/2);break;case b:if(N.y<=0&&(u<=M||c&&(d<=E||A>=I))){L=!1;break}P(b),T-=N.y,u+=N.y,T<0&&(l=y,u-=T=-T),c&&(S=T*c,d+=(s.width-S)/2);break;case v:if(N.x<=0&&(d<=E||c&&(u<=M||D>=$))){L=!1;break}P(v),S-=N.x,d+=N.x,S<0&&(l=m,d-=S=-S),c&&(T=S/c,u+=(s.height-T)/2);break;case y:if(N.y>=0&&(D>=$||c&&(d<=E||A>=I))){L=!1;break}P(y),(T+=N.y)<0&&(l=b,u-=T=-T),c&&(S=T*c,d+=(s.width-S)/2);break;case w:if(c){if(N.y<=0&&(u<=M||A>=I)){L=!1;break}P(b),T-=N.y,u+=N.y,S=T*c}else P(b),P(m),N.x>=0?A<I?S+=N.x:N.y<=0&&u<=M&&(L=!1):S+=N.x,N.y<=0?u>M&&(T-=N.y,u+=N.y):(T-=N.y,u+=N.y);S<0&&T<0?(l=C,u-=T=-T,d-=S=-S):S<0?(l=x,d-=S=-S):T<0&&(l=k,u-=T=-T);break;case x:if(c){if(N.y<=0&&(u<=M||d<=E)){L=!1;break}P(b),T-=N.y,u+=N.y,S=T*c,d+=s.width-S}else P(b),P(v),N.x<=0?d>E?(S-=N.x,d+=N.x):N.y<=0&&u<=M&&(L=!1):(S-=N.x,d+=N.x),N.y<=0?u>M&&(T-=N.y,u+=N.y):(T-=N.y,u+=N.y);S<0&&T<0?(l=k,u-=T=-T,d-=S=-S):S<0?(l=w,d-=S=-S):T<0&&(l=C,u-=T=-T);break;case C:if(c){if(N.x<=0&&(d<=E||D>=$)){L=!1;break}P(v),S-=N.x,d+=N.x,T=S/c}else P(y),P(v),N.x<=0?d>E?(S-=N.x,d+=N.x):N.y>=0&&D>=$&&(L=!1):(S-=N.x,d+=N.x),N.y>=0?D<$&&(T+=N.y):T+=N.y;S<0&&T<0?(l=w,u-=T=-T,d-=S=-S):S<0?(l=k,d-=S=-S):T<0&&(l=x,u-=T=-T);break;case k:if(c){if(N.x>=0&&(A>=I||D>=$)){L=!1;break}P(m),T=(S+=N.x)/c}else P(y),P(m),N.x>=0?A<I?S+=N.x:N.y>=0&&D>=$&&(L=!1):S+=N.x,N.y>=0?D<$&&(T+=N.y):T+=N.y;S<0&&T<0?(l=x,u-=T=-T,d-=S=-S):S<0?(l=C,d-=S=-S):T<0&&(l=w,u-=T=-T);break;case f:this.move(N.x,N.y),L=!1;break;case g:this.zoom(function(t){var i=e({},t),n=0;return dt(t,(function(t,e){delete i[e],dt(i,(function(e){var i=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),r=Math.abs(t.endX-e.endX),s=Math.abs(t.endY-e.endY),a=Math.sqrt(i*i+o*o),l=(Math.sqrt(r*r+s*s)-a)/a;Math.abs(l)>Math.abs(n)&&(n=l)}))})),n}(a),t),L=!1;break;case p:if(!N.x||!N.y){L=!1;break}i=Dt(this.cropper),d=O.startX-i.left,u=O.startY-i.top,S=s.minWidth,T=s.minHeight,N.x>0?l=N.y>0?k:w:N.x<0&&(d-=S,l=N.y>0?C:x),N.y<0&&(u-=T),this.cropped||(vt(this.cropBox,_),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}L&&(s.width=S,s.height=T,s.left=d,s.top=u,this.action=l,this.renderCropBox()),dt(a,(function(t){t.startX=t.endX,t.startY=t.endY}))}},Yt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&mt(this.dragBox,E),vt(this.cropBox,_),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ut({},this.initialImageData),this.canvasData=ut({},this.initialCanvasData),this.cropBoxData=ut({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ut(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),vt(this.dragBox,E),mt(this.cropBox,_)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,dt(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,vt(this.cropper,T)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,mt(this.cropper,T)),this},destroy:function(){var t=this.element;return t[u]?(t[u]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,o=i.top;return this.moveTo(nt(t)?t:n+Number(t),nt(e)?e:o+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(et(t)&&(i.left=t,n=!0),et(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,o=this.canvasData,r=o.width,s=o.height,a=o.naturalWidth,l=o.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=a*t,d=l*t;if(!1===At(this.element,X,{ratio:t,oldRatio:r/a,originalEvent:i}))return this;if(i){var u=this.pointers,h=Dt(this.cropper),p=u&&Object.keys(u).length?function(t){var e=0,i=0,n=0;return dt(t,(function(t){var o=t.startX,r=t.startY;e+=o,i+=r,n+=1})),{pageX:e/=n,pageY:i/=n}}(u):{pageX:i.pageX,pageY:i.pageY};o.left-=(c-r)*((p.pageX-h.left-o.left)/r),o.top-=(d-s)*((p.pageY-h.top-o.top)/s)}else st(e)&&et(e.x)&&et(e.y)?(o.left-=(c-r)*((e.x-o.left)/r),o.top-=(d-s)*((e.y-o.top)/s)):(o.left-=(c-r)/2,o.top-=(d-s)/2);o.width=c,o.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return et(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,et(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(et(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(et(t)&&(i.scaleX=t,n=!0),et(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,o=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){t={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};var s=n.width/n.naturalWidth;if(dt(t,(function(e,i){t[i]=e/s})),e){var a=Math.round(t.y+t.height),l=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=l-t.x,t.height=a-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,o={};if(this.ready&&!this.disabled&&st(t)){var r=!1;e.rotatable&&et(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,r=!0),e.scalable&&(et(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,r=!0),et(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var s=i.width/i.naturalWidth;et(t.x)&&(o.left=t.x*s+n.left),et(t.y)&&(o.top=t.y*s+n.top),et(t.width)&&(o.width=t.width*s),et(t.height)&&(o.height=t.height*s),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?ut({},this.containerData):{}},getImageData:function(){return this.sized?ut({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&dt(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){e[i]=t[i]})),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&st(t)&&(et(t.left)&&(e.left=t.left),et(t.top)&&(e.top=t.top),et(t.width)?(e.width=t.width,e.height=t.width/i):et(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&st(t)&&(et(t.left)&&(n.left=t.left),et(t.top)&&(n.top=t.top),et(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),et(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),o&&(e?n.height=n.width/o:i&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=function(t,e,i,n){var o=e.aspectRatio,s=e.naturalWidth,a=e.naturalHeight,l=e.rotate,c=void 0===l?0:l,d=e.scaleX,u=void 0===d?1:d,h=e.scaleY,p=void 0===h?1:h,f=i.aspectRatio,g=i.naturalWidth,m=i.naturalHeight,v=n.fillColor,y=void 0===v?"transparent":v,b=n.imageSmoothingEnabled,w=void 0===b||b,x=n.imageSmoothingQuality,k=void 0===x?"low":x,C=n.maxWidth,S=void 0===C?1/0:C,T=n.maxHeight,_=void 0===T?1/0:T,A=n.minWidth,D=void 0===A?0:A,E=n.minHeight,M=void 0===E?0:E,I=document.createElement("canvas"),$=I.getContext("2d"),L=Nt({aspectRatio:f,width:S,height:_}),O=Nt({aspectRatio:f,width:D,height:M},"cover"),N=Math.min(L.width,Math.max(O.width,g)),P=Math.min(L.height,Math.max(O.height,m)),j=Nt({aspectRatio:o,width:S,height:_}),H=Nt({aspectRatio:o,width:D,height:M},"cover"),F=Math.min(j.width,Math.max(H.width,s)),B=Math.min(j.height,Math.max(H.height,a)),R=[-F/2,-B/2,F,B];return I.width=pt(N),I.height=pt(P),$.fillStyle=y,$.fillRect(0,0,N,P),$.save(),$.translate(N/2,P/2),$.rotate(c*Math.PI/180),$.scale(u,p),$.imageSmoothingEnabled=w,$.imageSmoothingQuality=k,$.drawImage.apply($,[t].concat(r(R.map((function(t){return Math.floor(pt(t))}))))),$.restore(),I}(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),o=n.x,s=n.y,a=n.width,l=n.height,c=i.width/Math.floor(e.naturalWidth);1!==c&&(o*=c,s*=c,a*=c,l*=c);var d=a/l,u=Nt({aspectRatio:d,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),h=Nt({aspectRatio:d,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=Nt({aspectRatio:d,width:t.width||(1!==c?i.width:a),height:t.height||(1!==c?i.height:l)}),f=p.width,g=p.height;f=Math.min(u.width,Math.max(h.width,f)),g=Math.min(u.height,Math.max(h.height,g));var m=document.createElement("canvas"),v=m.getContext("2d");m.width=pt(f),m.height=pt(g),v.fillStyle=t.fillColor||"transparent",v.fillRect(0,0,f,g);var y=t.imageSmoothingEnabled,b=void 0===y||y,w=t.imageSmoothingQuality;v.imageSmoothingEnabled=b,w&&(v.imageSmoothingQuality=w);var x,k,C,S,T,_,A=i.width,D=i.height,E=o,M=s;E<=-a||E>A?(E=0,x=0,C=0,T=0):E<=0?(C=-E,E=0,T=x=Math.min(A,a+E)):E<=A&&(C=0,T=x=Math.min(a,A-E)),x<=0||M<=-l||M>D?(M=0,k=0,S=0,_=0):M<=0?(S=-M,M=0,_=k=Math.min(D,l+M)):M<=D&&(S=0,_=k=Math.min(l,D-M));var I=[E,M,x,k];if(T>0&&_>0){var $=f/a;I.push(C*$,S*$,T*$,_*$)}return v.drawImage.apply(v,[i].concat(r(I.map((function(t){return Math.floor(pt(t))}))))),m},setAspectRatio:function(t){var e=this.options;return this.disabled||nt(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var o=t===L,r=e.movable&&t===O;t=o||r?t:N,e.dragMode=t,kt(i,I,t),yt(i,S,o),yt(i,M,r),e.cropBoxMovable||(kt(n,I,t),yt(n,S,o),yt(n,M,r))}return this}},Ut=l.Cropper,qt=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!Z.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=ut({},J,st(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var e,i,o;return e=t,o=[{key:"noConflict",value:function(){return window.Cropper=Ut,t}},{key:"setDefaults",value:function(t){ut(J,st(t)&&t)}}],(i=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[u]){if(e[u]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(K.test(t))G.test(t)?this.read((o=t.replace(jt,""),r=atob(o),s=new ArrayBuffer(r.length),dt(a=new Uint8Array(s),(function(t,e){a[e]=r.charCodeAt(e)})),s)):this.clone();else{var o,r,s,a,l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){l.getResponseHeader("content-type")!==Q&&l.abort()},l.onload=function(){e.read(l.response)},l.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&It(t)&&i.crossOrigin&&(t=$t(t)),l.open("GET",t,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===i.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=Ht(t),o=0,r=1,s=1;if(n>1){this.url=function(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(Pt.apply(null,ct(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,Q);var a=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(n);o=a.rotate,r=a.scaleX,s=a.scaleY}e.rotatable&&(i.rotate=o),e.scalable&&(i.scaleX=r,i.scaleY=s),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&It(e)&&(i||(i="anonymous"),n=$t(e)),this.crossOrigin=i,this.crossOriginUrl=n;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=n||e,o.alt=t.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),mt(o,A),t.parentNode.insertBefore(o,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent),n=function(e,i){ut(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=ut({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var o=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),i||r.removeChild(o)},o.src=e.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(o))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var r=o.querySelector(".".concat(u,"-container")),s=r.querySelector(".".concat(u,"-canvas")),a=r.querySelector(".".concat(u,"-drag-box")),l=r.querySelector(".".concat(u,"-crop-box")),c=l.querySelector(".".concat(u,"-face"));this.container=n,this.cropper=r,this.canvas=s,this.dragBox=a,this.cropBox=l,this.viewBox=r.querySelector(".".concat(u,"-view-box")),this.face=c,s.appendChild(i),mt(t,_),n.insertBefore(r,t.nextSibling),this.isImg||vt(i,A),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,mt(l,_),e.guides||mt(l.getElementsByClassName("".concat(u,"-dashed")),_),e.center||mt(l.getElementsByClassName("".concat(u,"-center")),_),e.background&&mt(r,"".concat(u,"-bg")),e.highlight||mt(c,D),e.cropBoxMovable&&(mt(c,M),kt(c,I,h)),e.cropBoxResizable||(mt(l.getElementsByClassName("".concat(u,"-line")),_),mt(l.getElementsByClassName("".concat(u,"-point")),_)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),at(e.ready)&&_t(t,Y,e.ready,{once:!0}),At(t,Y)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),vt(this.element,_))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&n(e.prototype,i),o&&n(e,o),t}();return ut(qt.prototype,Ft,Bt,Rt,zt,Wt,Yt),qt})),$.fn.ddrAnimInput=function(t){var e=$.extend({placeholder:"Не задано",display:"inline-block",index:"70%",left:10,top:20,color:"#a2a2a2",colorFocused:"#555",transition:"0.2",conditions:[],wrapCls:""},t),i=this,n="ddrAnimInput"+random(0,999),o=e.placeholder||$(i).attr("placeholder"),r=$(i).outerHeight(),s=r/(100/(parseInt(e.index)-parseInt(e.top))),a=parseInt($(i).css("font-size")),l=a/(100/parseInt(e.index));$(i).attr("placeholder",""),$(i).wrap('<div class="animinpit'+(e.wrapCls?" "+e.wrapCls:"")+'" id="'+n+'"></div>'),$("#"+n).css({position:"relative",display:e.display}),$("#"+n).append('<span class="animinpit__placeholder">'+o+"</span>"),$("#"+n).find(".animinpit__placeholder").css({position:"absolute",left:0,top:0,"pointer-events":"none",height:r+"px","line-height":r+"px",left:e.left+"px",color:e.color,transition:"all "+e.transition+"s"}),$(i).on("focus",(function(){$("#"+n).find(".animinpit__placeholder").css({height:s+"px","line-height":s+"px","font-size":l+"px",top:-s+"px",left:0,color:e.colorFocused})})),$(i).on("blur",(function(){""!=$(i).val()&&-1===$.inArray($(i).val(),e.conditions)||($(i).val(""),$("#"+n).find(".animinpit__placeholder").css({height:r+"px","line-height":r+"px","font-size":a+"px",top:0,left:e.left+"px",color:e.color}))}))},$.fn.ddrAuth=function(t){var e=$.extend({onOpen:!1,onAuth:!1,onReg:!1,onReset:!1,width:400,winCls:!1,confirmAccount:"[confirmaccount]",logout:"[logout]",logoutCallback:!1,lang:{auth:"Авторизация",resetPass:"Сбросить пароль",reg:"Регистрация",setReg:"Зарегистрироваться",resetingPass:"Сброс пароля",login:"Войти",regText:"На указанный Вами E-mail отправлено письмо со ссылкой на подтверждение аккаунта!",resetText:"Ссылка на подтверждение сброса пароля была выслана на Вашу почту",error:"Ошибка!",alreadyAuth:"Вы уже авторизованы!",invalidOrExistantEmail:"Ошибка! неверный или несуществующий email",invalidEmail:"Ошибка! Неверный пароль",tryOver:"Попытки входа исчерпаны!",accountBanned:"Ваш аккаунт заблокирован!",close:"Закрыть",alreadyReg:"Ошибка! данный email уже зарегистрирован",errorAddingAccount:"Ошибка добавления аккаунта!",errorConfirmRegMessage:'<p class="info">Ошибка отправки письма с подтверждением регистрации!</p> <p class="info">Пожалуйста, подтвердите регистрацию в личном кабинете, разделе "личные данные"!</p>',errorNoDataToEmail:"Ошибка! Нетданных для отправки письма",errorSendingEmail:"Ошибка отправления письма!",logoutQuestion:"Вы действительно хотите выйти?",logout:"Выйти",cancel:"Отмена",systemError:"Системная ошибка!",confirmAccount:"Подтверждение аккаунта",confirmAccountSuccess:"Аккаунт успешно подтвержден!",errorNoConfirmCode:"Ошибка, не передан код подтверждения аккаунта!",errorConfirmLinkNoAddUp:"Ошибка, ссылка на подтверждения аккаунта не сходится!",passResetSuccess:"Пароль успешно сброшен!",errorNoRecoverCode:"Ошибка, не передан код восстановления пароля!",errorResetPassNoAddUp:"Ошибка, ссылка на сброс пароля не сходится!",authSuccess:"Вы успешно авторизовались!"}},t);function i(t){return!(!e.onReg||"function"!=typeof e.onReg)&&e.onReg(t)}$(this).on(tapEvent,(function(){var t=this;ddrPopUp({title:e.lang.auth+"|3",width:e.width,buttons:[{id:"reset",title:e.lang.resetPass,type:"link"},{id:"reg",title:e.lang.reg},{id:"auth",title:e.lang.login}],close:!1,closeByButton:!1,contentToCenter:!1,topClose:!0,winClass:e.winCls},(function(n){n.setData("accounts/auth_form",(function(){e.onOpen&&"function"==typeof e.onOpen&&e.onOpen(n)})),$("#auth").on(tapEvent,(function(){$("#authForm").formSubmit({url:"accounts/auth",beforeSend:function(){n.wait()},success:function(i){1==i?e.onAuth&&"function"==typeof e.onAuth?e.onAuth(t):pageReload():0==i?notify(e.lang.error,"error"):-1==i?notify(e.lang.alreadyAuth,"error"):-2==i?$("#authForm").find('[name="email"]').errorLabel(e.lang.invalidOrExistantEmail):-3==i?$("#authForm").find('[name="password"]').errorLabel(e.lang.invalidEmail):-4==i?($("#authForm").find('[name="password"]').errorLabel(e.lang.invalidEmail),notify(e.lang.tryOver,"info")):-5==i&&(n.setData('<p class="error">'+e.lang.accountBanned+"</p>",!1),n.setButtons(!1,e.lang.close))},complete:function(){n.wait(!1)}})})),$("#reg").on(tapEvent,(function(){var o=$("#authForm").find('[name="email"]').val(),r=i(t);n.setData("accounts/reg_form",{email:o},(function(){e.onOpen&&e.onOpen(n)})),n.setButtons([{id:"setReg",title:e.lang.setReg}]),n.setTitle(e.lang.reg+"|3"),$("#setReg").on(tapEvent,(function(){$("#regForm").formSubmit({url:"accounts/reg",fields:{redirect:!(!r||!r.confirmRedirect)&&r.confirmRedirect},before:function(){n.wait()},success:function(t){1==t?(r&&r.callback&&"function"==typeof r.callback&&r.callback(),r&&r.regRedirect?location.href=r.regRedirect:pageReload()):0==t?notify(e.lang.error,"error"):-1==t?$("#regForm").find('[name="email"]').errorLabel(e.lang.alreadyReg):-2==t?notify(e.lang.errorAddingAccount,"error"):-5==t&&n.setData(e.lang.errorConfirmRegMessage,!1)},complete:function(){n.wait(!1)}})}))})),$("#reset").on(tapEvent,(function(){var i=$("#authForm").find('[name="email"]').val();n.setData("accounts/reset_form",{email:i}),n.setButtons([{id:"setReset",title:e.lang.resetPass}]),n.setTitle(e.lang.resetingPass+"|3"),$("#setReset").on(tapEvent,(function(){$("#resetForm").formSubmit({url:"accounts/reset",beforeSend:function(){n.wait()},success:function(i){1==i?(n.setData('<p class="info">'+e.lang.resetText+"</p>",!1),n.removeButtons(),e.onReset&&"function"==typeof e.onReset&&e.onReset(t)):0==i?notify(e.lang.error,"error"):-1==i?$("#regForm").find('[name="email"]').errorLabel(e.lang.alreadyReg):-2==i?notify(e.lang.errorNoDataToEmail,"error"):-3==i&&notify(e.lang.errorSendingEmail,"error")},complete:function(){n.wait(!1)}})}))}))}))})),$(e.logout).on(tapEvent,(function(){ddrPopUp({title:"Выход|5",html:'<p class="info">'+e.lang.logoutQuestion+"</p>",width:400,buttons:[{id:"logout",title:e.lang.logout}],close:e.lang.cancel},(function(t){$("#logout").on(tapEvent,(function(){t.wait(),$.ajax({url:"/accounts/logout",method:"POST",dataType:"json",success:function(t){1==t?(e.logoutCallback&&"function"==typeof e.logoutCallback&&e.logoutCallback(),pageReload()):0==t&&notify(e.lang.error,"error")},error:function(t){notify(e.lang.systemError,"error"),showError(t)},complete:function(){t.wait(!1)}})}))}))})),$("body").on(tapEvent,e.confirmAccount,(function(){var t=i(),n=t&&t.regRedirect?{redirect:t.regRedirect}:{};$.post("/accounts/set_email_to_confirm",n,(function(){ddrPopUp({title:e.lang.confirmAccount+"|5",width:500,html:'<p class="info">'+e.lang.regText+"</p>",close:e.lang.close,contentToCenter:!0},(function(t){}))}))})),1==($("#confirmWaitReg").val()||null)&&ddrPopUp({title:e.lang.confirmAccount+"|5",width:500,html:'<p class="info">'+e.lang.regText+"</p>",buttons:!1,disabledButtons:!1,closeByButton:!1,close:e.lang.close,contentToCenter:!0,topClose:!0,addClass:!1},(function(t){}));var n=$("#confirmReg").val()||null;1==n?notify(e.lang.confirmAccountSuccess,"success",10):0==n?notify(e.lang.errorNoConfirmCode,"error",10):(-1==n||-2==n)&&notify(e.lang.errorConfirmLinkNoAddUp,"error",10);var o=$("#confirmReset").val()||null;1==o?notify(e.lang.passResetSuccess,"success",10):0==o?notify(e.lang.errorNoRecoverCode,"error",10):(-1==o||-2==o)&&notify(e.lang.errorResetPassNoAddUp,"error",10),($("#confirmLogin").val()||null)&&notify(e.lang.authSuccess,"success",10)},$.fn.ddrCarousel=function(t){if("destroy"==t)return $(this).slick("unslick"),!1;var e,i,n,o,r=this,s=[],a=$.extend({arrowLeft:!1,arrowRight:!1,autoplay:!1,speed:3e3,loop:!1,pauseOnHover:!0,fade:!1,dotsSelector:!1,response:!1,accessBrPoints:!1,onInit:!1,beforeChange:!1,unitHeight:!1},t);function l(){var t=$(r).find(".slick-slide").length;$(r).find(".slick-slide.slick-active").length<t?($(a.arrowLeft).addClass("visible"),$(a.arrowRight).addClass("visible")):($(a.arrowLeft).removeClass("visible"),$(a.arrowRight).removeClass("visible"))}if(a.response&&(o=a.response[0],a.response.splice(0,1),$.each(a.response,(function(t,e){var i=e.split(":"),n=$.isNumeric(i[0])?parseInt(i[0]):breakpoints[i[0]];s.push({breakpoint:n,settings:{slidesToShow:parseInt(i[1])}})}))),$(r).on("init",(function(t){a.arrowLeft&&a.arrowRight&&l(),"function"==typeof a.onInit&&a.onInit(t)})),$(r).on("setPosition",(function(){clearTimeout(n),n=setTimeout((function(){$(r).hasClass("visible")||$(r).addClass("visible")}),200),clearTimeout(i),i=setTimeout((function(){l()}),50)})),e={infinite:a.loop,dots:!1,autoplay:a.autoplay,autoplaySpeed:a.speed,pauseOnHover:a.pauseOnHover,fade:a.fade,speed:200,draggable:!0,arrows:!1,mobileFirst:!0,slidesToScroll:1,slidesToShow:o||1,responsive:s},a.loop||$(a.arrowLeft).addClass("disabled"),$(a.arrowLeft).on(tapEvent,(function(){$(r).slick("slickPrev")})),$(a.arrowRight).on(tapEvent,(function(){$(r).slick("slickNext")})),a.dotsSelector){for(var c=$(a.dotsSelector).attr("dots"),d=$(r).find(".slick-slide").length,u=($(r).find(".slick-slide.slick-active").length,0);u<d;u++)$(a.dotsSelector).append('<div class="'+c+(0==u?" active":"")+'"></div>');function h(){var t=$(r).find(".slick-slide.slick-active").length,e=t-1;if(d==t)$(a.dotsSelector).css("display","none");else{$(a.dotsSelector).css("display","block"),$(a.dotsSelector).children().css("display","inline-block");for(var i=d;i>0;i--)e>0&&($(a.dotsSelector).children().eq(i-1).css("display","none"),e--)}}$(a.dotsSelector).children("*").on(tapEvent,(function(){var t=$(this).index();$(r).slick("slickGoTo",t)})),h(),$(r).on("setPosition",(function(){h()}))}function p(t){if(null!=t&&!1===t)$(r).find(".slick-track").children().css("min-height",0);else{var e=0;$(r).find(".slick-track").children().each((function(){var t=$(this).outerHeight();t>e&&(e=t)})),$(r).find(".slick-track").children().css("min-height",e)}}var f=!0;if(a.unitHeight&&$(r).on("setPosition",(function(){1==a.unitHeight||"number"==typeof a.unitHeight&&$(window).width()>=a.unitHeight?f?setTimeout((function(){p(),f=!1}),200):p():"number"==typeof a.unitHeight&&$(window).width()<a.unitHeight&&p(!1)})),$(r).on("beforeChange",(function(t,e,i,n){a.loop||(n==$(r).find(".slick-slide").length-$(r).find(".slick-slide.slick-active").length?$(a.arrowRight).addClass("disabled"):$(a.arrowRight).removeClass("disabled"),0==n?$(a.arrowLeft).addClass("disabled"):$(a.arrowLeft).removeClass("disabled")),a.dotsSelector&&($(a.dotsSelector).children("*").removeClass("active"),$(a.dotsSelector).children("*").eq(n).addClass("active")),"function"==typeof a.beforeChange&&a.beforeChange(i,n)})),a.accessBrPoints){var g,m,v=!1,y=!0;function b(){v=!1,g=$(window).width(),$.each(a.accessBrPoints,(function(t,e){if(g>=t&&g<e)return v=!0,!0})),v&&!$(r).hasClass("slick-initialized")?$(r).slick(e):y||v||!$(r).hasClass("slick-initialized")?!v&&y&&$(r).addClass("visible"):$(r).slick("unslick"),y=!1}b(),$(window).resize((function(){clearTimeout(m),m=setTimeout((function(){b()}),50)}))}else $(r).slick(e)},$.fn.ddrChooseFile=function(){var t,e,i,n=arguments,o="object"==typeof n[0]?n[0]:{},r="function"==typeof n[0]?n[0]:void 0!==n[1]&&"function"==typeof n[1]&&n[1],s=this,a=0,l=!1,c=[];p=$.extend({sync:!1},o),$(s).on("change",(function(n){return i=tapEventInfo(n,{attribute:"multiple"}),"file"==n.currentTarget.type&&(!!(e=s[0].files)&&void $.each(e,(function(n,o){(t=new FileReader).onload=function(t){var n=t.target.result.split("/")[0].substr(5,t.target.result.split("/")[0].length),s=o.name.split(".");p.sync?(c.push({name:o.name,ext:s[s.length-1],type:n,size:o.size,src:t.target.result}),e.length==++a&&(c=i?c:c[0],r&&"function"==typeof r&&r(c))):(l=e.length==++a,r({name:o.name,ext:s[s.length-1],type:n,size:o.size,src:t.target.result},l))},t.readAsDataURL(o)})))}))},$.fn.ddrCRUD=function(t,e){if(0==this.length)return console.warn("ddrCRUD ошибка! Селектор: не найден!"),!1;var i,n,o,r=this,s={},a=$.extend({addSelector:!1,autoAdd:!1,sortField:"sort",emptyList:'<p class="empty">Нет данных</p>',errorFields:!1,functions:!1,data:{getList:{},add:{},save:{},update:{},remove:{}},confirms:{getList:!1,add:!1,save:!1,update:!1,remove:!1},removeConfirm:!1,listDirection:"bottom",popup:!1},t),l="/"!=(l="/"!=a.functions.substr(-1)?a.functions+"/":a.functions).substr(0,1)?"/"+l:l,c=$(a.emptyList).find("td").attr("colspan")||!1,d="";c&&(d+="<tr>",d+='<td colspan="'+c+'" class="center">',d+='<i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>',d+="</td>",d+="</tr>"),$(r).html(d),getAjaxHtml(l+"get",a.data.getList,(function(t,e){function c(){getAjaxHtml(l+"add",a.data.add,(function(t,s){e?"bottom"==a.listDirection?(s?$(r).append(t):$(r).append(a.emptyList),$(r).children().last().find("[save]").setAttrib("disabled"),"function"==typeof a.confirms.add&&a.confirms.add($(r).children().last())):"top"==a.listDirection&&(s?$(r).prepend(t):$(r).prepend(a.emptyList),$(r).children().first().find("[save]").setAttrib("disabled"),"function"==typeof a.confirms.add&&a.confirms.add($(r).children().first())):($(r).children().first().remove(),i=$(t)[0],n=i&&i.localName,o="",s?$(r).html(t):$(r).html(a.emptyList),e=!0,$(r).children().first().find("[save]").setAttrib("disabled"),"function"==typeof a.confirms.add&&a.confirms.add($(r).children().first()))}))}e?$(r).html(t):$(r).html(a.emptyList),setBaseScripts(),"function"==typeof a.confirms.getList&&a.confirms.getList(),$(r).find("[update]").setAttrib("disabled"),e&&(i=$(r).children()[0],n=i.localName,o=""),$(r).changeInputs((function(t,e){$(t).closest(n+o).find("[update]:disabled, [save]:disabled").removeAttrib("disabled")})),$(a.addSelector).on(tapEvent,(function(){c()})),a.autoAdd&&c(),$(r).on(tapEvent,"[save]",(function(){var t=$(this).closest(n+o),e=$(t).index(),i={},r={};$(t).formSubmit({returnFields:function(n){$(t).find("input[name], textarea[name], select[name]").each((function(t){var e=$(this).attr("name"),n=-1!=["checkbox","radio"].indexOf(this.type)?$(this).is(":checked")?1:0:$(this).val(),o="select-one"==this.type?$(this).val():-1!=["checkbox","radio"].indexOf(this.type)?$(this).is(":checked")?1:0:$(this).val();i[e]=n,r[e]=o})),a.sortField&&(i[a.sortField]=e,r[a.sortField]=e),getAjaxHtml(l+"save",$.extend(a.data.save,{fields:i,fields_to_item:r}),(function(e,i){i?($(t).replaceWith((function(){return e.replace(/(update="\d+")/,"$1 disabled")})),notify("Запись успешно сохранена!"),$(t).find(".changed").removeClass("changed"),"function"==typeof a.confirms.save&&a.confirms.save(t,r)):notify("Не удалось сохранить запись!","error")}))},formError:function(e){"function"==typeof a.errorFields&&a.errorFields(t,e)}})})),$(r).on(tapEvent,"[update]",(function(){var t=this,e=$(t).attr("update"),i=$(this).closest(n+o),r=($(i).index(),{});$(i).formSubmit({returnFields:function(n){$.each(n,(function(t,e){r[e.name]=e.value})),$.post(l+"update",$.extend(a.data.update,{id:e,fields:r}),(function(e){e?(notify("Запись успешно обновлена!"),$(t).setAttrib("disabled"),$(i).find(".changed").removeClass("changed"),"function"==typeof a.confirms.update&&a.confirms.update(i,r)):notify("Не удалось сохранить запись!","error")}),"json").fail((function(t){notify("Системная ошибка!","error"),showError(t)}))},formError:function(t){"function"==typeof a.errorFields&&a.errorFields(i,t)}})})),$(r).on(tapEvent,"[remove]",(function(){var t=$(this).attr("remove"),i=$(this).closest(n+o);if(!t)return $(i).remove(),notify("Запись удалена!"),0==$(r).find(n+o).length&&($(r).html(a.emptyList),e=!1),!0;function s(){$.post(l+"remove",$.extend(a.data.remove,{id:t}),(function(t){t?("function"==typeof a.confirms.remove&&a.confirms.remove(i),$(i).remove(),notify("Запись удалена!"),0==$(r).find(n+o).length&&($(r).html(a.emptyList),e=!1)):notify("Ошибка удаления!","error")}),"json").fail((function(t){notify("Системная ошибка!","error"),showError(t)}))}a.removeConfirm?a.popup?a.popup.dialog("<p>Вы действительно хотите удалить запись?</p>","Удалить","Отмена",(function(){a.popup.wait(),s(),a.popup.wait(!1),a.popup.dialog(!1)})):ddrPopUp({title:"Удалить запись|4",width:400,html:'<p class="center red strong">Вы действительно хотите удалить запись?</p>',buttons:[{id:"removeConfY",title:"Да"}],close:"Нет"},(function(t){$("#removeConfY").on(tapEvent,(function(){t.wait(),s(),t.close()}))})):s()})),s.reset=function(){getAjaxHtml(l+"get",a.data.getList,(function(t,e){e?$(r).html(t):$(r).html(a.emptyList),$(r).find("[update]").setAttrib("disabled")}))},s.search=function(t,e,i){getAjaxHtml(l+"get",$.extend(a.data.getList,{field:t,search:e,place:i}),(function(t,e){e?$(r).html(t):$(r).html(a.emptyList),$(r).find("[update]").setAttrib("disabled")}))},s.where=function(t){getAjaxHtml(l+"get",$.extend(a.data.getList,{where:t}),(function(t,e){e?$(r).html(t):$(r).html(a.emptyList),$(r).find("[update]").setAttrib("disabled")}))}}),(function(){"function"==typeof e&&e(s)}))},ddrDatePicker=function(t,e,i,n,o){if(0!=$(t).length){$(t).prop("disabled",!1).attr("readonly",""),n&&$(t).datepicker("destroy").attr("date","").val(""),null!=e&&($(e).prop("disabled",!0).attr("readonly",""),n&&$(e).datepicker("destroy").attr("date","").val(""));var r=$.cookie("language")||"ru",s={ru:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],en:["january","february","march","april","may","june","july","august","september","october","november","december"]},a={ru:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],en:["january","february","march","april","may","june","july","august","september","october","november","december"]},l={ru:["вс","пн","вт","ср","чт","пт","сб"],en:["sun","mon","tue","wed","thu","fry","sat"]};$(t).datepicker({dateFormat:"d M yy г.",yearRange:null!=e?"1970:"+(new Date).getFullYear():"1970:+100",numberOfMonths:1,changeMonth:!0,changeYear:!0,monthNamesShort:s[r],monthNames:a[r],dayNamesMin:l[r],firstDay:1,minDate:new Date(2010,0,1,0,0,0),maxDate:null==e?null:0,onSelect:function(n,c){var d=rangeMonth=rangeYaer=0,u=parseInt(c.selectedDay),h=parseInt(c.selectedMonth),p=parseInt(c.selectedYear),f="0"+u,g="0"+(h+1);if($(t).attr("date",p+"-"+g.substr(-2)+"-"+f.substr(-2)),o&&"function"==typeof o&&o(c),null!=e){$(e).prop("disabled",!1);var m=null==i?["m",1]:i.split(":");"d"==m[0]&&(d=parseInt(m[1])),"m"==m[0]&&(rangeMonth=parseInt(m[1])),"y"==m[0]&&(rangeYaer=parseInt(m[1])),$(e).datepicker("destroy").attr("date","").val("");var v=(new Date).getTime(),y=new Date(p+rangeYaer,h+rangeMonth,u+d,0,0,0).getTime();if(v>y)var b=new Date(p+rangeYaer,h+rangeMonth,u+d,0,0,0);else if(v<y)b=0;$(e).datepicker({dateFormat:"d M yy г.",yearRange:"1970:"+(new Date).getFullYear(),numberOfMonths:1,changeMonth:!0,changeYear:!0,monthNamesShort:s[r],monthNames:a[r],dayNamesMin:l[r],firstDay:1,minDate:new Date(p,h,u+1,0,0,0),maxDate:b,onSelect:function(t,i){var n=parseInt(i.selectedDay),r=parseInt(i.selectedMonth),s=parseInt(i.selectedYear),a="0"+n,l="0"+(r+1);$(e).attr("date",s+"-"+l.substr(-2)+"-"+a.substr(-2)),o&&"function"==typeof o&&o(i)}})}}})}else console.log("datePicker Ошибка! Неверно выбраны селекторы!")},getTimeFromSeconds=function(t,e){var i=days=hours=minutes=seconds=0;if(t>=604800&&(i=Math.floor(t/604800),t%=604800),t>=86400&&(days=Math.floor(t/86400),t%=86400),t>=3600&&(hours=Math.floor(t/3600),t%=3600),t>=60&&(minutes=Math.floor(t/60)),seconds=t%60,e){var n="";return i&&(n+=i+" нед. "),days&&(n+=days+" дн. "),hours&&(n+=hours+" ч. "),minutes&&(n+=minutes+" мин. "),seconds&&(n+=seconds+" сек."),n}return{w:i,d:days,h:hours,m:minutes,s:seconds}},getDateFromUnix=function(t,e,i){var n=$.cookie("language")||"ru",o={ru:[["января","янв"],["февраля","фев"],["марта","мар"],["апреля","апр"],["мая","мая"],["июня","июн"],["июля","июл"],["августа","авг"],["сентября","сен"],["октября","окт"],["ноября","ноя"],["декабря","дек"]],en:[["january","jan"],["february","feb"],["march","mar"],["april","apr"],["may","may"],["june","jun"],["july","jul"],["august","aug"],["september","sep"],["october","oct"],["november","nov"],["december","dec"]]},r=(i=i||0,new Date(t*(t.toString().length>=13?1:1e3))),s=month=day=hours=minutes=seconds=0;return s=r.getFullYear(),month=r.getMonth(),day=r.getDate(),hours="0"+r.getHours(),minutes="0"+r.getMinutes(),seconds="0"+r.getSeconds(),null==e||1==e?day+" "+o[n][month][i]+" "+s+" г. в "+hours.substr(-2)+":"+minutes.substr(-2):e?void 0:day+" "+o[n][month][i]+" "+s+" г."},encodeTimePoint=function(t){var e=t.split(":");if(-1!=["y","m","d","h","i","s"].indexOf(e[0])){var i,n=e[0],o=e[1],r=$.cookie("language")||"en",s={ru:["год","года","лет"],en:["years","years","years"]},a={ru:["месяц","месяца","месяцев"],en:["months","months","months"]},l={ru:["день","дня","дней"],en:["days","days","days"]},c={ru:["час","часа","часов"],en:["hours","hours","hours"]},d={ru:["минута","минуты","минут"],en:["minutes","minutes","minutes"]},u={ru:["секунда","секунды","секунд"],en:["seconds","seconds","seconds"]},h={y:{0:s[r][2],1:s[r][0],2:s[r][1],3:s[r][1],4:s[r][1],5:s[r][2],6:s[r][2],7:s[r][2],8:s[r][2],9:s[r][2],11:s[r][2],12:s[r][2],13:s[r][2],14:s[r][2]},m:{0:a[r][2],1:a[r][0],2:a[r][1],3:a[r][1],4:a[r][1],5:a[r][2],6:a[r][2],7:a[r][2],8:a[r][2],9:a[r][2],11:a[r][2],12:a[r][2],13:a[r][2],14:a[r][2]},d:{0:l[r][2],1:l[r][0],2:l[r][1],3:l[r][1],4:l[r][1],5:l[r][2],6:l[r][2],7:l[r][2],8:l[r][2],9:l[r][2],11:l[r][2],12:l[r][2],13:l[r][2],14:l[r][2]},h:{0:c[r][2],1:c[r][0],2:c[r][1],3:c[r][1],4:c[r][1],5:c[r][2],6:c[r][2],7:c[r][2],8:c[r][2],9:c[r][2],11:c[r][2],12:c[r][2],13:c[r][2],14:c[r][2]},i:{0:d[r][2],1:d[r][0],2:d[r][1],3:d[r][1],4:d[r][1],5:d[r][2],6:d[r][2],7:d[r][2],8:d[r][2],9:d[r][2],11:d[r][2],12:d[r][2],13:d[r][2],14:d[r][2]},s:{0:u[r][2],1:u[r][0],2:u[r][1],3:u[r][1],4:u[r][1],5:u[r][2],6:u[r][2],7:u[r][2],8:u[r][2],9:u[r][2],11:u[r][2],12:u[r][2],13:u[r][2],14:u[r][2]}};n=(e=t.split(":"))[0];return i=(o=e[1]).length>1?null!=h[n][o]?h[n][o]:null!=h[n][o.substr(-2)]?h[n][o.substr(-2)]:h[n][o.substr(-1)]:h[n][o.substr(-1)],[o,i]}console.log("encodeTimePoint неверные данные")},ddrDragFiles=function(t){var e,i=$.extend({dropZone:!1,emptyDropHtml:"",fileTempHtml:'<i class="ddrdragfiles__loading fa fa-spinner fa-spin"></i>',dropItemHtml:"",itemsGridCls:"dcol-2 dcol-sm-3 dcol-md-4 dcol-lg-5 dcol-xl-7",alreadyFiles:!1,alreadyFilesParams:{},deleteAlready:!1,disabled:!1,accessTypes:!1,maxFileSize:2,nameLimit:!1,lang:"ru",onInit:!1,onDragHover:!1,onDragLeave:!1,onDrop:!1,onLoadItem:!1,onIsset:!1,filesData:!1},t),n=i.filesBlock||"#filesBlock",o={},r=[],s=!1,a=[];if(firstDrop=!0,clearedDrop=!1,fileHtml='<div class="ddrdragfiles__file '+i.itemsGridCls+'"><div class="ddrdragfiles__fileblock">'+i.fileTempHtml+"</div></div>",emptyDropHtml='<div class="ddrdragfiles__empty">'+i.emptyDropHtml+"</div>",language={ru:{browserEror:"Ваш браузер не поддерживает супер современные технологии! Поэтому установите нормальный браузер. к примеру, Хром!",deleteFile:"Удалить файл",cannot:"Так нельзя!",fileFormat:"Формат файла «",fileSize:"Размер файла «",notLoad:"» не подходит для загрузки!",moreMaxSize:"» превышает максимально разрешенный в ",notFitAndSise:"» не подходит для загрузки и превышает максимально разрешенный размер в ",mb:"мб!"},en:{browserEror:"Your browser doesn`t support super modern technologies! So install a normal browser. for example, Chrome!",deleteFile:"Delete the file",cannot:"You can`t do that!",fileFormat:"File format «",fileSize:"File size «",notLoad:"» not suitable for downloading!",moreMaxSize:"» exceeds the maximum allowed in ",notFitAndSise:"» not suitable for loading and exceeds the maximum allowed size in ",mb:"mb!"}},void 0===window.FileReader?($(i.dropZone).text(language[i.lang].browserEror),$(i.dropZone).addClass("error")):($(i.dropZone).addClass("ddrdragfiles__dropzone"),$(i.dropZone).append('<div class="drow dgutter-5 dgutter-sm-10 dgutter-ml-15 ddrdragfiles__files" id="'+n.slice(1)+'"></div>'),e="filesInput"+i.dropZone.slice(1),$(i.dropZone).after('<input type="file" class="ddrdragfiles__finput" id="'+e+'" multiple />'),$(i.dropZone).attr("for",e)),!1!==i.alreadyFiles){if("object"==typeof i.alreadyFiles&&i.alreadyFiles.length)c(i.alreadyFiles);else if("string"==typeof i.alreadyFiles){var l="/"!=i.alreadyFiles.substr(0,1)&&"http://"!=i.alreadyFiles.substr(0,7)&&"https://"!=i.alreadyFiles.substr(0,7)?"/"+i.alreadyFiles:i.alreadyFiles;$.post(l,i.alreadyFilesParams,(function(t){c(t)}),"json")}}else $(i.dropZone).addClass("ddrdragfiles__dropzone_empty"),$(i.dropZone).append(emptyDropHtml),null!=i.onInit&&"function"==typeof i.onInit&&i.onInit();function c(t){var o=t.length||Object.keys(t).length;if(t&&o){$.each(t,(function(t,e){var o="";o+='<div class="ddrdragfiles__file ddrdragfiles__file_already '+i.itemsGridCls+'">',o+='<div class="ddrdragfiles__fileblock'+(e.checked?" ddrdragfiles__fileblock_checked":"")+'" fileid="'+e.id+'" style="background-image: url(\'/public/images/compare/thumbs/'+e.filename+"')\">",i.disabled||(o+='<i class="ddrdragfiles__remove fa fa-trash" removealireadyfile="'+e.id+'" title="'+language[i.lang].deleteFile+'"></i>'),o+='<span class="ddrdragfiles__filename" contenteditable>'+getFileName(e.name)+"</span>",o+="</div>",o+="</div>",$(n).append(o),a.push(e.name)}));var l=$(i.dropZone).html(),c=i.dropZone;$(i.dropZone).replaceWith('<label class="ddrdragfiles__dropzone ddrdragfiles__dropzone_has">'+l+"</label>"),i.disabled||$(n).append('<div class="'+i.itemsGridCls+'" id="'+c.slice(1)+'"><label class="ddrdragfiles__dropitem" for="'+e+'">'+i.dropItemHtml+"</label></div>"),i.dropZone=c,d(),r=t,s=!0,null!=i.onInit&&"function"==typeof i.onInit&&i.onInit()}else $(i.dropZone).addClass("ddrdragfiles__dropzone_empty"),$(i.dropZone).append(emptyDropHtml)}function d(){$(".ddrdragfiles__dropzone").disableDrop(["ddrdragfiles__dropitem"],(function(t){$(t).hasClass("ddrdragfiles__dropzone")&&notify(language[i.lang].cannot,"error")}))}function u(t){var r,l,c,u,h,p=[],f=$(n).children("div.ddrdragfiles__file:not(.ddrdragfiles__file_already)").length,g=!1;if($(i.dropZone).removeClass("ddrdragfiles__dropzone_error"),null!=t.originalEvent.dataTransfer?r=t.originalEvent.dataTransfer.files:null!=t.dataTransfer?r=t.dataTransfer.files:null!=t.currentTarget.files?r=t.currentTarget.files:$(i.dropZone).addClass("ddrdragfiles__dropzone_error"),i.accessTypes){var m,v=[];m=Array.from(r),$.each(m,(function(t,e){var n=!0;!1===hasIn(i.accessTypes,e.type)&&e.size>1048576*i.maxFileSize&&(notify(language[i.lang].fileFormat+e.name+language[i.lang].notFitAndSise+i.maxFileSize+language[i.lang].mb,"error",15),n=!1),n&&!1===hasIn(i.accessTypes,e.type)&&(notify(language[i.lang].fileFormat+e.name+language[i.lang].notLoad,"error",15),n=!1),n&&e.size>1048576*i.maxFileSize&&(notify(language[i.lang].fileSize+e.name+language[i.lang].moreMaxSize+i.maxFileSize+"мб!","error",15),n=!1),n&&v.push(e)})),r=v}c=r.length,h=(h=Object.keys(o)).length?parseInt(h[h.length-1]):0;var y=[],b=0,w=[],x=[];Object.values(o).map((function(t,e){y.push(t.name+"_"+t.size)}));for(var k=0;k<c;k++)!1!==hasIn(i.accessTypes,r[k].type)&&(g=!0,-1==y.indexOf(r[k].name+"_"+r[k].size)&&-1==a.indexOf(getFileName(r[k].name))?(firstDrop&&!s||clearedDrop?($(n).append(fileHtml),$(".ddrdragfiles__empty").remove()):$(i.dropZone).before(fileHtml),x.push(k)):(w.push(r[k]),b++));c-=b,w.length&&null!=i.onIsset&&"function"==typeof i.onIsset&&i.onIsset(w);var C=0;if(function t(){if(0==c)return null!=i.done&&"function"==typeof i.done&&i.done(o),document.getElementById(e).value="",!1;u=x.length-c;var s=h+u+1;!1===hasIn(i.accessTypes,r[x[C]].type)?(c--,C++,t()):new Compressor(r[x[C]],{quality:.6,mimeType:r[x[C]].type,maxWidth:160,maxHeight:160,drew:function(){},beforeDraw:function(){},success:function(e){(l=new FileReader).onload=function(e){var o=$(n).children("div.ddrdragfiles__file:not(.ddrdragfiles__file_already)").eq(f+u),a='<div class="ddrdragfiles__file '+i.itemsGridCls+'">';a+='<div class="ddrdragfiles__fileblock" style="background-image: url(\''+e.target.result+"')\">",a+='<i class="ddrdragfiles__remove fa fa-trash" removeloadedfile="'+s+'" title="'+language[i.lang].deleteFile+'"></i>',a+='<span class="ddrdragfiles__filename" contenteditable>'+getFileName(r[x[C]].name,1,i.nameLimit)+"</span>",a+="</div>",a+="</div>",$(o).replaceWith(a),null!=i.onLoadItem&&"function"==typeof i.onLoadItem&&i.onLoadItem(r[x[C]],f+u,s),c--,C++,t()},o[s]=r[x[C]],p=Object.values(o),l.readAsDataURL(e),l.onloadend=function(){null!=i.filesData&&"function"==typeof i.filesData&&i.filesData(p)}},error:function(t){console.log(t.message)}})}(),g&&(firstDrop&&!s||clearedDrop)){var S=$(i.dropZone).html(),T=i.dropZone;$(i.dropZone).replaceWith('<label class="ddrdragfiles__dropzone ddrdragfiles__dropzone_has">'+S+"</label>"),$(n).append('<div class="'+i.itemsGridCls+'" id="'+T.slice(1)+'"><label class="ddrdragfiles__dropitem" for="'+e+'">'+i.dropItemHtml+"</label></div>"),i.dropZone=T,firstDrop=!1,clearedDrop=!1,d()}null!=i.onDrop&&"function"==typeof i.onDrop&&i.onDrop(i.dropZone,f,h,r)}function h(){$(".ddrdragfiles__dropzone").replaceWith('<label id="'+i.dropZone.slice(1)+'" class="ddrdragfiles__dropzone ddrdragfiles__dropzone_empty" for="'+e+'"><div id="'+n.slice(1)+'" class="drow dgutter-5 dgutter-sm-10 dgutter-ml-15 ddrdragfiles__files"></div>'+emptyDropHtml+"</label>"),firstDrop=!0,clearedDrop=!0}return $("body").off("dragover",i.dropZone).on("dragover",i.dropZone,(function(t){return null!=i.onDragHover&&"function"==typeof i.onDragHover&&i.onDragHover(t),$(this).children("label").length?$(this).children("label").addClass("ddrdragfiles__dropitem_hover"):$(this).addClass("ddrdragfiles__dropzone_hover"),!1})),$("body").off("dragleave",i.dropZone).on("dragleave",i.dropZone,(function(t){return null!=i.onDragLeave&&"function"==typeof i.onDragLeave&&i.onDragLeave(t),$(this).children("label").length?$(this).children("label").removeClass("ddrdragfiles__dropitem_hover"):$(this).removeClass("ddrdragfiles__dropzone_hover"),!1})),i.disabled?$(".ddrdragfiles__dropzone").disableDrop():($("body").off("change","#"+e).on("change","#"+e,(function(t){t.preventDefault(),$(".ddrdragfiles__dropzone").addClass("ddrdragfiles__dropzone_drop"),$(this).removeClass("ddrdragfiles__dropzone_hover"),u(t)})),$("body").off("drop",i.dropZone).on("drop",i.dropZone,(function(t){t.preventDefault(),t.stopPropagation(),$(".ddrdragfiles__dropzone_error").removeClass("ddrdragfiles__dropzone_error"),$(".ddrdragfiles__dropzone").addClass("ddrdragfiles__dropzone_drop"),$(this).removeClass("ddrdragfiles__dropzone_hover"),u(t)})),$("body").off(tapEvent,i.dropZone).on(tapEvent,i.dropZone,(function(t){$(".ddrdragfiles__dropzone_error").removeClass("ddrdragfiles__dropzone_error")}))),$("body").on(tapEvent,"[removeloadedfile]",(function(t){t.preventDefault();var r=$(this).attr("removeloadedfile");$(this).closest(".ddrdragfiles__file").remove(),delete o[r],filesToServer=Object.values(o),0==filesToServer.length&&(document.getElementById(e).value=""),0==$(n).children("div.ddrdragfiles__file").length&&h(),null!=i.filesData&&"function"==typeof i.filesData&&i.filesData(filesToServer)})),$("body").on(tapEvent,"[removealireadyfile]",(function(t){t.preventDefault();var e=$(this).attr("removealireadyfile");$(this).closest(".ddrdragfiles__file_already").remove();for(var o=0;o<a.length;o++)r[o].id==e&&a.splice(o,1);0==$(n).children("div.ddrdragfiles__file").length&&(console.log("clearDrop"),h()),null!=i.deleteAlready&&"function"==typeof i.deleteAlready&&i.deleteAlready(e)})),{clear:function(){o={},r=[],s=!1,a=[],firstDrop=!0,clearedDrop=!0,h(),console.log("function clear")}}},$.fn.ddrFloatingBlock=function(t){let e,i,n,o,r,s,a=t||0,l=this,c=0,d=0,u=0,h=0,p=0,f=0;(e=function(){c=$(l).width(),u=$(l).outerHeight(),h=$(l).offset().top,d=$(l).parent().width(),p=$(window).width(),f=$(window).height(),n=-(u-f+a),o=$(window).scrollTop(),r=-(u-f+a)})(),$(window).resize((function(){clearTimeout(s),s=setTimeout((function(){e()}),100)})),$(l).css("top",r),$(window).scroll((function(){if(i=$(window).scrollTop(),o<i){let t=r+(o-i);r=t>n?t:n,$(l).css("top",r)}else{let t=r+(o-i);r=t<a?t:a,$(l).css("top",r)}o=i}))},$.fn.formSubmit=function(t){var e=this;if(null==e||0==$(e).length)return!1;var i=new FormData,n=!!t.url&&("/"!=t.url.substr(0,1)?"/"+t.url:t.url),o=[],r=[],s=$.cookie("language")||"ru",a={ru:{mat:"ОЙ-ёй! нельзя так! Мы же культурные!",noEmptyFile:"Ошибка! Файл не может быть пустым!",noEmptyField:"Ошибка! Поле не может быть пустым!",error:"Ошибка!",errorValue:"Ошибка! Данное значение недопустимо!",errorLength:"Ошибка! Допускаются длина",symbols:"символов!",errorOnlyNums:"Ошибка! Допускаются только цифры",errorDiapason:"Ошибка! Допускаются диапазон",errorDisabledSymbols:"Ошибка! Запрещенные символы в строке!",errorEmail:"Ошибка! Email указан некорректно",errorPhone:"Ошибка! Телефон указан некорректно",errorSeo:"Ошибка! SEO URL указан некорректно! Допускаются",errorUrl:"Ошибка! URL указан некорректно!",errorSystem:"Системная ошибка отправки данных!"},en:{mat:"Uh-Oh! You can`t do this! We are polite!",noEmptyFile:"Error! File cannot be empty!",noEmptyField:"Error! This field cannot be empty!",error:"Error!",errorValue:"Error! This value is not allowed!",errorLength:"Error! Allowed length",symbols:"symbols!",errorOnlyNums:"Error! Only numbers are allowed",errorDiapason:"Error! Allowed range",errorDisabledSymbols:"Error! Forbidden characters in a string!",errorEmail:"Error! Email is specified incorrectly",errorPhone:"Error! The Phone number is specified incorrectly",errorSeo:"Error! SEO URL is specified incorrectly! Allow",errorUrl:"Error! URL is specified incorrectly!",errorSystem:"System error in sending data!"}};if($(e).find("input[name], textarea[name], select[name], [contenteditable][name]").not('input[type="button"]').each((function(){if(t.ignore)if("string"==typeof t.ignore){if($(this).is(t.ignore))return!0}else if(Array.isArray(t.ignore)&&$(this).is(t.ignore.join(",")))return!0;var e=this,i=$(e).closest(".file").length>0,n=$(e).attr("name")||!1,l=$(e).attr("type")||(null!=$(e)[0].type?$(e)[0].type.replace("select-one","select"):!!$(e).hasAttr("contenteditable")&&"contenteditable"),c=null!=$(e).attr("rules")&&$(e).attr("rules").split("|"),d="file"==l?$(e).prop("files").length?$(e).prop("files"):null:-1!=["checkbox","radio"].indexOf(l)?$(e).is(":checked")?"radio"==l?$(e).val():1:"radio"==l?null:0:"contenteditable"==l?getContenteditable($(e))||null:("hidden"==l?$(e).prop("value")||null:$(e).val())||null;if(null==n||!1===n)return!0;if(isInt(d)&&(d=parseInt(d)),isFloat(d)&&(d=parseFloat(d)),-1!=["file","radio"].indexOf(l)&&null==d)return!0;if(t.ignoreNames)if("string"==typeof t.ignoreNames){if(t.ignoreNames==n)return!0}else if(Array.isArray(t.ignoreNames)&&-1!=t.ignoreNames.indexOf(n))return!0;c&&$.each(c,(function(t,n){var r=!0,l=n.split(":"),c=l[0];if(params=null!=l[1]&&l[1].split(","),text=l[2]||!1,r&&null!=d&&"string"==typeof d&&containsMat(d)&&(o.push({field:e,error:text||a[s].mat}),r=!1),r&&null==d&&"empty"==c&&(o.push({field:e,error:text||(i?a[s].noEmptyFile:a[s].noEmptyField)}),r=!1),r&&null!=d&&"reg"==c){var u=new RegExp(params[0],params[1]);1!=/<\?php|<\?|<script|\$\(/gi.test(d)&&0!=u.test(d)||(o.push({field:e,error:text||a[s].error}),r=!1)}if(r&&null!=d&&"not"==c&&(1!=/<\?php|<\?|<script|\$\(/gi.test(d)&&-1==params.indexOf(d)||(o.push({field:e,error:text||a[s].errorValue}),r=!1)),r&&null!=d&&"length"==c&&(params[0]&&d.toString().length<params[0]||params[1]&&d.toString().length>params[1])){var h=params[0]?"от "+params[0]+" ":"",p=params[1]?"до "+params[1]+" ":"";o.push({field:e,error:text||a[s].errorLength+" "+h+p+a[s].symbols}),r=!1}if(r&&null!=d&&"num"==c&&(0==/^(\d)+$/g.test(d)&&(o.push({field:e,error:text||a[s].errorOnlyNums}),r=!1),r&&params&&null!=params[0]&&d<params[0]||null!=params[1]&&d>params[1])){h=params[0]?" от "+params[0]:"",p=params[1]?" до "+params[1]:"";o.push({field:e,error:text||a[s].errorDiapason+h+p+"!"}),r=!1}r&&null!=d&&"string"==c&&1==/<\?php|<\?|<script|\$\(/gi.test(d)&&(o.push({field:e,error:text||a[s].errorDisabledSymbols}),r=!1),r&&null!=d&&"eng"==c&&(1!=/<\?php|<\?|<script|\$\(/gi.test(d)&&0!=/^[^а-яё]+$/giu.test(d)||(o.push({field:e,error:text||a[s].errorDisabledSymbols}),r=!1)),r&&null!=d&&"rus"==c&&(1!=/<\?php|<\?|<script|\$\(/gi.test(d)&&0!=/^[^a-z]+$/giu.test(d)||(o.push({field:e,error:text||a[s].errorDisabledSymbols}),r=!1)),r&&null!=d&&"email"==c&&0==/^[0-9a-zA-Z_.-]+@[a-z0-9_.-]+.[a-z]{2,10}$/gi.test(d)&&(o.push({field:e,error:text||a[s].errorEmail}),r=!1),r&&null!=d&&"phone"==c&&0==/^\+\d{1,3} \(\d{3}\) \d{3}(-|\s)?\d{2}(-|\s)?\d{2}$/g.test(d)&&(o.push({field:e,error:text||a[s].errorPhone}),r=!1),r&&null!=d&&"seourl"==c&&(1!=/<\?php|<\?|<script|\$\(/gi.test(d)&&0!=/^[a-z0-9_-]+$/g.test(d)||(o.push({field:e,error:text||a[s].errorSeo+": a-z0-9_-"}),r=!1)),!r||null==d||"url"!=c&&"link"!=c||0==/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/g.test(d)&&(o.push({field:e,error:text||a[s].errorUrl}),r=!1)})),/\b_/.test(n)?console.log("deleted "+n):r.push({field:e,type:l,name:n,value:d})})),o.length>0)return t.formError&&"function"==typeof t.formError&&t.formError(o),$.each(o,(function(t,e){if("hidden"==$(e.field).attr("type"))return!0;$(e.field).errorLabel(e.error)})),!0;if((!n||t.returnFields)&&(t.returnFields&&"function"==typeof t.returnFields&&t.returnFields(r),!n))return!0;if($.each(r,(function(t,e){e.field;var n=e.type,o=e.name,r=e.value;if("file"==n){var s=r;s.length>0?s.length>1?$.each(s,(function(t,e){i.append(o+"[]",e)})):i.append(o,s[0]):i.append(o,null)}else"checkbox"==n||"radio"==n?i.append(o,r):i.append(o,r||"")})),t.fields&&$.each(t.fields,(function(t,e){var n="object"==typeof e?JSON.stringify(e):e;i.append(t,n)})),t.files){var l=t.files.field,c=t.files.files;0==Array.isArray(c)&&(c=Object.values(c)),c.map((function(t,e){i.append(l+"["+e+"]",t)}))}$.ajax({type:t.type||"POST",url:n,dataType:t.dataType||"json",data:i,cache:!1,contentType:!1,processData:!1,beforeSend:function(){t.before&&"function"==typeof t.before&&t.before()},success:function(e){t.success&&"function"==typeof t.success&&t.success(e,Object.fromEntries(i.entries()))},error:function(e,i){notify(a[s].errorSystem,"error"),showError(e),t.error&&"function"==typeof t.error&&t.error(i)},complete:function(){t.complete&&"function"==typeof t.complete&&t.complete()}})},$.fn.imgLoaded=function(t){var e=new Image,i=$(this).attr("src");e.onload=function(){"function"==typeof t&&t()},e.src=i},$(document).ready((function(){var t,e=new Snap({element:document.getElementById("mobileNavBlock"),dragger:document.getElementById("mobileNavButton"),tapToClose:!1,addBodyClasses:!1,hyperextensible:!1,maxPosition:290,minPosition:0,disable:"right",flickThreshold:10});$("#mobileNavButton").on("click",(function(t){t.preventDefault(),e.open("left")})),e.on("open",(function(){$(".mobilenavwrap").stop().fadeIn(100),disableScroll()})),e.on("end",(function(){e.on("animated",(function(){$("#mobileNavBlock").position().left<=-260&&$(".mobilenavwrap").stop().fadeOut(50,(function(){enableScroll()}))}))})),$(".mobilenavwrap, #mobileNavButtonClose, [data-scroll-nav]").on("click",(function(){clearTimeout(t),e.close(),t=setTimeout((function(){enableScroll(),$(".mobilenavwrap").stop().fadeOut(50)}),100)}))})),$.fn.ddrPagination=function(t){let e=this,i=$.extend({pItems:"pagination",pRows:"paginationrule",itemsAround:!1,storageId:"ddrPagination"+random(0,999),activeClass:!1,hiddenClass:!1,onClickDisabled:"disabled",onChangePage:!1},t),n=$(e).find("["+i.pItems+"]").length,o=getCurrentBreakPoint(i.itemsAround),r=o-1+0+(o+1-0>0?o+1-0:0),s=0-(2*o+1+(0-n>-o?0-n:-o));return 0<n-o&&$(e).find("["+i.pItems+"]:gt("+r+")").addClass(i.hiddenClass),0>o+1&&$(e).find("["+i.pItems+"]:lt("+s+")").addClass(i.hiddenClass),$(e).not("[disabled]").on(tapEvent,"["+i.pItems+"]:not(."+i.activeClass+")",(function(){$(e).setAttrib("disabled");let t=this,r=$(t).index()-1,s=($("["+i.pItems+"]."+i.activeClass),$(t).attr(i.pItems)),a=r+(o-1)+(o+1-r>0?o+1-r:0),l=r-(2*o+1+(r-n>-o?r-n:-o));localStorage.setItem(i.storageId,$(t).index()-2),$("["+i.pItems+"]."+i.activeClass).removeClass(i.activeClass),$(t).addClass(i.activeClass),$(e).find("["+i.pItems+"]."+i.hiddenClass).removeClass(i.hiddenClass),r<n-o&&$(e).find("["+i.pItems+"]:gt("+a+")").addClass(i.hiddenClass),r>o+1&&$(e).find("["+i.pItems+"]:lt("+l+")").addClass(i.hiddenClass),0==s?($("["+i.pRows+'="prev"]').setAttrib("disabled"),$("["+i.pRows+'="start"]').setAttrib("disabled")):($("["+i.pRows+'="prev"][disabled]').removeAttrib("disabled"),$("["+i.pRows+'="start"][disabled]').removeAttrib("disabled")),$(t).next().attr(i.pItems)?($("["+i.pRows+'="next"][disabled]').removeAttrib("disabled"),$("["+i.pRows+'="end"][disabled]').removeAttrib("disabled")):($("["+i.pRows+'="next"]').setAttrib("disabled"),$("["+i.pRows+'="end"]').setAttrib("disabled")),i.onChangePage(s,(function(){$(e).removeAttrib("disabled")}))})),$(e).not("[disabled]").on(tapEvent,"["+i.pRows+"]",(function(){$(e).setAttrib("disabled");let t=$(this).attr(i.pRows),a=$(e).find("["+i.pItems+"]."+i.activeClass).attr(i.pItems),l="prev"==t?parseInt(a)-1:"next"==t?parseInt(a)+1:"start"==t?0:"end"==t?n-1:0;nextItem=$(e).find("["+i.pItems+'="'+l+'"]'),page=$(nextItem).attr(i.pItems),index=$(nextItem).index()-1,r=index+(o-1)+(o+1-index>0?o+1-index:0),s=index-(2*o+1+(index-n>-o?index-n:-o)),localStorage.setItem(i.storageId,l),$(e).find("["+i.pItems+"]."+i.activeClass).removeClass(i.activeClass),$(nextItem).addClass(i.activeClass),$(e).find("["+i.pItems+"]."+i.hiddenClass).removeClass(i.hiddenClass),index<n-o&&$(e).find("["+i.pItems+"]:gt("+r+")").addClass(i.hiddenClass),index>o+1&&$(e).find("["+i.pItems+"]:lt("+s+")").addClass(i.hiddenClass),"prev"!=t&&"start"!=t||0!=$(nextItem).attr(i.pItems)?($("["+i.pRows+'="prev"][disabled]').removeAttrib("disabled"),$("["+i.pRows+'="start"][disabled]').removeAttrib("disabled")):($("["+i.pRows+'="prev"]').setAttrib("disabled"),$("["+i.pRows+'="start"]').setAttrib("disabled")),"next"!=t&&"end"!=t||$(nextItem).next().attr(i.pItems)?($("["+i.pRows+'="next"][disabled]').removeAttrib("disabled"),$("["+i.pRows+'="end"][disabled]').removeAttrib("disabled")):($("["+i.pRows+'="next"]').setAttrib("disabled"),$("["+i.pRows+'="end"]').setAttrib("disabled")),i.onChangePage(page,(function(){$(e).removeAttrib("disabled")}))})),{getIndex:function(){return localStorage.getItem(i.storageId)}}},ddrPhonecodes=function(){var t={rus:{code:7,flag:"russia",title:"Россия"},ukr:{code:380,flag:"ukraine",title:"Украина"},kaz:{code:7,flag:"kazakhstan",title:"Казахстан"},bel:{code:375,flag:"belarus",title:"Белоруссия"},uzb:{code:998,flag:"uzbekistan",title:"Узбекистан"},azr:{code:994,flag:"azerbaijan",title:"Азербайджан"},arm:{code:374,flag:"armenia",title:"Армения"},kyr:{code:996,flag:"kyrgyzstan",title:"Киргизия"},mol:{code:373,flag:"moldova",title:"Молдавия"},taj:{code:992,flag:"tajikistan",title:"Таджикистан"}},e={};$.each(t,(function(t,i){e[i.code]=t})),$("body").find("[multicode]:not(.multicoded)").each((function(){var i,n=this,o=$(n).attr("multicode")||"rus",r=$(n).val(),s="";if(!$(n).is(":visible"))return!0;if($(n).addClass("multicoded"),$(n).parent(".field").length>0?$(n).parent(".field").addClass("multicode"):$(n).wrap('<div class="multicode"></div>'),i=$(n).closest(".multicode"),r){var a=r.split(" ")[0].substr(1)||7;o=7==a&&/\+7 \([7]/.test(r)?"kaz":7==a&&0==/\+7 \([7]/.test(r)?"rus":e[a]||"rus"}else o="rus";s+='<div touch="opened" class="multicode__choose">',s+='<div class="icon"><img src="'+location.origin+"/public/images/flags/"+t[o].flag+'.png" title="'+t[o].title+'" /></div>',s+='<i class="fa fa-chevron-down"></i>',s+="</div>",s+='<ul class="multicode__list">',$.each(t,(function(t,e){s+='<li data-icon="'+e.flag+'.png" data-code="'+e.code+'" data-title="'+e.title+'"><div class="icon"><img src="'+location.origin+"/public/images/flags/"+e.flag+'.png" title="'+e.title+'" /></div><span>'+e.title+"</span></li>"})),s+="</ul>",$(i).append(s),$(i).find(".multicode__list").css("top",$(i).outerHeight()+2+"px"),$(n).mask("+"+t[o].code+" (^^^) ^^^-^^-^^",{autoclear:!1}).attr({placeholder:"+"+t[o].code+" (___) ___-__-__"}),$(i).find(".multicode__list li").on(tapEvent,(function(){var t=$(this).data("icon"),e=$(this).data("code"),o=$(this).data("title");$(n).removeClass("error"),$(i).find(".multicode__choose img").attr("src",location.origin+"/public/images/flags/"+t).attr("title",o),$(n).mask("+"+e+" (^^^) ^^^-^^-^^",{autoclear:!1}).attr({placeholder:"+"+("^"==e?"_":e)+" (___) ___-__-__"}),$(n).val("").focus(),$(i).removeClass("opened").addClass("changed")}))}))},ddrPopUp=function(t,e){return new DdrPopUp(t,e)},$.fn.ddrPopUp=function(t,e){$(this).on(tapEvent,(function(){return new DdrPopUp(t,e)}))},$(document).ready((function(){var t,e,i,n,o,r=[];if(0==$("body").find("[data-scroll-block]").length||0==$("body").find("[data-scroll-nav]").length)return!1;function s(t){$("[data-scroll-nav]").removeClass("active"),$("[data-scroll-nav = "+t+"]").addClass("active"),n=$("[data-scroll-nav = "+t+"]").data("scroll-hash"),location.hash!=(o=""!=n&&"#"!=n?"#"+n:"")&&history.replaceState({},"scrollNavHash",location.origin+location.pathname+location.search+o)}t=function(){var t;r=[],$("body").find("[data-scroll-block]").each((function(){t=null!=$("[data-scroll-nav="+$(this).data("scroll-block")+"]").data("scroll-pos")?parseInt($("[data-scroll-nav="+$(this).data("scroll-block")+"]").data("scroll-pos")):0,r.push({block:$(this).data("scroll-block"),pos:$(this).offset().top+t})}))},$(window).on("scrollstart resize",(function(e){clearTimeout(i),"resize"==e.type?i=setTimeout((function(){t()}),200):t()})),setTimeout((function(){t(),e=$(window).scrollTop()+100,$.each(r,(function(t,i){t+1<r.length&&e>=i.pos&&e<r[t+1].pos?s(i.block):t+1==r.length&&e>=r[r.length-1].pos&&s(r[r.length-1].block)}))}),100),$(window).on("scrollstop",{latency:100},(function(){e=$(window).scrollTop()+100,$.each(r,(function(t,i){t+1<r.length&&e>=i.pos&&e<r[t+1].pos?s(i.block):t+1==r.length&&e>=r[r.length-1].pos&&s(r[r.length-1].block)}))}));$("body").find("[data-scroll-nav]").on("tap",(function(t){t.preventDefault();var e,i,n;e=$(this).data("scroll-nav"),i=600,n=$("[data-scroll-block="+e+"]").offset().top,$("body").off("mousewheel"),$("body").on("mousewheel",(function(){$("html, body").stop()})),n!=$(window).scrollTop()?$("html, body").stop().animate({scrollTop:n},i,"easeInOutQuart",(function(){$("body").off("mousewheel")})):$("body").off("mousewheel")}))})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){var e=t.event.dispatch||t.event.handle,i=t.event.special,n="D"+ +new Date,o="D"+(+new Date+1);i.scrollstart={setup:function(o){var r,s=t.extend({latency:i.scrollstop.latency},o),a=function(t){var i=arguments;r?clearTimeout(r):(t.type="scrollstart",e.apply(this,i)),r=setTimeout((function(){r=null}),s.latency)};t(this).bind("scroll",a).data(n,a)},teardown:function(){t(this).unbind("scroll",t(this).data(n))}},i.scrollstop={latency:250,setup:function(n){var r,s=t.extend({latency:i.scrollstop.latency},n),a=function(t){var i=this,n=arguments;r&&clearTimeout(r),r=setTimeout((function(){r=null,t.type="scrollstop",e.apply(i,n)}),s.latency)};t(this).bind("scroll",a).data(o,a)},teardown:function(){t(this).unbind("scroll",t(this).data(o))}}})),ddrScrollEnd=function(t,e){ddrScrEnd(!0,t,e)},$.fn.ddrScrollEnd=function(t,e){ddrScrEnd(this,t,e)},$.fn.ddrScrollTable=function(t,e,i,n,o){var r=this,s=$(r).find(n||"thead");t=t||50,e=e||100;if(!$(r).length||!$(s).length)return!1;null!=i&&1==i&&$(r).mousewheel((function(i){i.preventDefault(),$(this).stop(!1,!0).animate({scrollLeft:$(this).scrollLeft()+t*-i.deltaY},e)})),$(r).scroll((function(t){var e=$(this).scrollTop();$(s).css("transform","translateY("+e+"px)")})),$(r).mousedown((function(t){var e=!0;(o&&$(this).find(o+":hover").length>0||$(this).find("input:hover").length>0)&&(e=!1),$(r).children().css("cursor","e-resize");var i=this.scrollLeft+t.pageX;$(r).mousemove((function(t){e&&(this.scrollLeft=i-t.pageX)}))})),$(window).mouseup((function(){$(r).children().css("cursor","default"),$(r).off("mousemove")}))},$.fn.ddrScrollX=function(t,e,i){var n=this;t=t||50,e=e||100;null!=i&&1==i&&$(n).mousewheel((function(i){i.preventDefault(),$(this).stop(!1,!0).animate({scrollLeft:$(this).scrollLeft()+t*-i.deltaY},e)})),$(n).mousedown((function(t){$(n).children().css("cursor","e-resize");var e=this.scrollLeft+t.pageX;$(n).mousemove((function(t){return this.scrollLeft=e-t.pageX,!1}))})),$(window).mouseup((function(){$(n).children().css("cursor","default"),$(n).off("mousemove")}))},ddrSort=function(t){var e,i=$(t).attr("ddrsort"),n=$(t).attr("ddrsortgroup"),o=$(t).attr("ddrorder"),r=$("body").find("[ddrsort-"+i+"]"),s=$("[ddrsort-"+i+"]").parent();null!=n?($("body").find('[ddrsortgroup="'+n+'"].ddrsortactive').removeClass("ddrsortactive"),$("body").find('[ddrsortgroup="'+n+'"][ddrorder]').removeAttrib("ddrorder")):($("body").find("[ddrsort]").removeClass("ddrsortactive"),$("body").find("[ddrsort]").removeAttrib("ddrorder")),$(t).addClass("ddrsortactive"),null==o?(e="desc",$(t).setAttrib("ddrorder","asc")):(e=o,$(t).setAttrib("ddrorder","desc"==o?"asc":"desc")),r.sort((function(t,n){var o=$(t).attr("ddrsort-"+i),r=$(n).attr("ddrsort-"+i);if(!isInt(o)&&!isFloat(o)||!isInt(r)&&!isFloat(r)){var s=/([^\d]+|\d+)/gi;if("desc"==e)var a=r.match(s),l=o.match(s);else if("asc"==e)a=o.match(s),l=r.match(s);for(var c=0,d=Math.min(a.length,l.length);c<d;c++){var u=a[c],h=l[c];if(u!==h)return isNaN(+u)||isNaN(+h)?u>h?1:-1:+u-h}return 0}if(o=parseInt(o),r=parseInt(r),"desc"==e){if(o<r)return 1;if(o==r)return 0;if(o>r)return-1}else if("asc"==e){if(o<r)return-1;if(o==r)return 0;if(o>r)return 1}})),$(s).html(""),$.each(r,(function(t,e){$(s).append(e)}))},ddrTabs=function(t,e,i){$("body").off(tapEvent,"["+t+"]").on(tapEvent,"["+t+"]",(function(){var n=this,o=$(n).attr(t),r=$("["+e+'="'+o+'"]'),s=$("["+e+"]"),a=$(n).siblings();0==$(n).hasClass("active")&&0==$(r).hasClass("visible")&&($(a).filter(".active").removeClass("active"),$(n).addClass("active"),$(s).filter(".visible").removeClass("visible"),$(r).addClass("visible"),i&&"function"==typeof i&&i(n,r))}))},$.fn.ddrUnitHeight=function(t,e){var i=e||0,n=$(this).find(t);$(this).ready((function(){$(n).each((function(){var t=$(this).height();t>i&&(i=t)})),$(n).height(i)}))}
/**
 * simplemde v1.11.2
 * Copyright Next Step Webs, Inc.
 * @link https://github.com/NextStepWebs/simplemde-markdown-editor
 * @license MIT
 */,function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SimpleMDE=t()}}((function(){return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[s]={exports:{}};e[s][0].call(d.exports,(function(t){var i=e[s][1][t];return o(i||t)}),d,d.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";function n(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function o(t,e,i){for(var o,r=[],s=e;i>s;s+=3)o=(t[s]<<16)+(t[s+1]<<8)+t[s+2],r.push(n(o));return r.join("")}i.toByteArray=function(t){var e,i,n,o,r,l,c=t.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");r="="===t[c-2]?2:"="===t[c-1]?1:0,l=new a(3*c/4-r),n=r>0?c-4:c;var d=0;for(e=0,i=0;n>e;e+=4,i+=3)o=s[t.charCodeAt(e)]<<18|s[t.charCodeAt(e+1)]<<12|s[t.charCodeAt(e+2)]<<6|s[t.charCodeAt(e+3)],l[d++]=o>>16&255,l[d++]=o>>8&255,l[d++]=255&o;return 2===r?(o=s[t.charCodeAt(e)]<<2|s[t.charCodeAt(e+1)]>>4,l[d++]=255&o):1===r&&(o=s[t.charCodeAt(e)]<<10|s[t.charCodeAt(e+1)]<<4|s[t.charCodeAt(e+2)]>>2,l[d++]=o>>8&255,l[d++]=255&o),l},i.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s="",a=[],l=16383,c=0,d=i-n;d>c;c+=l)a.push(o(t,c,c+l>d?d:c+l));return 1===n?(e=t[i-1],s+=r[e>>2],s+=r[e<<4&63],s+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],s+=r[e>>10],s+=r[e>>4&63],s+=r[e<<2&63],s+="="),a.push(s),a.join("")};var r=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array;!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;64>e;++e)r[e]=t[e],s[t.charCodeAt(e)]=e;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}()},{}],2:[function(t,e,i){},{}],3:[function(t,e,i){(function(e){"use strict";function n(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=r.prototype:(null===t&&(t=new r(e)),t.length=e),t}function r(t,e,i){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return s(this,t,e,i)}function s(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,0>i||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),r.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=r.prototype):t=c(t,e),t}(t,e,i,n):"string"==typeof e?function(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!r.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|u(e,i);return t=o(t,n),t.write(e,i),t}(t,e,i):function(t,e){if(r.isBuffer(e)){var i=0|d(e.length);return 0===(t=o(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?o(t,0):c(t,e);if("Buffer"===e.type&&B(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number')}function l(t,e){if(a(e),t=o(t,0>e?0:0|d(e)),!r.TYPED_ARRAY_SUPPORT)for(var i=0;e>i;i++)t[i]=0;return t}function c(t,e){var i=0|d(e.length);t=o(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function u(t,e){if(r.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return P(t).length;default:if(n)return N(t).length;e=(""+e).toLowerCase(),n=!0}}function h(t,e,i){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),0>=i)return"";if((e>>>=0)>=(i>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,i);case"utf8":case"utf-8":return k(this,e,i);case"ascii":return C(this,e,i);case"binary":return S(this,e,i);case"base64":return x(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function p(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function f(t,e,i,n){function o(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}var r=1,s=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;r=2,s/=2,a/=2,i/=2}for(var l=-1,c=0;s>i+c;c++)if(o(t,i+c)===o(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===a)return(i+l)*r}else-1!==l&&(c-=c-l),l=-1;return-1}function g(t,e,i,n){i=Number(i)||0;var o=t.length-i;n?(n=Number(n))>o&&(n=o):n=o;var r=e.length;if(r%2!=0)throw new Error("Invalid hex string");n>r/2&&(n=r/2);for(var s=0;n>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}function m(t,e,i,n){return j(N(e,t.length-i),t,i,n)}function v(t,e,i,n){return j(function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function y(t,e,i,n){return v(t,e,i,n)}function b(t,e,i,n){return j(P(e),t,i,n)}function w(t,e,i,n){return j(function(t,e){for(var i,n,o,r=[],s=0;s<t.length&&!((e-=2)<0);s++)i=t.charCodeAt(s),n=i>>8,o=i%256,r.push(o),r.push(n);return r}(e,t.length-i),t,i,n)}function x(t,e,i){return 0===e&&i===t.length?H.fromByteArray(t):H.fromByteArray(t.slice(e,i))}function k(t,e,i){i=Math.min(t.length,i);for(var n=[],o=e;i>o;){var r,s,a,l,c=t[o],d=null,u=c>239?4:c>223?3:c>191?2:1;if(i>=o+u)switch(u){case 1:128>c&&(d=c);break;case 2:128==(192&(r=t[o+1]))&&((l=(31&c)<<6|63&r)>127&&(d=l));break;case 3:r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&((l=(15&c)<<12|(63&r)<<6|63&s)>2047&&(55296>l||l>57343)&&(d=l));break;case 4:r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&((l=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&1114112>l&&(d=l))}null===d?(d=65533,u=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),o+=u}return function(t){var e=t.length;if(R>=e)return String.fromCharCode.apply(String,t);for(var i="",n=0;e>n;)i+=String.fromCharCode.apply(String,t.slice(n,n+=R));return i}(n)}function C(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;i>o;o++)n+=String.fromCharCode(127&t[o]);return n}function S(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;i>o;o++)n+=String.fromCharCode(t[o]);return n}function T(t,e,i){var n=t.length;(!e||0>e)&&(e=0),(!i||0>i||i>n)&&(i=n);for(var o="",r=e;i>r;r++)o+=O(t[r]);return o}function _(t,e,i){for(var n=t.slice(e,i),o="",r=0;r<n.length;r+=2)o+=String.fromCharCode(n[r]+256*n[r+1]);return o}function A(t,e,i){if(t%1!=0||0>t)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,i,n,o,s){if(!r.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||s>e)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function E(t,e,i,n){0>e&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-i,2);r>o;o++)t[i+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function M(t,e,i,n){0>e&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-i,4);r>o;o++)t[i+o]=e>>>8*(n?o:3-o)&255}function I(t,e,i,n,o,r){if(i+n>t.length)throw new RangeError("Index out of range");if(0>i)throw new RangeError("Index out of range")}function $(t,e,i,n,o){return o||I(t,0,i,4),F.write(t,e,i,n,23,4),i+4}function L(t,e,i,n,o){return o||I(t,0,i,8),F.write(t,e,i,n,52,8),i+8}function O(t){return 16>t?"0"+t.toString(16):t.toString(16)}function N(t,e){e=e||1/0;for(var i,n=t.length,o=null,r=[],s=0;n>s;s++){if((i=t.charCodeAt(s))>55295&&57344>i){if(!o){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&r.push(239,191,189);continue}o=i;continue}if(56320>i){(e-=3)>-1&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,128>i){if((e-=1)<0)break;r.push(i)}else if(2048>i){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(65536>i){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(1114112>i))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function P(t){return H.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,i,n){for(var o=0;n>o&&!(o+i>=e.length||o>=t.length);o++)e[o+i]=t[o];return o}var H=t("base64-js"),F=t("ieee754"),B=t("isarray");i.Buffer=r,i.SlowBuffer=function(t){return+t!=t&&(t=0),r.alloc(+t)},i.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),i.kMaxLength=n(),r.poolSize=8192,r._augment=function(t){return t.__proto__=r.prototype,t},r.from=function(t,e,i){return s(null,t,e,i)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(t,e,i){return function(t,e,i,n){return a(e),0>=e?o(t,e):void 0!==i?"string"==typeof n?o(t,e).fill(i,n):o(t,e).fill(i):o(t,e)}(null,t,e,i)},r.allocUnsafe=function(t){return l(null,t)},r.allocUnsafeSlow=function(t){return l(null,t)},r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,o=0,s=Math.min(i,n);s>o;++o)if(t[o]!==e[o]){i=t[o],n=e[o];break}return n>i?-1:i>n?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!B(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return r.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;i++)e+=t[i].length;var n=r.allocUnsafe(e),o=0;for(i=0;i<t.length;i++){var s=t[i];if(!r.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},r.byteLength=u,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;t>e;e+=2)p(this,e,e+1);return this},r.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;t>e;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},r.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):h.apply(this,arguments)},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t,e,i,n,o){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),0>e||i>t.length||0>n||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=i)return 0;if(n>=o)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(o>>>=0)-(n>>>=0),a=(i>>>=0)-(e>>>=0),l=Math.min(s,a),c=this.slice(n,o),d=t.slice(e,i),u=0;l>u;++u)if(c[u]!==d[u]){s=c[u],a=d[u];break}return a>s?-1:s>a?1:0},r.prototype.indexOf=function(t,e,i){if("string"==typeof e?(i=e,e=0):e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t&&(t=r.from(t,i)),r.isBuffer(t))return 0===t.length?-1:f(this,t,e,i);if("number"==typeof t)return r.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):f(this,[t],e,i);throw new TypeError("val must be string, number or Buffer")},r.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},r.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-e;if((void 0===i||i>o)&&(i=o),t.length>0&&(0>i||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return g(this,t,e,i);case"utf8":case"utf-8":return m(this,t,e,i);case"ascii":return v(this,t,e,i);case"binary":return y(this,t,e,i);case"base64":return b(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;r.prototype.slice=function(t,e){var i,n=this.length;if(0>(t=~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),0>(e=void 0===e?n:~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),t>e&&(e=t),r.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=r.prototype;else{var o=e-t;i=new r(o,void 0);for(var s=0;o>s;s++)i[s]=this[s+t]}return i},r.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||A(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return n},r.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||A(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},r.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||A(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},r.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||A(t,e,this.length);for(var n=e,o=1,r=this[t+--n];n>0&&(o*=256);)r+=this[t+--n]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},r.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},r.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},r.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),F.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),F.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),F.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),F.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||D(this,t,e,i,Math.pow(2,8*i)-1,0);var o=1,r=0;for(this[e]=255&t;++r<i&&(o*=256);)this[e+r]=t/o&255;return e+i},r.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||D(this,t,e,i,Math.pow(2,8*i)-1,0);var o=i-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+i},r.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},r.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):E(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):E(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},r.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*i-1);D(this,t,e,i,o-1,-o)}var r=0,s=1,a=0;for(this[e]=255&t;++r<i&&(s*=256);)0>t&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s|0)-a&255;return e+i},r.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*i-1);D(this,t,e,i,o-1,-o)}var r=i-1,s=1,a=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)0>t&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s|0)-a&255;return e+i},r.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},r.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):E(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):E(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,i){return $(this,t,e,!0,i)},r.prototype.writeFloatBE=function(t,e,i){return $(this,t,e,!1,i)},r.prototype.writeDoubleLE=function(t,e,i){return L(this,t,e,!0,i)},r.prototype.writeDoubleBE=function(t,e,i){return L(this,t,e,!1,i)},r.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&i>n&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var o,s=n-i;if(this===t&&e>i&&n>e)for(o=s-1;o>=0;o--)t[o+e]=this[o+i];else if(1e3>s||!r.TYPED_ARRAY_SUPPORT)for(o=0;s>o;o++)t[o+e]=this[o+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},r.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var o=t.charCodeAt(0);256>o&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!r.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<i)throw new RangeError("Out of range index");if(e>=i)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;i>s;s++)this[s]=t;else{var a=r.isBuffer(t)?t:N(new r(t,n).toString()),l=a.length;for(s=0;i-e>s;s++)this[s+e]=a[s%l]}return this};var z=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(t,e,i){"use strict";function n(t){return"function"!=typeof(t=t||{}).codeMirrorInstance||"function"!=typeof t.codeMirrorInstance.defineMode?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),void t.codeMirrorInstance.defineMode("spell-checker",(function(e){if(!n.aff_loading){n.aff_loading=!0;var i=new XMLHttpRequest;i.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),i.onload=function(){4===i.readyState&&200===i.status&&(n.aff_data=i.responseText,n.num_loaded++,2==n.num_loaded&&(n.typo=new o("en_US",n.aff_data,n.dic_data,{platform:"any"})))},i.send(null)}if(!n.dic_loading){n.dic_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),r.onload=function(){4===r.readyState&&200===r.status&&(n.dic_data=r.responseText,n.num_loaded++,2==n.num_loaded&&(n.typo=new o("en_US",n.aff_data,n.dic_data,{platform:"any"})))},r.send(null)}var s='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(t){var e=t.peek(),i="";if(s.includes(e))return t.next(),null;for(;null!=(e=t.peek())&&!s.includes(e);)i+=e,t.next();return n.typo&&!n.typo.check(i)?"spell-error":null}},l=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(l,a,!0)})))}var o=t("typo-js");n.num_loaded=0,n.aff_loading=!1,n.dic_loading=!1,n.aff_data="",n.dic_data="",n.typo,e.exports=n},{"typo-js":18}],5:[function(t,e,i){var n;n=function(t){"use strict";t.defineOption("fullScreen",!1,(function(e,i,n){n==t.Init&&(n=!1),!n!=!i&&(i?function(t){var e=t.getWrapperElement();t.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:e.style.width,height:e.style.height},e.style.width="",e.style.height="auto",e.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",t.refresh()}(e):function(t){var e=t.getWrapperElement();e.className=e.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var i=t.state.fullScreenRestore;e.style.width=i.width,e.style.height=i.height,window.scrollTo(i.scrollLeft,i.scrollTop),t.refresh()}(e))}))},n("object"==typeof i&&"object"==typeof e?t("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],6:[function(t,e,i){var n;n=function(t){function e(t){t.state.placeholder&&(t.state.placeholder.parentNode.removeChild(t.state.placeholder),t.state.placeholder=null)}function i(t){e(t);var i=t.state.placeholder=document.createElement("pre");i.style.cssText="height: 0; overflow: visible",i.className="CodeMirror-placeholder";var n=t.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),i.appendChild(n),t.display.lineSpace.insertBefore(i,t.display.lineSpace.firstChild)}function n(t){r(t)&&i(t)}function o(t){var n=t.getWrapperElement(),o=r(t);n.className=n.className.replace(" CodeMirror-empty","")+(o?" CodeMirror-empty":""),o?i(t):e(t)}function r(t){return 1===t.lineCount()&&""===t.getLine(0)}t.defineOption("placeholder","",(function(i,r,s){var a=s&&s!=t.Init;if(r&&!a)i.on("blur",n),i.on("change",o),i.on("swapDoc",o),o(i);else if(!r&&a){i.off("blur",n),i.off("change",o),i.off("swapDoc",o),e(i);var l=i.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}r&&!i.hasFocus()&&n(i)}))},n("object"==typeof i&&"object"==typeof e?t("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],7:[function(t,e,i){var n;n=function(t){"use strict";var e=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,n=/[*+-]\s/;t.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return t.Pass;for(var r=o.listSelections(),s=[],a=0;a<r.length;a++){var l=r[a].head,c=o.getStateAfter(l.line),d=!1!==c.list,u=0!==c.quote,h=o.getLine(l.line),p=e.exec(h);if(!r[a].empty()||!d&&!u||!p)return void o.execCommand("newlineAndIndent");if(i.test(h))o.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),s[a]="\n";else{var f=p[1],g=p[5],m=n.test(p[2])||p[2].indexOf(">")>=0?p[2]:parseInt(p[3],10)+1+p[4];s[a]="\n"+f+m+g}}o.replaceSelections(s)}},n("object"==typeof i&&"object"==typeof e?t("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],8:[function(t,e,i){var n;n=function(t){"use strict";t.overlayMode=function(e,i,n){return{startState:function(){return{base:t.startState(e),overlay:t.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:t.copyState(e,n.base),overlay:t.copyState(i,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(t,o){return(t!=o.streamSeen||Math.min(o.basePos,o.overlayPos)<t.start)&&(o.streamSeen=t,o.basePos=o.overlayPos=t.start),t.start==o.basePos&&(o.baseCur=e.token(t,o.base),o.basePos=t.pos),t.start==o.overlayPos&&(t.pos=t.start,o.overlayCur=i.token(t,o.overlay),o.overlayPos=t.pos),t.pos=Math.min(o.basePos,o.overlayPos),null==o.overlayCur?o.baseCur:null!=o.baseCur&&o.overlay.combineTokens||n&&null==o.overlay.combineTokens?o.baseCur+" "+o.overlayCur:o.overlayCur},indent:e.indent&&function(t,i){return e.indent(t.base,i)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(t){e.blankLine&&e.blankLine(t.base),i.blankLine&&i.blankLine(t.overlay)}}}},n("object"==typeof i&&"object"==typeof e?t("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],9:[function(t,e,i){var n;n=function(t){"use strict";function e(t){t.operation((function(){!function(t){if(!t.somethingSelected())return o(t);if(t.listSelections().length>1)return r(t);var e=t.getCursor("start"),i=t.getCursor("end"),a=t.state.markedSelection;if(!a.length)return n(t,e,i);var c=a[0].find(),d=a[a.length-1].find();if(!c||!d||i.line-e.line<s||l(e,d.to)>=0||l(i,c.from)<=0)return r(t);for(;l(e,c.from)>0;)a.shift().clear(),c=a[0].find();for(l(e,c.from)<0&&(c.to.line-e.line<s?(a.shift().clear(),n(t,e,c.to,0)):n(t,e,c.from,0));l(i,d.to)<0;)a.pop().clear(),d=a[a.length-1].find();l(i,d.to)>0&&(i.line-d.from.line<s?(a.pop().clear(),n(t,d.from,i)):n(t,d.to,i))}(t)}))}function i(t){t.state.markedSelection.length&&t.operation((function(){o(t)}))}function n(t,e,i,n){if(0!=l(e,i))for(var o=t.state.markedSelection,r=t.state.markedSelectionStyle,c=e.line;;){var d=c==e.line?e:a(c,0),u=c+s,h=u>=i.line,p=h?i:a(u,0),f=t.markText(d,p,{className:r});if(null==n?o.push(f):o.splice(n++,0,f),h)break;c=u}}function o(t){for(var e=t.state.markedSelection,i=0;i<e.length;++i)e[i].clear();e.length=0}function r(t){o(t);for(var e=t.listSelections(),i=0;i<e.length;i++)n(t,e[i].from(),e[i].to())}t.defineOption("styleSelectedText",!1,(function(n,s,a){var l=a&&a!=t.Init;s&&!l?(n.state.markedSelection=[],n.state.markedSelectionStyle="string"==typeof s?s:"CodeMirror-selectedtext",r(n),n.on("cursorActivity",e),n.on("change",i)):!s&&l&&(n.off("cursorActivity",e),n.off("change",i),o(n),n.state.markedSelection=n.state.markedSelectionStyle=null)}));var s=8,a=t.Pos,l=t.cmpPos},n("object"==typeof i&&"object"==typeof e?t("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],10:[function(t,e,i){!function(t){"object"==typeof i&&"object"==typeof e?e.exports=t():(this||window).CodeMirror=t()}((function(){"use strict";function t(i,n){if(!(this instanceof t))return new t(i,n);this.options=n=n?qn(n):{},qn(or,n,!1),h(n);var o=n.value;"string"==typeof o&&(o=new Dr(o,n.mode,null,n.lineSeparator)),this.doc=o;var r=new t.inputStyles[n.inputStyle](this),a=this.display=new e(i,o,r);a.wrapper.CodeMirror=this,l(this),s(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Lo&&a.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Fn,keySeq:null,specialChars:null};var c=this;for(var d in Co&&11>So&&setTimeout((function(){c.display.input.reset(!0)}),20),function(t){function e(){o.activeTouch&&(r=setTimeout((function(){o.activeTouch=null}),1e3),(s=o.activeTouch).end=+new Date)}function i(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function n(t,e){if(null==e.left)return!0;var i=e.left-t.left,n=e.top-t.top;return i*i+n*n>400}var o=t.display;Or(o.scroller,"mousedown",me(t,Me)),Or(o.scroller,"dblclick",Co&&11>So?me(t,(function(e){if(!Nn(t,e)){var i=Ee(t,e);if(i&&!$e(t,e)&&!De(t.display,e)){Ir(e);var n=t.findWordAt(i);ft(t.doc,n.anchor,n.head)}}})):function(e){Nn(t,e)||Ir(e)}),Fo||Or(o.scroller,"contextmenu",(function(e){qe(t,e)}));var r,s={end:0};Or(o.scroller,"touchstart",(function(e){if(!Nn(t,e)&&!i(e)){clearTimeout(r);var n=+new Date;o.activeTouch={start:n,moved:!1,prev:n-s.end<=300?s:null},1==e.touches.length&&(o.activeTouch.left=e.touches[0].pageX,o.activeTouch.top=e.touches[0].pageY)}})),Or(o.scroller,"touchmove",(function(){o.activeTouch&&(o.activeTouch.moved=!0)})),Or(o.scroller,"touchend",(function(i){var r=o.activeTouch;if(r&&!De(o,i)&&null!=r.left&&!r.moved&&new Date-r.start<300){var s,a=t.coordsChar(o.activeTouch,"page");s=!r.prev||n(r,r.prev)?new st(a,a):!r.prev.prev||n(r,r.prev.prev)?t.findWordAt(a):new st(zo(a.line,0),dt(t.doc,zo(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),Ir(i)}e()})),Or(o.scroller,"touchcancel",e),Or(o.scroller,"scroll",(function(){o.scroller.clientHeight&&(Ne(t,o.scroller.scrollTop),Pe(t,o.scroller.scrollLeft,!0),jr(t,"scroll",t))})),Or(o.scroller,"mousewheel",(function(e){je(t,e)})),Or(o.scroller,"DOMMouseScroll",(function(e){je(t,e)})),Or(o.wrapper,"scroll",(function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0})),o.dragFunctions={enter:function(e){Nn(t,e)||Lr(e)},over:function(e){Nn(t,e)||(function(t,e){var i=Ee(t,e);if(i){var n=document.createDocumentFragment();Et(t,i,n),t.display.dragCursor||(t.display.dragCursor=Gn("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Jn(t.display.dragCursor,n)}}(t,e),Lr(e))},start:function(e){!function(t,e){if(Co&&(!t.state.draggingText||+new Date-Go<100))return void Lr(e);if(!Nn(t,e)&&!De(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!Eo)){var i=Gn("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Do&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),Do&&i.parentNode.removeChild(i)}}(t,e)},drop:me(t,Le),leave:function(e){Nn(t,e)||Oe(t)}};var a=o.input.getField();Or(a,"keyup",(function(e){ze.call(t,e)})),Or(a,"keydown",me(t,Re)),Or(a,"keypress",me(t,We)),Or(a,"focus",Xn(Ye,t)),Or(a,"blur",Xn(Ue,t))}(this),ns||(function(){var t;Or(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,no(Ae)}),100))})),Or(window,"blur",(function(){no(Ue)}))}(),ns=!0),le(this),this.curOp.forceUpdate=!0,cn(this,o),n.autofocus&&!Lo||c.hasFocus()?setTimeout(Xn(Ye,this),20):Ue(this),rr)rr.hasOwnProperty(d)&&rr[d](this,n[d],sr);x(this),n.finishInit&&n.finishInit(this);for(var u=0;u<dr.length;++u)dr[u](this);ce(this),To&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function e(t,e,i){var n=this;this.input=i,n.scrollbarFiller=Gn("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Gn("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Gn("div",null,"CodeMirror-code"),n.selectionDiv=Gn("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Gn("div",null,"CodeMirror-cursors"),n.measure=Gn("div",null,"CodeMirror-measure"),n.lineMeasure=Gn("div",null,"CodeMirror-measure"),n.lineSpace=Gn("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Gn("div",[Gn("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Gn("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Gn("div",null,null,"position: absolute; height: "+Fr+"px; width: 1px;"),n.gutters=Gn("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Gn("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Gn("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Co&&8>So&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),To||wo&&Lo||(n.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(n.wrapper):t(n.wrapper)),n.viewFrom=n.viewTo=e.first,n.reportedViewFrom=n.reportedViewTo=e.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}function i(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),n(e)}function n(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.frontier=t.doc.first,$t(t,100),t.state.modeGen++,t.curOp&&xe(t)}function o(t){var e=se(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/ae(t.display)-3);return function(o){if(ji(t.doc,o))return 0;var r=0;if(o.widgets)for(var s=0;s<o.widgets.length;s++)o.widgets[s].height&&(r+=o.widgets[s].height);return i?r+(Math.ceil(o.text.length/n)||1)*e:r+e}}function r(t){var e=t.doc,i=o(t);e.iter((function(t){var e=i(t);e!=t.height&&pn(t,e)}))}function s(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Vt(t)}function a(t){l(t),xe(t),setTimeout((function(){w(t)}),20)}function l(t){var e=t.display.gutters,i=t.options.gutters;Zn(e);for(var n=0;n<i.length;++n){var o=i[n],r=e.appendChild(Gn("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(t.display.lineGutter=r,r.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none",c(t)}function c(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function d(t){if(0==t.height)return 0;for(var e,i=t.text.length,n=t;e=Ii(n);){n=(o=e.find(0,!0)).from.line,i+=o.from.ch-o.to.ch}for(n=t;e=$i(n);){var o=e.find(0,!0);i-=n.text.length-o.from.ch,i+=(n=o.to.line).text.length-o.to.ch}return i}function u(t){var e=t.display,i=t.doc;e.maxLine=dn(i,i.first),e.maxLineLength=d(e.maxLine),e.maxLineChanged=!0,i.iter((function(t){var i=d(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)}))}function h(t){var e=zn(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function p(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+Pt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Ht(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}function f(t,e,i){this.cm=i;var n=this.vert=Gn("div",[Gn("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=Gn("div",[Gn("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(n),t(o),Or(n,"scroll",(function(){n.clientHeight&&e(n.scrollTop,"vertical")})),Or(o,"scroll",(function(){o.clientWidth&&e(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,Co&&8>So&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function m(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&es(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Or(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,i){"horizontal"==i?Pe(e,t):Ne(e,t)}),e),e.display.scrollbars.addClass&&is(e.display.wrapper,e.display.scrollbars.addClass)}function v(t,e){e||(e=p(t));var i=t.display.barWidth,n=t.display.barHeight;y(t,e);for(var o=0;4>o&&i!=t.display.barWidth||n!=t.display.barHeight;o++)i!=t.display.barWidth&&t.options.lineWrapping&&E(t),y(t,p(t)),i=t.display.barWidth,n=t.display.barHeight}function y(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}function b(t,e,i){var n=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-Nt(t));var o=i&&null!=i.bottom?i.bottom:n+t.wrapper.clientHeight,r=gn(e,n),s=gn(e,o);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;r>a?(r=a,s=gn(e,mn(dn(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(r=gn(e,mn(dn(e,l))-t.wrapper.clientHeight),s=l)}return{from:r,to:Math.max(s,r+1)}}function w(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=C(e)-e.scroller.scrollLeft+t.doc.scrollLeft,o=e.gutters.offsetWidth,r=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){t.options.fixedGutter&&i[s].gutter&&(i[s].gutter.style.left=r);var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=r}t.options.fixedGutter&&(e.gutters.style.left=n+o+"px")}}function x(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=k(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var o=n.measure.appendChild(Gn("div",[Gn("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=o.firstChild.offsetWidth,s=o.offsetWidth-r;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(r,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",c(t),!0}return!1}function k(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function C(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function S(t,e,i){var n=t.display;this.viewport=e,this.visible=b(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ft(t),this.force=i,this.dims=I(t),this.events=[]}function T(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return Ce(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==_e(t))return!1;x(t)&&(Ce(t),e.dims=I(t));var o=n.first+n.size,r=Math.max(e.visible.from-t.options.viewportMargin,n.first),s=Math.min(o,e.visible.to+t.options.viewportMargin);i.viewFrom<r&&r-i.viewFrom<20&&(r=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(o,i.viewTo)),Ro&&(r=Ni(t.doc,r),s=Pi(t.doc,s));var a=r!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;(function(t,e,i){var n=t.display,o=n.view;0==o.length||e>=n.viewTo||i<=n.viewFrom?(n.view=we(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=we(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Se(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(we(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Se(t,i)))),n.viewTo=i})(t,r,s),i.viewOffset=mn(dn(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var l=_e(t);if(!a&&0==l&&!e.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=to();return l>4&&(i.lineDiv.style.display="none"),function(t,e,i){function n(e){var i=e.nextSibling;return To&&Oo&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var o=t.display,r=t.options.lineNumbers,s=o.lineDiv,a=s.firstChild,l=o.view,c=o.viewFrom,d=0;d<l.length;d++){var u=l[d];if(u.hidden);else if(u.node&&u.node.parentNode==s){for(;a!=u.node;)a=n(a);var h=r&&null!=e&&c>=e&&u.lineNumber;u.changes&&(zn(u.changes,"gutter")>-1&&(h=!1),$(t,u,c,i)),h&&(Zn(u.lineNumber),u.lineNumber.appendChild(document.createTextNode(k(t.options,c)))),a=u.node.nextSibling}else{var p=F(t,u,c,i);s.insertBefore(p,a)}c+=u.size}for(;a;)a=n(a)}(t,i.updateLineNumbers,e.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,c&&to()!=c&&c.offsetHeight&&c.focus(),Zn(i.cursorDiv),Zn(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,$t(t,400)),i.updateLineNumbers=null,!0}function _(t,e){for(var i=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Ft(t)||(i&&null!=i.top&&(i={top:Math.min(t.doc.height+Pt(t.display)-Bt(t),i.top)}),e.visible=b(t.display,t.doc,i),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&T(t,e);n=!1){E(t);var o=p(t);At(t),v(t,o),D(t,o)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function A(t,e){var i=new S(t,e);if(T(t,i)){E(t),_(t,i);var n=p(t);At(t),v(t,n),D(t,n),i.finish()}}function D(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Ht(t)+"px"}function E(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var o,r=e.view[n];if(!r.hidden){if(Co&&8>So){var s=r.node.offsetTop+r.node.offsetHeight;o=s-i,i=s}else{var a=r.node.getBoundingClientRect();o=a.bottom-a.top}var l=r.line.height-o;if(2>o&&(o=se(e)),(l>.001||-.001>l)&&(pn(r.line,o),M(r.line),r.rest))for(var c=0;c<r.rest.length;c++)M(r.rest[c])}}}function M(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function I(t){for(var e=t.display,i={},n={},o=e.gutters.clientLeft,r=e.gutters.firstChild,s=0;r;r=r.nextSibling,++s)i[t.options.gutters[s]]=r.offsetLeft+r.clientLeft+o,n[t.options.gutters[s]]=r.clientWidth;return{fixedPos:C(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function $(t,e,i,n){for(var o=0;o<e.changes.length;o++){var r=e.changes[o];"text"==r?N(t,e):"gutter"==r?j(t,e,i,n):"class"==r?P(e):"widget"==r&&H(t,e,n)}e.changes=null}function L(t){return t.node==t.text&&(t.node=Gn("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),Co&&8>So&&(t.node.style.zIndex=2)),t.node}function O(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):Gi(t,e)}function N(t,e){var i=e.text.className,n=O(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,P(e)):i&&(e.text.className=i)}function P(t){(function(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var i=L(t);t.background=i.insertBefore(Gn("div",null,e),i.firstChild)}})(t),t.line.wrapClass?L(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function j(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=L(e);e.gutterBackground=Gn("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),o.insertBefore(e.gutterBackground,e.text)}var r=e.line.gutterMarkers;if(t.options.lineNumbers||r){o=L(e);var s=e.gutter=Gn("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),o.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(Gn("div",k(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],c=r.hasOwnProperty(l)&&r[l];c&&s.appendChild(Gn("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function H(t,e,i){e.alignable&&(e.alignable=null);for(var n=e.node.firstChild;n;n=o){var o=n.nextSibling;"CodeMirror-linewidget"==n.className&&e.node.removeChild(n)}B(t,e,i)}function F(t,e,i,n){var o=O(t,e);return e.text=e.node=o.pre,o.bgClass&&(e.bgClass=o.bgClass),o.textClass&&(e.textClass=o.textClass),P(e),j(t,e,i,n),B(t,e,n),e.node}function B(t,e,i){if(R(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)R(t,e.rest[n],e,i,!1)}function R(t,e,i,n,o){if(e.widgets)for(var r=L(i),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=Gn("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),z(l,c,i,n),t.display.input.setUneditable(c),o&&l.above?r.insertBefore(c,i.gutter||i.text):r.appendChild(c),Ln(l,"redraw")}}function z(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var o=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(o-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=o+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function W(t){return zo(t.line,t.ch)}function Y(t,e){return Wo(t,e)<0?e:t}function U(t,e){return Wo(t,e)<0?t:e}function q(t){t.state.focused||(t.display.input.focus(),Ye(t))}function X(t,e,i,n,o){var r=t.doc;t.display.shift=!1,n||(n=r.sel);var s=t.state.pasteIncoming||"paste"==o,a=r.splitLines(e),l=null;if(s&&n.ranges.length>1)if(Yo&&Yo.text.join("\n")==e){if(n.ranges.length%Yo.text.length==0){l=[];for(var c=0;c<Yo.text.length;c++)l.push(r.splitLines(Yo.text[c]))}}else a.length==n.ranges.length&&(l=Wn(a,(function(t){return[t]})));for(c=n.ranges.length-1;c>=0;c--){var d=n.ranges[c],u=d.from(),h=d.to();d.empty()&&(i&&i>0?u=zo(u.line,u.ch-i):t.state.overwrite&&!s?h=zo(h.line,Math.min(dn(r,h.line).text.length,h.ch+Rn(a).length)):Yo&&Yo.lineWise&&Yo.text.join("\n")==e&&(u=h=zo(u.line,0)));var p=t.curOp.updateInput,f={from:u,to:h,text:l?l[c%l.length]:a,origin:o||(s?"paste":t.state.cutIncoming?"cut":"+input")};Ge(t.doc,f),Ln(t,"inputRead",t,f)}e&&!s&&V(t,e),si(t),t.curOp.updateInput=p,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Q(t,e){var i=t.clipboardData&&t.clipboardData.getData("text/plain");return i?(t.preventDefault(),e.isReadOnly()||e.options.disableInput||ge(e,(function(){X(e,i,0,null,"paste")})),!0):void 0}function V(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var o=i.ranges[n];if(!(o.head.ch>100||n&&i.ranges[n-1].head.line==o.head.line)){var r=t.getModeAt(o.head),s=!1;if(r.electricChars){for(var a=0;a<r.electricChars.length;a++)if(e.indexOf(r.electricChars.charAt(a))>-1){s=li(t,o.head.line,"smart");break}}else r.electricInput&&r.electricInput.test(dn(t.doc,o.head.line).text.slice(0,o.head.ch))&&(s=li(t,o.head.line,"smart"));s&&Ln(t,"electricInput",t,o.head.line)}}}function K(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var o=t.doc.sel.ranges[n].head.line,r={anchor:zo(o,0),head:zo(o+1,0)};i.push(r),e.push(t.getRange(r.anchor,r.head))}return{text:e,ranges:i}}function G(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function Z(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Fn,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function J(){var t=Gn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Gn("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return To?t.style.width="1000px":t.setAttribute("wrap","off"),$o&&(t.style.border="1px solid black"),G(t),e}function tt(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Fn,this.gracePeriod=!1}function et(t,e){var i=Wt(t,e.line);if(!i||i.hidden)return null;var n=dn(t.doc,e.line),o=Rt(i,n,e.line),r=vn(n),s="left";r&&(s=fo(r,e.ch)%2?"right":"left");var a=qt(o.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function it(t,e){return e&&(t.bad=!0),t}function nt(t,e,i){var n;if(e==t.display.lineDiv){if(!(n=t.display.lineDiv.childNodes[i]))return it(t.clipPos(zo(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var o=0;o<t.display.view.length;o++){var r=t.display.view[o];if(r.node==n)return ot(r,e,i)}}function ot(t,e,i){function n(e,i,n){for(var o=-1;o<(d?d.length:0);o++)for(var r=0>o?c.map:d[o],s=0;s<r.length;s+=3){var a=r[s+2];if(a==e||a==i){var l=fn(0>o?t.line:t.rest[o]),u=r[s]+n;return(0>n||a!=e)&&(u=r[s+(n?1:0)]),zo(l,u)}}}var o=t.text.firstChild,r=!1;if(!e||!Zr(o,e))return it(zo(fn(t.line),0),!0);if(e==o&&(r=!0,e=o.childNodes[i],i=0,!e)){var s=t.rest?Rn(t.rest):t.line;return it(zo(fn(s),s.text.length),r)}var a=3==e.nodeType?e:null,l=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,i&&(i=a.nodeValue.length));l.parentNode!=o;)l=l.parentNode;var c=t.measure,d=c.maps,u=n(a,l,i);if(u)return it(u,r);for(var h=l.nextSibling,p=a?a.nodeValue.length-i:0;h;h=h.nextSibling){if(u=n(h,h.firstChild,0))return it(zo(u.line,u.ch-p),r);p+=h.textContent.length}var f=l.previousSibling;for(p=i;f;f=f.previousSibling){if(u=n(f,f.firstChild,-1))return it(zo(u.line,u.ch+p),r);p+=h.textContent.length}}function rt(t,e){this.ranges=t,this.primIndex=e}function st(t,e){this.anchor=t,this.head=e}function at(t,e){var i=t[e];t.sort((function(t,e){return Wo(t.from(),e.from())})),e=zn(t,i);for(var n=1;n<t.length;n++){var o=t[n],r=t[n-1];if(Wo(r.to(),o.from())>=0){var s=U(r.from(),o.from()),a=Y(r.to(),o.to()),l=r.empty()?o.from()==o.head:r.from()==r.head;e>=n&&--e,t.splice(--n,2,new st(l?a:s,l?s:a))}}return new rt(t,e)}function lt(t,e){return new rt([new st(t,e||t)],0)}function ct(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function dt(t,e){if(e.line<t.first)return zo(t.first,0);var i=t.first+t.size-1;return e.line>i?zo(i,dn(t,i).text.length):function(t,e){var i=t.ch;return null==i||i>e?zo(t.line,e):0>i?zo(t.line,0):t}(e,dn(t,e.line).text.length)}function ut(t,e){return e>=t.first&&e<t.first+t.size}function ht(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=dt(t,e[n]);return i}function pt(t,e,i,n){if(t.cm&&t.cm.display.shift||t.extend){var o=e.anchor;if(n){var r=Wo(i,o)<0;r!=Wo(n,o)<0?(o=i,i=n):r!=Wo(i,n)<0&&(i=n)}return new st(o,i)}return new st(n||i,i)}function ft(t,e,i,n){bt(t,new rt([pt(t,t.sel.primary(),e,i)],0),n)}function gt(t,e,i){for(var n=[],o=0;o<t.sel.ranges.length;o++)n[o]=pt(t,t.sel.ranges[o],e[o],null);bt(t,at(n,t.sel.primIndex),i)}function mt(t,e,i,n){var o=t.sel.ranges.slice(0);o[e]=i,bt(t,at(o,t.sel.primIndex),n)}function vt(t,e,i,n){bt(t,lt(e,i),n)}function yt(t,e,i){var n=t.history.done,o=Rn(n);o&&o.ranges?(n[n.length-1]=e,wt(t,e,i)):bt(t,e,i)}function bt(t,e,i){wt(t,e,i),function(t,e,i,n){var o=t.history,r=n&&n.origin;i==o.lastSelOp||r&&o.lastSelOrigin==r&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==r||function(t,e,i,n){var o=e.charAt(0);return"*"==o||"+"==o&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,r,Rn(o.done),e))?o.done[o.done.length-1]=e:kn(e,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=r,o.lastSelOp=i,n&&!1!==n.clearRedo&&wn(o.undone)}(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function wt(t,e,i){(jn(t,"beforeSelectionChange")||t.cm&&jn(t.cm,"beforeSelectionChange"))&&(e=function(t,e,i){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var i=0;i<e.length;i++)this.ranges[i]=new st(dt(t,e[i].anchor),dt(t,e[i].head))},origin:i&&i.origin};return jr(t,"beforeSelectionChange",t,n),t.cm&&jr(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?at(n.ranges,n.ranges.length-1):e}(t,e,i));var n=i&&i.bias||(Wo(e.primary().head,t.sel.primary().head)<0?-1:1);xt(t,Ct(t,e,n,!0)),i&&!1===i.scroll||!t.cm||si(t.cm)}function xt(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Pn(t.cm)),Ln(t,"cursorActivity",t))}function kt(t){xt(t,Ct(t,t.sel,null,!1))}function Ct(t,e,i,n){for(var o,r=0;r<e.ranges.length;r++){var s=e.ranges[r],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[r],l=Tt(t,s.anchor,a&&a.anchor,i,n),c=Tt(t,s.head,a&&a.head,i,n);(o||l!=s.anchor||c!=s.head)&&(o||(o=e.ranges.slice(0,r)),o[r]=new st(l,c))}return o?at(o,e.primIndex):e}function St(t,e,i,n,o){var r=dn(t,e.line);if(r.markedSpans)for(var s=0;s<r.markedSpans.length;++s){var a=r.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(o&&(jr(l,"beforeCursorEnter"),l.explicitlyCleared)){if(r.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c,d=l.find(0>n?1:-1);if((0>n?l.inclusiveRight:l.inclusiveLeft)&&(d=_t(t,d,-n,d&&d.line==e.line?r:null)),d&&d.line==e.line&&(c=Wo(d,i))&&(0>n?0>c:c>0))return St(t,d,e,n,o)}var u=l.find(0>n?-1:1);return(0>n?l.inclusiveLeft:l.inclusiveRight)&&(u=_t(t,u,n,u.line==e.line?r:null)),u?St(t,u,e,n,o):null}}return e}function Tt(t,e,i,n,o){var r=n||1,s=St(t,e,i,r,o)||!o&&St(t,e,i,r,!0)||St(t,e,i,-r,o)||!o&&St(t,e,i,-r,!0);return s||(t.cantEdit=!0,zo(t.first,0))}function _t(t,e,i,n){return 0>i&&0==e.ch?e.line>t.first?dt(t,zo(e.line-1)):null:i>0&&e.ch==(n||dn(t,e.line)).text.length?e.line<t.first+t.size-1?zo(e.line+1,0):null:new zo(e.line,e.ch+i)}function At(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Dt(t,e){for(var i=t.doc,n={},o=n.cursors=document.createDocumentFragment(),r=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(!1!==e||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Et(t,a.head,o),l||Mt(t,a,r)}}return n}function Et(t,e,i){var n=ee(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=i.appendChild(Gn("div"," ","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",n.other){var r=i.appendChild(Gn("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=n.other.left+"px",r.style.top=n.other.top+"px",r.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Mt(t,e,i){function n(t,e,i,n){0>e&&(e=0),e=Math.round(e),n=Math.round(n),a.appendChild(Gn("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==i?d-t:i)+"px; height: "+(n-e)+"px"))}function o(e,i,o){function r(i,n){return te(t,zo(e,i),"div",u,n)}var a,l,u=dn(s,e),h=u.text.length;return function(t,e,i,n){if(!t)return n(e,i,"ltr");for(var o=!1,r=0;r<t.length;++r){var s=t[r];(s.from<i&&s.to>e||e==i&&s.to==e)&&(n(Math.max(s.from,e),Math.min(s.to,i),1==s.level?"rtl":"ltr"),o=!0)}o||n(e,i,"ltr")}(vn(u),i||0,null==o?h:o,(function(t,e,s){var u,p,f,g=r(t,"left");if(t==e)u=g,p=f=g.left;else{if(u=r(e-1,"right"),"rtl"==s){var m=g;g=u,u=m}p=g.left,f=u.right}null==i&&0==t&&(p=c),u.top-g.top>3&&(n(p,g.top,null,g.bottom),p=c,g.bottom<u.top&&n(p,g.bottom,null,u.top)),null==o&&e==h&&(f=d),(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g),(!l||u.bottom>l.bottom||u.bottom==l.bottom&&u.right>l.right)&&(l=u),c+1>p&&(p=c),n(p,u.top,f-p,u.bottom)})),{start:a,end:l}}var r=t.display,s=t.doc,a=document.createDocumentFragment(),l=jt(t.display),c=l.left,d=Math.max(r.sizerWidth,Ft(t)-r.sizer.offsetLeft)-l.right,u=e.from(),h=e.to();if(u.line==h.line)o(u.line,u.ch,h.ch);else{var p=dn(s,u.line),f=dn(s,h.line),g=Oi(p)==Oi(f),m=o(u.line,u.ch,g?p.text.length+1:null).end,v=o(h.line,g?0:null,h.ch).start;g&&(m.top<v.top-2?(n(m.right,m.top,null,m.bottom),n(c,v.top,v.left,v.bottom)):n(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&n(c,m.bottom,null,v.top)}i.appendChild(a)}function It(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){e.cursorDiv.style.visibility=(i=!i)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function $t(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Xn(Lt,t))}function Lt(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=hr(e.mode,Ot(t,e.frontier)),o=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),(function(r){if(e.frontier>=t.display.viewFrom){var s=r.styles,a=r.text.length>t.options.maxHighlightLength,l=Xi(t,r,a?hr(e.mode,n):n,!0);r.styles=l.styles;var c=r.styleClasses,d=l.classes;d?r.styleClasses=d:c&&(r.styleClasses=null);for(var u=!s||s.length!=r.styles.length||c!=d&&(!c||!d||c.bgClass!=d.bgClass||c.textClass!=d.textClass),h=0;!u&&h<s.length;++h)u=s[h]!=r.styles[h];u&&o.push(e.frontier),r.stateAfter=a?n:hr(e.mode,n)}else r.text.length<=t.options.maxHighlightLength&&Vi(t,r.text,n),r.stateAfter=e.frontier%5==0?hr(e.mode,n):null;return++e.frontier,+new Date>i?($t(t,t.options.workDelay),!0):void 0})),o.length&&ge(t,(function(){for(var e=0;e<o.length;e++)ke(t,o[e],"text")}))}}function Ot(t,e,i){var n=t.doc,o=t.display;if(!n.mode.startState)return!0;var r=function(t,e,i){for(var n,o,r=t.doc,s=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=r.first)return r.first;var l=dn(r,a-1);if(l.stateAfter&&(!i||a<=r.frontier))return a;var c=Yr(l.text,null,t.options.tabSize);(null==o||n>c)&&(o=a-1,n=c)}return o}(t,e,i),s=r>n.first&&dn(n,r-1).stateAfter;return s=s?hr(n.mode,s):pr(n.mode),n.iter(r,e,(function(i){Vi(t,i.text,s);var a=r==e-1||r%5==0||r>=o.viewFrom&&r<o.viewTo;i.stateAfter=a?hr(n.mode,s):null,++r})),i&&(n.frontier=r),s}function Nt(t){return t.lineSpace.offsetTop}function Pt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function jt(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Jn(t.measure,Gn("pre","x")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(t.cachedPaddingH=n),n}function Ht(t){return Fr-t.display.nativeBarWidth}function Ft(t){return t.display.scroller.clientWidth-Ht(t)-t.display.barWidth}function Bt(t){return t.display.scroller.clientHeight-Ht(t)-t.display.barHeight}function Rt(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(n=0;n<t.rest.length;n++)if(fn(t.rest[n])>i)return{map:t.measure.maps[n],cache:t.measure.caches[n],before:!0}}function zt(t,e,i,n){return Ut(t,Yt(t,e),i,n)}function Wt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Se(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function Yt(t,e){var i=fn(e),n=Wt(t,i);n&&!n.text?n=null:n&&n.changes&&($(t,n,i,I(t)),t.curOp.forceUpdate=!0),n||(n=function(t,e){var i=fn(e=Oi(e)),n=t.display.externalMeasured=new be(t.doc,e,i);n.lineN=i;var o=n.built=Gi(t,n);return n.text=o.pre,Jn(t.display.lineMeasure,o.pre),n}(t,e));var o=Rt(n,e,i);return{line:e,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Ut(t,e,i,n,o){e.before&&(i=-1);var r,s=i+(n||"");return e.cache.hasOwnProperty(s)?r=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,i){var n=t.options.lineWrapping,o=n&&Ft(t);if(!e.measure.heights||n&&e.measure.width!=o){var r=e.measure.heights=[];if(n){e.measure.width=o;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&r.push((l.bottom+c.top)/2-i.top)}}r.push(i.bottom-i.top)}}(t,e.view,e.rect),e.hasHeights=!0),r=function(t,e,i,n){var o,r=qt(e.map,i,n),s=r.node,a=r.start,l=r.end,c=r.collapse;if(3==s.nodeType){for(var d=0;4>d;d++){for(;a&&Kn(e.line.text.charAt(r.coverStart+a));)--a;for(;r.coverStart+l<r.coverEnd&&Kn(e.line.text.charAt(r.coverStart+l));)++l;if(Co&&9>So&&0==a&&l==r.coverEnd-r.coverStart)o=s.parentNode.getBoundingClientRect();else if(Co&&t.options.lineWrapping){o=(u=Qr(s,a,l).getClientRects()).length?u["right"==n?u.length-1:0]:Qo}else o=Qr(s,a,l).getBoundingClientRect()||Qo;if(o.left||o.right||0==a)break;l=a,a-=1,c="right"}Co&&11>So&&(o=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=ls)return ls;var e=Jn(t,Gn("span","x")),i=e.getBoundingClientRect(),n=Qr(e,0,1).getBoundingClientRect();return ls=Math.abs(i.left-n.left)>1}(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}(t.display.measure,o))}else{var u;a>0&&(c=n="right"),o=t.options.lineWrapping&&(u=s.getClientRects()).length>1?u["right"==n?u.length-1:0]:s.getBoundingClientRect()}if(Co&&9>So&&!a&&(!o||!o.left&&!o.right)){var h=s.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+ae(t.display),top:h.top,bottom:h.bottom}:Qo}var p=o.top-e.rect.top,f=o.bottom-e.rect.top,g=(p+f)/2,m=e.view.measure.heights;for(d=0;d<m.length-1&&!(g<m[d]);d++);var v=d?m[d-1]:0,y=m[d],b={left:("right"==c?o.right:o.left)-e.rect.left,right:("left"==c?o.left:o.right)-e.rect.left,top:v,bottom:y};return o.left||o.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=f),b}(t,e,i,n),r.bogus||(e.cache[s]=r)),{left:r.left,right:r.right,top:o?r.rtop:r.top,bottom:o?r.rbottom:r.bottom}}function qt(t,e,i){for(var n,o,r,s,a=0;a<t.length;a+=3){var l=t[a],c=t[a+1];if(l>e?(o=0,r=1,s="left"):c>e?r=(o=e-l)+1:(a==t.length-3||e==c&&t[a+3]>e)&&(o=(r=c-l)-1,e>=c&&(s="right")),null!=o){if(n=t[a+2],l==c&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==o)for(;a&&t[a-2]==t[a-3]&&t[a-1].insertLeft;)n=t[2+(a-=3)],s="left";if("right"==i&&o==c-l)for(;a<t.length-3&&t[a+3]==t[a+4]&&!t[a+5].insertLeft;)n=t[(a+=3)+2],s="right";break}}return{node:n,start:o,end:r,collapse:s,coverStart:l,coverEnd:c}}function Xt(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Qt(t){t.display.externalMeasure=null,Zn(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Xt(t.display.view[e])}function Vt(t){Qt(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Kt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Gt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Zt(t,e,i,n){if(e.widgets)for(var o=0;o<e.widgets.length;++o)if(e.widgets[o].above){var r=Bi(e.widgets[o]);i.top+=r,i.bottom+=r}if("line"==n)return i;n||(n="local");var s=mn(e);if("local"==n?s+=Nt(t.display):s-=t.display.viewOffset,"page"==n||"window"==n){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:Gt());var l=a.left+("window"==n?0:Kt());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function Jt(t,e,i){if("div"==i)return e;var n=e.left,o=e.top;if("page"==i)n-=Kt(),o-=Gt();else if("local"==i||!i){var r=t.display.sizer.getBoundingClientRect();n+=r.left,o+=r.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:o-s.top}}function te(t,e,i,n,o){return n||(n=dn(t.doc,e.line)),Zt(t,n,zt(t,n,e.ch,o),i)}function ee(t,e,i,n,o,r){function s(e,s){var a=Ut(t,o,e,s?"right":"left",r);return s?a.left=a.right:a.right=a.left,Zt(t,n,a,i)}function a(t,e){var i=l[e],n=i.level%2;return t==so(i)&&e&&i.level<l[e-1].level?(t=ao(i=l[--e])-(i.level%2?0:1),n=!0):t==ao(i)&&e<l.length-1&&i.level<l[e+1].level&&(t=so(i=l[++e])-i.level%2,n=!1),n&&t==i.to&&t>i.from?s(t-1):s(t,n)}n=n||dn(t.doc,e.line),o||(o=Yt(t,n));var l=vn(n),c=e.ch;if(!l)return s(c);var d=a(c,fo(l,c));return null!=ds&&(d.other=a(c,ds)),d}function ie(t,e){var i=0;e=dt(t.doc,e);t.options.lineWrapping||(i=ae(t.display)*e.ch);var n=dn(t.doc,e.line),o=mn(n)+Nt(t.display);return{left:i,right:i,top:o,bottom:o+n.height}}function ne(t,e,i,n){var o=zo(t,e);return o.xRel=n,i&&(o.outside=!0),o}function oe(t,e,i){var n=t.doc;if(0>(i+=t.display.viewOffset))return ne(n.first,0,!0,-1);var o=gn(n,i),r=n.first+n.size-1;if(o>r)return ne(n.first+n.size-1,dn(n,r).text.length,!0,1);0>e&&(e=0);for(var s=dn(n,o);;){var a=re(t,s,o,e,i),l=$i(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;o=fn(s=c.to.line)}}function re(t,e,i,n,o){function r(n){var o=ee(t,zo(i,n),"line",e,c);return a=!0,s>o.bottom?o.left-l:s<o.top?o.left+l:(a=!1,o.left)}var s=o-mn(e),a=!1,l=2*t.display.wrapper.clientWidth,c=Yt(t,e),d=vn(e),u=e.text.length,h=lo(e),p=co(e),f=r(h),g=a,m=r(p),v=a;if(n>m)return ne(i,p,v,1);for(;;){if(d?p==h||p==mo(e,h,1):1>=p-h){for(var y=f>n||m-n>=n-f?h:p,b=n-(y==h?f:m);Kn(e.text.charAt(y));)++y;return ne(i,y,y==h?g:v,-1>b?-1:b>1?1:0)}var w=Math.ceil(u/2),x=h+w;if(d){x=h;for(var k=0;w>k;++k)x=mo(e,x,1)}var C=r(x);C>n?(p=x,m=C,(v=a)&&(m+=1e3),u=w):(h=x,f=C,g=a,u-=w)}}function se(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Uo){Uo=Gn("pre");for(var e=0;49>e;++e)Uo.appendChild(document.createTextNode("x")),Uo.appendChild(Gn("br"));Uo.appendChild(document.createTextNode("x"))}Jn(t.measure,Uo);var i=Uo.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),Zn(t.measure),i||1}function ae(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Gn("span","xxxxxxxxxx"),i=Gn("pre",[e]);Jn(t.measure,i);var n=e.getBoundingClientRect(),o=(n.right-n.left)/10;return o>2&&(t.cachedCharWidth=o),o||10}function le(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ko},Vo?Vo.ops.push(t.curOp):t.curOp.ownsGroup=Vo={ops:[t.curOp],delayedCallbacks:[]}}function ce(t){var e=t.curOp.ownsGroup;if(e)try{!function(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var o=t.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(i<e.length)}(e)}finally{Vo=null;for(var i=0;i<e.ops.length;i++)e.ops[i].cm.curOp=null;!function(t){for(var e=t.ops,i=0;i<e.length;i++)de(e[i]);for(i=0;i<e.length;i++)ue(e[i]);for(i=0;i<e.length;i++)he(e[i]);for(i=0;i<e.length;i++)pe(e[i]);for(i=0;i<e.length;i++)fe(e[i])}(e)}}function de(t){var e=t.cm,i=e.display;(function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Ht(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Ht(t)+"px",e.scrollbarsClipped=!0)})(e),t.updateMaxLine&&u(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new S(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ue(t){t.updatedDisplay=t.mustUpdate&&T(t.cm,t.update)}function he(t){var e=t.cm,i=e.display;t.updatedDisplay&&E(e),t.barMeasure=p(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=zt(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Ht(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Ft(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection(t.focus))}function pe(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Pe(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==to()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&v(e,t.barMeasure),t.updatedDisplay&&D(e,t.barMeasure),t.selectionChanged&&It(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&q(t.cm)}function fe(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&_(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==t.scrollTop||i.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,t.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==t.scrollLeft||i.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,t.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,w(e)),t.scrollToPos){var o=function(t,e,i,n){null==n&&(n=0);for(var o=0;5>o;o++){var r=!1,s=ee(t,e),a=i&&i!=e?ee(t,i):s,l=oi(t,Math.min(s.left,a.left),Math.min(s.top,a.top)-n,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+n),c=t.doc.scrollTop,d=t.doc.scrollLeft;if(null!=l.scrollTop&&(Ne(t,l.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(r=!0)),null!=l.scrollLeft&&(Pe(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-d)>1&&(r=!0)),!r)break}return s}(e,dt(n,t.scrollToPos.from),dt(n,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&function(t,e){if(!Nn(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),o=null;if(e.top+n.top<0?o=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Io){var r=Gn("div","​",null,"position: absolute; top: "+(e.top-i.viewOffset-Nt(t.display))+"px; height: "+(e.bottom-e.top+Ht(t)+i.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(r),r.scrollIntoView(o),t.display.lineSpace.removeChild(r)}}}(e,o)}var r=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(r)for(var a=0;a<r.length;++a)r[a].lines.length||jr(r[a],"hide");if(s)for(a=0;a<s.length;++a)s[a].lines.length&&jr(s[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&jr(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function ge(t,e){if(t.curOp)return e();le(t);try{return e()}finally{ce(t)}}function me(t,e){return function(){if(t.curOp)return e.apply(t,arguments);le(t);try{return e.apply(t,arguments)}finally{ce(t)}}}function ve(t){return function(){if(this.curOp)return t.apply(this,arguments);le(this);try{return t.apply(this,arguments)}finally{ce(this)}}}function ye(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);le(e);try{return t.apply(this,arguments)}finally{ce(e)}}}function be(t,e,i){this.line=e,this.rest=function(t){for(var e,i;e=$i(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}(e),this.size=this.rest?fn(Rn(this.rest))-i+1:1,this.node=this.text=null,this.hidden=ji(t,e)}function we(t,e,i){for(var n,o=[],r=e;i>r;r=n){var s=new be(t.doc,dn(t.doc,r),r);n=r+s.size,o.push(s)}return o}function xe(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),n||(n=0);var o=t.display;if(n&&i<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>e)&&(o.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=o.viewTo)Ro&&Ni(t.doc,e)<o.viewTo&&Ce(t);else if(i<=o.viewFrom)Ro&&Pi(t.doc,i+n)>o.viewFrom?Ce(t):(o.viewFrom+=n,o.viewTo+=n);else if(e<=o.viewFrom&&i>=o.viewTo)Ce(t);else if(e<=o.viewFrom){(r=Te(t,i,i+n,1))?(o.view=o.view.slice(r.index),o.viewFrom=r.lineN,o.viewTo+=n):Ce(t)}else if(i>=o.viewTo){var r;(r=Te(t,e,e,-1))?(o.view=o.view.slice(0,r.index),o.viewTo=r.lineN):Ce(t)}else{var s=Te(t,e,e,-1),a=Te(t,i,i+n,1);s&&a?(o.view=o.view.slice(0,s.index).concat(we(t,s.lineN,a.lineN)).concat(o.view.slice(a.index)),o.viewTo+=n):Ce(t)}var l=o.externalMeasured;l&&(i<l.lineN?l.lineN+=n:e<l.lineN+l.size&&(o.externalMeasured=null))}function ke(t,e,i){t.curOp.viewChanged=!0;var n=t.display,o=t.display.externalMeasured;if(o&&e>=o.lineN&&e<o.lineN+o.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var r=n.view[Se(t,e)];if(null!=r.node){var s=r.changes||(r.changes=[]);-1==zn(s,i)&&s.push(i)}}}function Ce(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Se(t,e){if(e>=t.display.viewTo)return null;if(0>(e-=t.display.viewFrom))return null;for(var i=t.display.view,n=0;n<i.length;n++)if(0>(e-=i[n].size))return n}function Te(t,e,i,n){var o,r=Se(t,e),s=t.display.view;if(!Ro||i==t.doc.first+t.doc.size)return{index:r,lineN:i};for(var a=0,l=t.display.viewFrom;r>a;a++)l+=s[a].size;if(l!=e){if(n>0){if(r==s.length-1)return null;o=l+s[r].size-e,r++}else o=l-e;e+=o,i+=o}for(;Ni(t.doc,i)!=i;){if(r==(0>n?0:s.length-1))return null;i+=n*s[r-(0>n?1:0)].size,r+=n}return{index:r,lineN:i}}function _e(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var o=e[n];o.hidden||o.node&&!o.changes||++i}return i}function Ae(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function De(t,e){for(var i=Mn(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function Ee(t,e,i,n){var o=t.display;if(!i&&"true"==Mn(e).getAttribute("cm-not-content"))return null;var r,s,a=o.lineSpace.getBoundingClientRect();try{r=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,c=oe(t,r,s);if(n&&1==c.xRel&&(l=dn(t.doc,c.line).text).length==c.ch){var d=Yr(l,l.length,t.options.tabSize)-l.length;c=zo(c.line,Math.max(0,Math.round((r-jt(t.display).left)/ae(t.display))-d))}return c}function Me(t){var e=this,i=e.display;if(!(Nn(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.shift=t.shiftKey,De(i,t))return void(To||(i.scroller.draggable=!1,setTimeout((function(){i.scroller.draggable=!0}),100)));if(!$e(e,t)){var n=Ee(e,t);switch(window.focus(),In(t)){case 1:e.state.selectingText?e.state.selectingText(t):n?function(t,e,i){Co?setTimeout(Xn(q,t),0):t.curOp.focus=to();var n,o=+new Date;Xo&&Xo.time>o-400&&0==Wo(Xo.pos,i)?n="triple":qo&&qo.time>o-400&&0==Wo(qo.pos,i)?(n="double",Xo={time:o,pos:i}):(n="single",qo={time:o,pos:i});var r,s=t.doc.sel,a=Oo?e.metaKey:e.ctrlKey;t.options.dragDrop&&os&&!t.isReadOnly()&&"single"==n&&(r=s.contains(i))>-1&&(Wo((r=s.ranges[r]).from(),i)<0||i.xRel>0)&&(Wo(r.to(),i)>0||i.xRel<0)?function(t,e,i,n){var o=t.display,r=+new Date,s=me(t,(function(a){To&&(o.scroller.draggable=!1),t.state.draggingText=!1,Pr(document,"mouseup",s),Pr(o.scroller,"drop",s),Math.abs(e.clientX-a.clientX)+Math.abs(e.clientY-a.clientY)<10&&(Ir(a),!n&&+new Date-200<r&&ft(t.doc,i),To||Co&&9==So?setTimeout((function(){document.body.focus(),o.input.focus()}),20):o.input.focus())}));To&&(o.scroller.draggable=!0),t.state.draggingText=s,o.scroller.dragDrop&&o.scroller.dragDrop(),Or(document,"mouseup",s),Or(o.scroller,"drop",s)}(t,e,i,a):function(t,e,i,n,o){function r(e){if(0!=Wo(m,e))if(m=e,"rect"==n){for(var o=[],r=t.options.tabSize,s=Yr(dn(c,i.line).text,i.ch,r),a=Yr(dn(c,e.line).text,e.ch,r),l=Math.min(s,a),p=Math.max(s,a),f=Math.min(i.line,e.line),g=Math.min(t.lastLine(),Math.max(i.line,e.line));g>=f;f++){var v=dn(c,f).text,y=Ur(v,l,r);l==p?o.push(new st(zo(f,y),zo(f,y))):v.length>y&&o.push(new st(zo(f,y),zo(f,Ur(v,p,r))))}o.length||o.push(new st(i,i)),bt(c,at(h.ranges.slice(0,u).concat(o),u),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=d,w=b.anchor,x=e;if("single"!=n){if("double"==n)var k=t.findWordAt(e);else k=new st(zo(e.line,0),dt(c,zo(e.line+1,0)));Wo(k.anchor,w)>0?(x=k.head,w=U(b.from(),k.anchor)):(x=k.anchor,w=Y(b.to(),k.head))}(o=h.ranges.slice(0))[u]=new st(dt(c,w),x),bt(c,at(o,u),zr)}}function s(e){var i=++y,o=Ee(t,e,!0,"rect"==n);if(o)if(0!=Wo(o,m)){t.curOp.focus=to(),r(o);var a=b(l,c);(o.line>=a.to||o.line<a.from)&&setTimeout(me(t,(function(){y==i&&s(e)})),150)}else{var d=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;d&&setTimeout(me(t,(function(){y==i&&(l.scroller.scrollTop+=d,s(e))})),50)}}function a(e){t.state.selectingText=!1,y=1/0,Ir(e),l.input.focus(),Pr(document,"mousemove",w),Pr(document,"mouseup",x),c.history.lastSelOrigin=null}var l=t.display,c=t.doc;Ir(e);var d,u,h=c.sel,p=h.ranges;if(o&&!e.shiftKey?(u=c.sel.contains(i),d=u>-1?p[u]:new st(i,i)):(d=c.sel.primary(),u=c.sel.primIndex),No?e.shiftKey&&e.metaKey:e.altKey)n="rect",o||(d=new st(i,i)),i=Ee(t,e,!0,!0),u=-1;else if("double"==n){var f=t.findWordAt(i);d=t.display.shift||c.extend?pt(c,d,f.anchor,f.head):f}else if("triple"==n){var g=new st(zo(i.line,0),dt(c,zo(i.line+1,0)));d=t.display.shift||c.extend?pt(c,d,g.anchor,g.head):g}else d=pt(c,d,i);o?-1==u?(u=p.length,bt(c,at(p.concat([d]),u),{scroll:!1,origin:"*mouse"})):p.length>1&&p[u].empty()&&"single"==n&&!e.shiftKey?(bt(c,at(p.slice(0,u).concat(p.slice(u+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):mt(c,u,d,zr):(u=0,bt(c,new rt([d],0),zr),h=c.sel);var m=i,v=l.wrapper.getBoundingClientRect(),y=0,w=me(t,(function(t){In(t)?s(t):a(t)})),x=me(t,a);t.state.selectingText=x,Or(document,"mousemove",w),Or(document,"mouseup",x)}(t,e,i,n,a)}(e,t,n):Mn(t)==i.scroller&&Ir(t);break;case 2:To&&(e.state.lastMiddleDown=+new Date),n&&ft(e.doc,n),setTimeout((function(){i.input.focus()}),20),Ir(t);break;case 3:Fo?qe(e,t):function(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Ue(t))}),100)}(e)}}}}function Ie(t,e,i,n){try{var o=e.clientX,r=e.clientY}catch(e){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&Ir(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(r>a.bottom||!jn(t,i))return En(e);r-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o){var d=gn(t.doc,r),u=t.options.gutters[l];return jr(t,i,t,d,u,e),En(e)}}}function $e(t,e){return Ie(t,e,"gutterClick",!0)}function Le(t){var e=this;if(Oe(e),!Nn(e,t)&&!De(e.display,t)){Ir(t),Co&&(Go=+new Date);var i=Ee(e,t,!0),n=t.dataTransfer.files;if(i&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,r=Array(o),s=0,a=function(t,n){if(!e.options.allowDropFileTypes||-1!=zn(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=me(e,(function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),r[n]=t,++s==o){var l={from:i=dt(e.doc,i),to:i,text:e.doc.splitLines(r.join(e.doc.lineSeparator())),origin:"paste"};Ge(e.doc,l),yt(e.doc,lt(i,nr(l)))}})),a.readAsText(t)}},l=0;o>l;++l)a(n[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout((function(){e.display.input.focus()}),20);try{if(r=t.dataTransfer.getData("Text")){if(e.state.draggingText&&!(Oo?t.altKey:t.ctrlKey))var c=e.listSelections();if(wt(e.doc,lt(i,i)),c)for(l=0;l<c.length;++l)ni(e.doc,"",c[l].anchor,c[l].head,"drag");e.replaceSelection(r,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Oe(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Ne(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,wo||A(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),wo&&A(t),$t(t,100))}function Pe(t,e,i){(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,w(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function je(t,e){var i=tr(e),n=i.x,o=i.y,r=t.display,s=r.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(n&&a||o&&l){if(o&&Oo&&To)t:for(var c=e.target,d=r.view;c!=s;c=c.parentNode)for(var u=0;u<d.length;u++)if(d[u].node==c){t.display.currentWheelTarget=c;break t}if(n&&!wo&&!Do&&null!=Jo)return o&&l&&Ne(t,Math.max(0,Math.min(s.scrollTop+o*Jo,s.scrollHeight-s.clientHeight))),Pe(t,Math.max(0,Math.min(s.scrollLeft+n*Jo,s.scrollWidth-s.clientWidth))),(!o||o&&l)&&Ir(e),void(r.wheelStartX=null);if(o&&null!=Jo){var h=o*Jo,p=t.doc.scrollTop,f=p+r.wrapper.clientHeight;0>h?p=Math.max(0,p+h-50):f=Math.min(t.doc.height,f+h+50),A(t,{top:p,bottom:f})}20>Zo&&(null==r.wheelStartX?(r.wheelStartX=s.scrollLeft,r.wheelStartY=s.scrollTop,r.wheelDX=n,r.wheelDY=o,setTimeout((function(){if(null!=r.wheelStartX){var t=s.scrollLeft-r.wheelStartX,e=s.scrollTop-r.wheelStartY,i=e&&r.wheelDY&&e/r.wheelDY||t&&r.wheelDX&&t/r.wheelDX;r.wheelStartX=r.wheelStartY=null,i&&(Jo=(Jo*Zo+i)/(Zo+1),++Zo)}}),200)):(r.wheelDX+=n,r.wheelDY+=o))}}function He(t,e,i){if("string"==typeof e&&!(e=fr[e]))return!1;t.display.input.ensurePolled();var n=t.display.shift,o=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),o=e(t)!=Br}finally{t.display.shift=n,t.state.suppressEdits=!1}return o}function Fe(t,e,i,n){var o=t.state.keySeq;if(o){if(vr(e))return"handled";er.set(50,(function(){t.state.keySeq==o&&(t.state.keySeq=null,t.display.input.reset())})),e=o+" "+e}var r=function(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var o=mr(e,t.state.keyMaps[n],i,t);if(o)return o}return t.options.extraKeys&&mr(e,t.options.extraKeys,i,t)||mr(e,t.options.keyMap,i,t)}(t,e,n);return"multi"==r&&(t.state.keySeq=e),"handled"==r&&Ln(t,"keyHandled",t,e,i),"handled"!=r&&"multi"!=r||(Ir(i),It(t)),o&&!r&&/\'$/.test(e)?(Ir(i),!0):!!r}function Be(t,e){var i=yr(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?Fe(t,"Shift-"+i,e,(function(e){return He(t,e,!0)}))||Fe(t,i,e,(function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?He(t,e):void 0})):Fe(t,i,e,(function(e){return He(t,e)})))}function Re(t){var e=this;if(e.curOp.focus=to(),!Nn(e,t)){Co&&11>So&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var n=Be(e,t);Do&&(ir=n?i:null,!n&&88==i&&!as&&(Oo?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){function e(t){18!=t.keyCode&&t.altKey||(es(i,"CodeMirror-crosshair"),Pr(document,"keyup",e),Pr(document,"mouseover",e))}var i=t.display.lineDiv;is(i,"CodeMirror-crosshair"),Or(document,"keyup",e),Or(document,"mouseover",e)}(e)}}function ze(t){16==t.keyCode&&(this.doc.sel.shift=!1),Nn(this,t)}function We(t){var e=this;if(!(De(e.display,t)||Nn(e,t)||t.ctrlKey&&!t.altKey||Oo&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(Do&&i==ir)return ir=null,void Ir(t);if(!Do||t.which&&!(t.which<10)||!Be(e,t))(function(t,e,i){return Fe(t,"'"+i+"'",e,(function(e){return He(t,e,!0)}))})(e,t,String.fromCharCode(null==n?i:n))||e.display.input.onKeyPress(t)}}function Ye(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(jr(t,"focus",t),t.state.focused=!0,is(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),To&&setTimeout((function(){t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),It(t))}function Ue(t){t.state.delayingBlurEvent||(t.state.focused&&(jr(t,"blur",t),t.state.focused=!1,es(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function qe(t,e){De(t.display,e)||function(t,e){return!!jn(t,"gutterContextMenu")&&Ie(t,e,"gutterContextMenu",!1)}(t,e)||Nn(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function Xe(t,e){if(Wo(t,e.from)<0)return t;if(Wo(t,e.to)<=0)return nr(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=nr(e).ch-e.to.ch),zo(i,n)}function Qe(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var o=t.sel.ranges[n];i.push(new st(Xe(o.anchor,e),Xe(o.head,e)))}return at(i,t.sel.primIndex)}function Ve(t,e,i){return t.line==e.line?zo(i.line,t.ch-e.ch+i.ch):zo(i.line+(t.line-e.line),t.ch)}function Ke(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return i&&(n.update=function(e,i,n,o){e&&(this.from=dt(t,e)),i&&(this.to=dt(t,i)),n&&(this.text=n),void 0!==o&&(this.origin=o)}),jr(t,"beforeChange",t,n),t.cm&&jr(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Ge(t,e,i){if(t.cm){if(!t.cm.curOp)return me(t.cm,Ge)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(jn(t,"beforeChange")||t.cm&&jn(t.cm,"beforeChange"))||(e=Ke(t,e,!0))){var n=Bo&&!i&&function(t,e,i){var n=null;if(t.iter(e.line,i.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&-1!=zn(n,i)||(n||(n=[])).push(i)}})),!n)return null;for(var o=[{from:e,to:i}],r=0;r<n.length;++r)for(var s=n[r],a=s.find(0),l=0;l<o.length;++l){var c=o[l];if(!(Wo(c.to,a.from)<0||Wo(c.from,a.to)>0)){var d=[l,1],u=Wo(c.from,a.from),h=Wo(c.to,a.to);(0>u||!s.inclusiveLeft&&!u)&&d.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&d.push({from:a.to,to:c.to}),o.splice.apply(o,d),l+=d.length-1}}return o}(t,e.from,e.to);if(n)for(var o=n.length-1;o>=0;--o)Ze(t,{from:n[o].from,to:n[o].to,text:o?[""]:e.text});else Ze(t,e)}}function Ze(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Wo(e.from,e.to)){var i=Qe(t,e);xn(t,e,i,t.cm?t.cm.curOp.id:NaN),ei(t,e,i,ki(t,e));var n=[];ln(t,(function(t,i){i||-1!=zn(n,t.history)||(Dn(t.history,e),n.push(t.history)),ei(t,e,null,ki(t,e))}))}}function Je(t,e,i){if(!t.cm||!t.cm.state.suppressEdits){for(var n,o=t.history,r=t.sel,s="undo"==e?o.done:o.undone,a="undo"==e?o.undone:o.done,l=0;l<s.length&&(n=s[l],i?!n.ranges||n.equals(t.sel):n.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;(n=s.pop()).ranges;){if(kn(n,a),i&&!n.equals(t.sel))return void bt(t,n,{clearRedo:!1});r=n}var c=[];kn(r,a),a.push({changes:c,generation:o.generation}),o.generation=n.generation||++o.maxGeneration;var d=jn(t,"beforeChange")||t.cm&&jn(t.cm,"beforeChange");for(l=n.changes.length-1;l>=0;--l){var u=n.changes[l];if(u.origin=e,d&&!Ke(t,u,!1))return void(s.length=0);c.push(bn(t,u));var h=l?Qe(t,u):Rn(s);ei(t,u,h,Si(t,u)),!l&&t.cm&&t.cm.scrollIntoView({from:u.from,to:nr(u)});var p=[];ln(t,(function(t,e){e||-1!=zn(p,t.history)||(Dn(t.history,u),p.push(t.history)),ei(t,u,null,Si(t,u))}))}}}}function ti(t,e){if(0!=e&&(t.first+=e,t.sel=new rt(Wn(t.sel.ranges,(function(t){return new st(zo(t.anchor.line+e,t.anchor.ch),zo(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){xe(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)ke(t.cm,n,"gutter")}}function ei(t,e,i,n){if(t.cm&&!t.cm.curOp)return me(t.cm,ei)(t,e,i,n);if(e.to.line<t.first)ti(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var o=e.text.length-1-(t.first-e.from.line);ti(t,o),e={from:zo(t.first,0),to:zo(e.to.line+o,e.to.ch),text:[Rn(e.text)],origin:e.origin}}var r=t.lastLine();e.to.line>r&&(e={from:e.from,to:zo(r,dn(t,r).text.length),text:[e.text[0]],origin:e.origin}),e.removed=un(t,e.from,e.to),i||(i=Qe(t,e)),t.cm?ii(t.cm,e,n):rn(t,e,n),wt(t,i,Rr)}}function ii(t,e,i){var n=t.doc,r=t.display,s=e.from,a=e.to,l=!1,c=s.line;t.options.lineWrapping||(c=fn(Oi(dn(n,s.line))),n.iter(c,a.line+1,(function(t){return t==r.maxLine?(l=!0,!0):void 0}))),n.sel.contains(e.from,e.to)>-1&&Pn(t),rn(n,e,i,o(t)),t.options.lineWrapping||(n.iter(c,s.line+e.text.length,(function(t){var e=d(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,l=!1)})),l&&(t.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,s.line),$t(t,400);var u=e.text.length-(a.line-s.line)-1;e.full?xe(t):s.line!=a.line||1!=e.text.length||on(t.doc,e)?xe(t,s.line,a.line+1,u):ke(t,s.line,"text");var h=jn(t,"changes"),p=jn(t,"change");if(p||h){var f={from:s,to:a,text:e.text,removed:e.removed,origin:e.origin};p&&Ln(t,"change",t,f),h&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}function ni(t,e,i,n,o){if(n||(n=i),Wo(n,i)<0){var r=n;n=i,i=r}"string"==typeof e&&(e=t.splitLines(e)),Ge(t,{from:i,to:n,text:e,origin:o})}function oi(t,e,i,n,o){var r=t.display,s=se(t.display);0>i&&(i=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:r.scroller.scrollTop,l=Bt(t),c={};o-i>l&&(o=i+l);var d=t.doc.height+Pt(r),u=s>i,h=o>d-s;if(a>i)c.scrollTop=u?0:i;else if(o>a+l){var p=Math.min(i,(h?d:o)-l);p!=a&&(c.scrollTop=p)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:r.scroller.scrollLeft,g=Ft(t)-(t.options.fixedGutter?r.gutters.offsetWidth:0),m=n-e>g;return m&&(n=e+g),10>e?c.scrollLeft=0:f>e?c.scrollLeft=Math.max(0,e-(m?0:10)):n>g+f-3&&(c.scrollLeft=n+(m?0:10)-g),c}function ri(t,e,i){null==e&&null==i||ai(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=i&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+i)}function si(t){ai(t);var e=t.getCursor(),i=e,n=e;t.options.lineWrapping||(i=e.ch?zo(e.line,e.ch-1):e,n=zo(e.line,e.ch+1)),t.curOp.scrollToPos={from:i,to:n,margin:t.options.cursorScrollMargin,isCursor:!0}}function ai(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=ie(t,e.from),n=ie(t,e.to),o=oi(t,Math.min(i.left,n.left),Math.min(i.top,n.top)-e.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+e.margin);t.scrollTo(o.scrollLeft,o.scrollTop)}}function li(t,e,i,n){var o,r=t.doc;null==i&&(i="add"),"smart"==i&&(r.mode.indent?o=Ot(t,e):i="prev");var s=t.options.tabSize,a=dn(r,e),l=Yr(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,d=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((c=r.mode.indent(o,a.text.slice(d.length),a.text))==Br||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=e>r.first?Yr(dn(r,e-1).text,null,s):0:"add"==i?c=l+t.options.indentUnit:"subtract"==i?c=l-t.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var u="",h=0;if(t.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)h+=s,u+="\t";if(c>h&&(u+=Bn(c-h)),u!=d)return ni(r,u,zo(e,0),zo(e,d.length),"+input"),a.stateAfter=null,!0;for(p=0;p<r.sel.ranges.length;p++){var f=r.sel.ranges[p];if(f.head.line==e&&f.head.ch<d.length){mt(r,p,new st(h=zo(e,d.length),h));break}}}function ci(t,e,i,n){var o=e,r=e;return"number"==typeof e?r=dn(t,ct(t,e)):o=fn(e),null==o?null:(n(r,o)&&t.cm&&ke(t.cm,o,i),r)}function di(t,e){for(var i=t.doc.sel.ranges,n=[],o=0;o<i.length;o++){for(var r=e(i[o]);n.length&&Wo(r.from,Rn(n).to)<=0;){var s=n.pop();if(Wo(s.from,r.from)<0){r.from=s.from;break}}n.push(r)}ge(t,(function(){for(var e=n.length-1;e>=0;e--)ni(t.doc,"",n[e].from,n[e].to,"+delete");si(t)}))}function ui(t,e,i,n,o){function r(){var e=a+i;return!(e<t.first||e>=t.first+t.size)&&(a=e,d=dn(t,e))}function s(t){var e=(o?mo:vo)(d,l,i,!0);if(null==e){if(t||!r())return!1;l=o?(0>i?co:lo)(d):0>i?d.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=i,d=dn(t,a);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var u=null,h="group"==n,p=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(0>i)||s(!f);f=!1){var g=d.text.charAt(l)||"\n",m=Qn(g,p)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||f||m||(m="s"),u&&u!=m){0>i&&(i=1,s());break}if(m&&(u=m),i>0&&!s(!f))break}var v=Tt(t,zo(a,l),e,c,!0);return Wo(e,v)||(v.hitSide=!0),v}function hi(t,e,i,n){var o,r=t.doc,s=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=e.top+i*(a-(0>i?1.5:.5)*se(t.display))}else"line"==n&&(o=i>0?e.bottom+3:e.top-3);for(;;){var l=oe(t,s,o);if(!l.outside)break;if(0>i?0>=o:o>=r.height){l.hitSide=!0;break}o+=5*i}return l}function pi(e,i,n,o){t.defaults[e]=i,n&&(rr[e]=o?function(t,e,i){i!=sr&&n(t,e,i)}:n)}function fi(t){for(var e,i,n,o,r=t.split(/-(?!$)/),s=(t=r[r.length-1],0);s<r.length-1;s++){var a=r[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return e&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),n&&(t="Shift-"+t),t}function gi(t){return"string"==typeof t?gr[t]:t}function mi(t,e,i,n,o){if(n&&n.shared)return function(t,e,i,n,o){n=qn(n),n.shared=!1;var r=[mi(t,e,i,n,o)],s=r[0],a=n.widgetNode;return ln(t,(function(t){a&&(n.widgetNode=a.cloneNode(!0)),r.push(mi(t,dt(t,e),dt(t,i),n,o));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Rn(r)})),new kr(r,s)}(t,e,i,n,o);if(t.cm&&!t.cm.curOp)return me(t.cm,mi)(t,e,i,n,o);var r=new xr(t,o),s=Wo(e,i);if(n&&qn(n,r,!1),s>0||0==s&&!1!==r.clearWhenEmpty)return r;if(r.replacedWith&&(r.collapsed=!0,r.widgetNode=Gn("span",[r.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||r.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(r.widgetNode.insertLeft=!0)),r.collapsed){if(Li(t,e.line,e,i,r)||e.line!=i.line&&Li(t,i.line,e,i,r))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ro=!0}r.addToHistory&&xn(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,i.line+1,(function(t){c&&r.collapsed&&!c.options.lineWrapping&&Oi(t)==c.display.maxLine&&(a=!0),r.collapsed&&l!=e.line&&pn(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new bi(r,l==e.line?e.ch:null,l==i.line?i.ch:null)),++l})),r.collapsed&&t.iter(e.line,i.line+1,(function(e){ji(t,e)&&pn(e,0)})),r.clearOnEnter&&Or(r,"beforeCursorEnter",(function(){r.clear()})),r.readOnly&&(Bo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),r.collapsed&&(r.id=++wr,r.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),r.collapsed)xe(c,e.line,i.line+1);else if(r.className||r.title||r.startStyle||r.endStyle||r.css)for(var d=e.line;d<=i.line;d++)ke(c,d,"text");r.atomic&&kt(c.doc),Ln(c,"markerAdded",c,r)}return r}function vi(t){return t.findMarks(zo(t.first,0),t.clipPos(zo(t.lastLine())),(function(t){return t.parent}))}function yi(t){for(var e=0;e<t.length;e++){var i=t[e],n=[i.primary.doc];ln(i.primary.doc,(function(t){n.push(t)}));for(var o=0;o<i.markers.length;o++){var r=i.markers[o];-1==zn(n,r.doc)&&(r.parent=null,i.markers.splice(o--,1))}}}function bi(t,e,i){this.marker=t,this.from=e,this.to=i}function wi(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function xi(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function ki(t,e){if(e.full)return null;var i=ut(t,e.from.line)&&dn(t,e.from.line).markedSpans,n=ut(t,e.to.line)&&dn(t,e.to.line).markedSpans;if(!i&&!n)return null;var o=e.from.ch,r=e.to.ch,s=0==Wo(e.from,e.to),a=function(t,e,i){if(t)for(var n,o=0;o<t.length;++o){var r=t[o],s=r.marker;if(null==r.from||(s.inclusiveLeft?r.from<=e:r.from<e)||r.from==e&&"bookmark"==s.type&&(!i||!r.marker.insertLeft)){var a=null==r.to||(s.inclusiveRight?r.to>=e:r.to>e);(n||(n=[])).push(new bi(s,r.from,a?null:r.to))}}return n}(i,o,s),l=function(t,e,i){if(t)for(var n,o=0;o<t.length;++o){var r=t[o],s=r.marker;if(null==r.to||(s.inclusiveRight?r.to>=e:r.to>e)||r.from==e&&"bookmark"==s.type&&(!i||r.marker.insertLeft)){var a=null==r.from||(s.inclusiveLeft?r.from<=e:r.from<e);(n||(n=[])).push(new bi(s,a?null:r.from-e,null==r.to?null:r.to-e))}}return n}(n,r,s),c=1==e.text.length,d=Rn(e.text).length+(c?o:0);if(a)for(var u=0;u<a.length;++u){if(null==(h=a[u]).to)(p=wi(l,h.marker))?c&&(h.to=null==p.to?null:p.to+d):h.to=o}if(l)for(u=0;u<l.length;++u){var h,p;if(null!=(h=l[u]).to&&(h.to+=d),null==h.from)(p=wi(a,h.marker))||(h.from=d,c&&(a||(a=[])).push(h));else h.from+=d,c&&(a||(a=[])).push(h)}a&&(a=Ci(a)),l&&l!=a&&(l=Ci(l));var f=[a];if(!c){var g,m=e.text.length-2;if(m>0&&a)for(u=0;u<a.length;++u)null==a[u].to&&(g||(g=[])).push(new bi(a[u].marker,null,null));for(u=0;m>u;++u)f.push(g);f.push(l)}return f}function Ci(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Si(t,e){var i=function(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=0,o=[];n<e.text.length;++n)o.push(Sn(i[n]));return o}(t,e),n=ki(t,e);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var r=i[o],s=n[o];if(r&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<r.length;++c)if(r[c].marker==l.marker)continue t;r.push(l)}else s&&(i[o]=s)}return i}function Ti(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function _i(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function Ai(t){return t.inclusiveLeft?-1:0}function Di(t){return t.inclusiveRight?1:0}function Ei(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var n=t.find(),o=e.find(),r=Wo(n.from,o.from)||Ai(t)-Ai(e);if(r)return-r;var s=Wo(n.to,o.to)||Di(t)-Di(e);return s||e.id-t.id}function Mi(t,e){var i,n=Ro&&t.markedSpans;if(n)for(var o,r=0;r<n.length;++r)(o=n[r]).marker.collapsed&&null==(e?o.from:o.to)&&(!i||Ei(i,o.marker)<0)&&(i=o.marker);return i}function Ii(t){return Mi(t,!0)}function $i(t){return Mi(t,!1)}function Li(t,e,i,n,o){var r=dn(t,e),s=Ro&&r.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),d=Wo(c.from,i)||Ai(l.marker)-Ai(o),u=Wo(c.to,n)||Di(l.marker)-Di(o);if(!(d>=0&&0>=u||0>=d&&u>=0)&&(0>=d&&(l.marker.inclusiveRight&&o.inclusiveLeft?Wo(c.to,i)>=0:Wo(c.to,i)>0)||d>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?Wo(c.from,n)<=0:Wo(c.from,n)<0)))return!0}}}function Oi(t){for(var e;e=Ii(t);)t=e.find(-1,!0).line;return t}function Ni(t,e){var i=dn(t,e),n=Oi(i);return i==n?e:fn(n)}function Pi(t,e){if(e>t.lastLine())return e;var i,n=dn(t,e);if(!ji(t,n))return e;for(;i=$i(n);)n=i.find(1,!0).line;return fn(n)+1}function ji(t,e){var i=Ro&&e.markedSpans;if(i)for(var n,o=0;o<i.length;++o)if((n=i[o]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Hi(t,e,n))return!0}}function Hi(t,e,i){if(null==i.to){var n=i.marker.find(1,!0);return Hi(t,n.line,wi(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var o,r=0;r<e.markedSpans.length;++r)if((o=e.markedSpans[r]).marker.collapsed&&!o.marker.widgetNode&&o.from==i.to&&(null==o.to||o.to!=i.from)&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&Hi(t,e,o))return!0}function Fi(t,e,i){mn(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&ri(t,null,i)}function Bi(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Zr(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),Jn(e.display.measure,Gn("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Ri(t){t.parent=null,Ti(t)}function zi(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==e[n]?e[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+i[2])}return t}function Wi(e,i){if(e.blankLine)return e.blankLine(i);if(e.innerMode){var n=t.innerMode(e,i);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Yi(e,i,n,o){for(var r=0;10>r;r++){o&&(o[0]=t.innerMode(e,n).mode);var s=e.token(i,n);if(i.pos>i.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}function Ui(t,e,i,n){function o(t){return{start:u.start,end:u.pos,string:u.current(),type:r||null,state:t?hr(s.mode,d):d}}var r,s=t.doc,a=s.mode;e=dt(s,e);var l,c=dn(s,e.line),d=Ot(t,e.line,i),u=new br(c.text,t.options.tabSize);for(n&&(l=[]);(n||u.pos<e.ch)&&!u.eol();)u.start=u.pos,r=Yi(a,u,d),n&&l.push(o(!0));return n?l:o()}function qi(t,e,i,n,o,r,s){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,d=null,u=new br(e,t.options.tabSize),h=t.options.addModeClass&&[null];for(""==e&&zi(Wi(i,n),r);!u.eol();){if(u.pos>t.options.maxHighlightLength?(a=!1,s&&Vi(t,e,n,u.pos),u.pos=e.length,l=null):l=zi(Yi(i,u,n,h),r),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||d!=l){for(;c<u.start;)o(c=Math.min(u.start,c+5e4),d);d=l}u.start=u.pos}for(;c<u.pos;){var f=Math.min(u.pos,c+5e4);o(f,d),c=f}}function Xi(t,e,i,n){var o=[t.state.modeGen],r={};qi(t,e.text,t.doc.mode,i,(function(t,e){o.push(t,e)}),r,n);for(var s=0;s<t.state.overlays.length;++s){var a=t.state.overlays[s],l=1,c=0;qi(t,e.text,a.mode,!0,(function(t,e){for(var i=l;t>c;){var n=o[l];n>t&&o.splice(l,1,t,o[l+1],n),l+=2,c=Math.min(t,n)}if(e)if(a.opaque)o.splice(i,l-i,t,"cm-overlay "+e),l=i+2;else for(;l>i;i+=2){var r=o[i+1];o[i+1]=(r?r+" ":"")+"cm-overlay "+e}}),r)}return{styles:o,classes:r.bgClass||r.textClass?r:null}}function Qi(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=Ot(t,fn(e)),o=Xi(t,e,e.text.length>t.options.maxHighlightLength?hr(t.doc.mode,n):n);e.stateAfter=n,e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.frontier&&t.doc.frontier++}return e.styles}function Vi(t,e,i,n){var o=t.doc.mode,r=new br(e,t.options.tabSize);for(r.start=r.pos=n||0,""==e&&Wi(o,i);!r.eol();)Yi(o,r,i),r.start=r.pos}function Ki(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?_r:Tr;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function Gi(t,e){var i=Gn("span",null,null,To?"padding-right: .1px":null),n={pre:Gn("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,splitSpaces:(Co||To)&&t.getOption("lineWrapping")};e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var r,s=o?e.rest[o-1]:e.line;n.pos=0,n.addToken=Zi,ro(t.display.measure)&&(r=vn(s))&&(n.addToken=tn(n.addToken,r)),n.map=[],nn(s,n,Qi(t,s,e!=t.display.externalMeasured&&fn(s))),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=io(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=io(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(oo(t.display.measure))),0==o?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(To){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return jr(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=io(n.pre.className,n.textClass||"")),n}function Zi(t,e,i,n,o,r,s){if(e){var a=t.splitSpaces?e.replace(/ {3,}/g,Ji):e,l=t.cm.state.specialChars,c=!1;if(l.test(e))for(var d=document.createDocumentFragment(),u=0;;){l.lastIndex=u;var h=l.exec(e),p=h?h.index-u:e.length-u;if(p){var f=document.createTextNode(a.slice(u,u+p));Co&&9>So?d.appendChild(Gn("span",[f])):d.appendChild(f),t.map.push(t.pos,t.pos+p,f),t.col+=p,t.pos+=p}if(!h)break;if(u+=p+1,"\t"==h[0]){var g=t.cm.options.tabSize,m=g-t.col%g;(f=d.appendChild(Gn("span",Bn(m),"cm-tab"))).setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),t.col+=m}else if("\r"==h[0]||"\n"==h[0]){(f=d.appendChild(Gn("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),t.col+=1}else{(f=t.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),Co&&9>So?d.appendChild(Gn("span",[f])):d.appendChild(f),t.col+=1}t.map.push(t.pos,t.pos+1,f),t.pos++}else{t.col+=e.length;d=document.createTextNode(a);t.map.push(t.pos,t.pos+e.length,d),Co&&9>So&&(c=!0),t.pos+=e.length}if(i||n||o||c||s){var v=i||"";n&&(v+=n),o&&(v+=o);var y=Gn("span",[d],v,s);return r&&(y.title=r),t.content.appendChild(y)}t.content.appendChild(d)}}function Ji(t){for(var e=" ",i=0;i<t.length-2;++i)e+=i%2?" ":" ";return e+" "}function tn(t,e){return function(i,n,o,r,s,a,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=i.pos,d=c+n.length;;){for(var u=0;u<e.length;u++){var h=e[u];if(h.to>c&&h.from<=c)break}if(h.to>=d)return t(i,n,o,r,s,a,l);t(i,n.slice(0,h.to-c),o,r,null,a,l),r=null,n=n.slice(h.to-c),c=h.to}}}function en(t,e,i,n){var o=!n&&i.widgetNode;o&&t.map.push(t.pos,t.pos+e,o),!n&&t.cm.display.input.needsContentAttribute&&(o||(o=t.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",i.id)),o&&(t.cm.display.input.setUneditable(o),t.content.appendChild(o)),t.pos+=e}function nn(t,e,i){var n=t.markedSpans,o=t.text,r=0;if(n)for(var s,a,l,c,d,u,h,p=o.length,f=0,g=1,m="",v=0;;){if(v==f){l=c=d=u=a="",h=null,v=1/0;for(var y,b=[],w=0;w<n.length;++w){var x=n[w],k=x.marker;"bookmark"==k.type&&x.from==f&&k.widgetNode?b.push(k):x.from<=f&&(null==x.to||x.to>f||k.collapsed&&x.to==f&&x.from==f)?(null!=x.to&&x.to!=f&&v>x.to&&(v=x.to,c=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&x.from==f&&(d+=" "+k.startStyle),k.endStyle&&x.to==v&&(y||(y=[])).push(k.endStyle,x.to),k.title&&!u&&(u=k.title),k.collapsed&&(!h||Ei(h.marker,k)<0)&&(h=x)):x.from>f&&v>x.from&&(v=x.from)}if(y)for(w=0;w<y.length;w+=2)y[w+1]==v&&(c+=" "+y[w]);if(!h||h.from==f)for(w=0;w<b.length;++w)en(e,0,b[w]);if(h&&(h.from||0)==f){if(en(e,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(f>=p)break;for(var C=Math.min(p,v);;){if(m){var S=f+m.length;if(!h){var T=S>C?m.slice(0,C-f):m;e.addToken(e,T,s?s+l:l,d,f+T.length==v?c:"",u,a)}if(S>=C){m=m.slice(C-f),f=C;break}f=S,d=""}m=o.slice(r,r=i[g++]),s=Ki(i[g++],e.cm.options)}}else for(g=1;g<i.length;g+=2)e.addToken(e,o.slice(r,r=i[g]),Ki(i[g+1],e.cm.options))}function on(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Rn(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function rn(t,e,i,n){function o(t){return i?i[t]:null}function r(t,i,o){(function(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ti(t),_i(t,i);var o=n?n(t):1;o!=t.height&&pn(t,o)})(t,i,o,n),Ln(t,"change",t,e)}function s(t,e){for(var i=t,r=[];e>i;++i)r.push(new Sr(c[i],o(i),n));return r}var a=e.from,l=e.to,c=e.text,d=dn(t,a.line),u=dn(t,l.line),h=Rn(c),p=o(c.length-1),f=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(on(t,e)){var g=s(0,c.length-1);r(u,u.text,p),f&&t.remove(a.line,f),g.length&&t.insert(a.line,g)}else if(d==u)if(1==c.length)r(d,d.text.slice(0,a.ch)+h+d.text.slice(l.ch),p);else{(g=s(1,c.length-1)).push(new Sr(h+d.text.slice(l.ch),p,n)),r(d,d.text.slice(0,a.ch)+c[0],o(0)),t.insert(a.line+1,g)}else if(1==c.length)r(d,d.text.slice(0,a.ch)+c[0]+u.text.slice(l.ch),o(0)),t.remove(a.line+1,f);else{r(d,d.text.slice(0,a.ch)+c[0],o(0)),r(u,h+u.text.slice(l.ch),p);g=s(1,c.length-1);f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,g)}Ln(t,"change",t,e)}function sn(t){this.lines=t,this.parent=null;for(var e=0,i=0;e<t.length;++e)t[e].parent=this,i+=t[e].height;this.height=i}function an(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var o=t[n];e+=o.chunkSize(),i+=o.height,o.parent=this}this.size=e,this.height=i,this.parent=null}function ln(t,e,i){!function t(n,o,r){if(n.linked)for(var s=0;s<n.linked.length;++s){var a=n.linked[s];if(a.doc!=o){var l=r&&a.sharedHist;i&&!l||(e(a.doc,l),t(a.doc,n,l))}}}(t,null,!0)}function cn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,r(t),i(t),t.options.lineWrapping||u(t),t.options.mode=e.modeOption,xe(t)}function dn(t,e){if(0>(e-=t.first)||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var o=i.children[n],r=o.chunkSize();if(r>e){i=o;break}e-=r}return i.lines[e]}function un(t,e,i){var n=[],o=e.line;return t.iter(e.line,i.line+1,(function(t){var r=t.text;o==i.line&&(r=r.slice(0,i.ch)),o==e.line&&(r=r.slice(e.ch)),n.push(r),++o})),n}function hn(t,e,i){var n=[];return t.iter(e,i,(function(t){n.push(t.text)})),n}function pn(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function fn(t){if(null==t.parent)return null;for(var e=t.parent,i=zn(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var o=0;n.children[o]!=e;++o)i+=n.children[o].chunkSize();return i+e.first}function gn(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var o=t.children[n],r=o.height;if(r>e){t=o;continue t}e-=r,i+=o.chunkSize()}return i}while(!t.lines);for(n=0;n<t.lines.length;++n){var s=t.lines[n].height;if(s>e)break;e-=s}return i+n}function mn(t){for(var e=0,i=(t=Oi(t)).parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==t)break;e+=o.height}for(var r=i.parent;r;r=(i=r).parent)for(n=0;n<r.children.length;++n){var s=r.children[n];if(s==i)break;e+=s.height}return e}function vn(t){var e=t.order;return null==e&&(e=t.order=us(t.text)),e}function yn(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function bn(t,e){var i={from:W(e.from),to:nr(e),text:un(t,e.from,e.to)};return Cn(t,i,e.from.line,e.to.line+1),ln(t,(function(t){Cn(t,i,e.from.line,e.to.line+1)}),!0),i}function wn(t){for(;t.length;){if(!Rn(t).ranges)break;t.pop()}}function xn(t,e,i,n){var o=t.history;o.undone.length=0;var r,s=+new Date;if((o.lastOp==n||o.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&o.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(r=function(t,e){return e?(wn(t.done),Rn(t.done)):t.done.length&&!Rn(t.done).ranges?Rn(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Rn(t.done)):void 0}(o,o.lastOp==n))){var a=Rn(r.changes);0==Wo(e.from,e.to)&&0==Wo(e.from,a.to)?a.to=nr(e):r.changes.push(bn(t,e))}else{var l=Rn(o.done);for(l&&l.ranges||kn(t.sel,o.done),r={changes:[bn(t,e)],generation:o.generation},o.done.push(r);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=e.origin,a||jr(t,"historyAdded")}function kn(t,e){var i=Rn(e);i&&i.ranges&&i.equals(t)||e.push(t)}function Cn(t,e,i,n){var o=e["spans_"+t.id],r=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),(function(i){i.markedSpans&&((o||(o=e["spans_"+t.id]={}))[r]=i.markedSpans),++r}))}function Sn(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function Tn(t,e,i){for(var n=0,o=[];n<t.length;++n){var r=t[n];if(r.ranges)o.push(i?rt.prototype.deepCopy.call(r):r);else{var s=r.changes,a=[];o.push({changes:a});for(var l=0;l<s.length;++l){var c,d=s[l];if(a.push({from:d.from,to:d.to,text:d.text}),e)for(var u in d)(c=u.match(/^spans_(\d+)$/))&&zn(e,Number(c[1]))>-1&&(Rn(a)[u]=d[u],delete d[u])}}}return o}function _n(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function An(t,e,i,n){for(var o=0;o<t.length;++o){var r=t[o],s=!0;if(r.ranges){r.copied||((r=t[o]=r.deepCopy()).copied=!0);for(var a=0;a<r.ranges.length;a++)_n(r.ranges[a].anchor,e,i,n),_n(r.ranges[a].head,e,i,n)}else{for(a=0;a<r.changes.length;++a){var l=r.changes[a];if(i<l.from.line)l.from=zo(l.from.line+n,l.from.ch),l.to=zo(l.to.line+n,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,o+1),o=0)}}}function Dn(t,e){var i=e.from.line,n=e.to.line,o=e.text.length-(n-i)-1;An(t.done,i,n,o),An(t.undone,i,n,o)}function En(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Mn(t){return t.target||t.srcElement}function In(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Oo&&t.ctrlKey&&1==e&&(e=3),e}function $n(t,e,i){var n=t._handlers&&t._handlers[e];return i?n&&n.length>0?n.slice():Nr:n||Nr}function Ln(t,e){function i(t){return function(){t.apply(null,r)}}var n=$n(t,e,!1);if(n.length){var o,r=Array.prototype.slice.call(arguments,2);Vo?o=Vo.delayedCallbacks:Hr?o=Hr:(o=Hr=[],setTimeout(On,0));for(var s=0;s<n.length;++s)o.push(i(n[s]))}}function On(){var t=Hr;Hr=null;for(var e=0;e<t.length;++e)t[e]()}function Nn(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),jr(t,i||e.type,t,e),En(e)||e.codemirrorIgnore}function Pn(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)-1==zn(i,e[n])&&i.push(e[n])}function jn(t,e){return $n(t,e).length>0}function Hn(t){t.prototype.on=function(t,e){Or(this,t,e)},t.prototype.off=function(t,e){Pr(this,t,e)}}function Fn(){this.id=null}function Bn(t){for(;qr.length<=t;)qr.push(Rn(qr)+" ");return qr[t]}function Rn(t){return t[t.length-1]}function zn(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}function Wn(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function Yn(){}function Un(t,e){var i;return Object.create?i=Object.create(t):(Yn.prototype=t,i=new Yn),e&&qn(e,i),i}function qn(t,e,i){for(var n in e||(e={}),t)!t.hasOwnProperty(n)||!1===i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function Xn(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Qn(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Kr(t))||e.test(t):Kr(t)}function Vn(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Kn(t){return t.charCodeAt(0)>=768&&Gr.test(t)}function Gn(t,e,i,n){var o=document.createElement(t);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof e)o.appendChild(document.createTextNode(e));else if(e)for(var r=0;r<e.length;++r)o.appendChild(e[r]);return o}function Zn(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Jn(t,e){return Zn(t).appendChild(e)}function to(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function eo(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function io(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!eo(i[n]).test(e)&&(e+=" "+i[n]);return e}function no(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),i=0;i<e.length;i++){var n=e[i].CodeMirror;n&&t(n)}}function oo(t){if(null==Jr){var e=Gn("span","​");Jn(t,Gn("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Jr=e.offsetWidth<=1&&e.offsetHeight>2&&!(Co&&8>So))}var i=Jr?Gn("span","​"):Gn("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function ro(t){if(null!=ts)return ts;var e=Jn(t,document.createTextNode("AخA")),i=Qr(e,0,1).getBoundingClientRect();if(!i||i.left==i.right)return!1;var n=Qr(e,1,2).getBoundingClientRect();return ts=n.right-i.right<3}function so(t){return t.level%2?t.to:t.from}function ao(t){return t.level%2?t.from:t.to}function lo(t){var e=vn(t);return e?so(e[0]):0}function co(t){var e=vn(t);return e?ao(Rn(e)):t.text.length}function uo(t,e){var i=dn(t.doc,e),n=Oi(i);n!=i&&(e=fn(n));var o=vn(n),r=o?o[0].level%2?co(n):lo(n):0;return zo(e,r)}function ho(t,e){var i=uo(t,e.line),n=dn(t.doc,i.line),o=vn(n);if(!o||0==o[0].level){var r=Math.max(0,n.text.search(/\S/)),s=e.line==i.line&&e.ch<=r&&e.ch;return zo(i.line,s?0:r)}return i}function po(t,e,i){var n=t[0].level;return e==n||i!=n&&i>e}function fo(t,e){ds=null;for(var i,n=0;n<t.length;++n){var o=t[n];if(o.from<e&&o.to>e)return n;if(o.from==e||o.to==e){if(null!=i)return po(t,o.level,t[i].level)?(o.from!=o.to&&(ds=i),n):(o.from!=o.to&&(ds=n),i);i=n}}return i}function go(t,e,i,n){if(!n)return e+i;do{e+=i}while(e>0&&Kn(t.text.charAt(e)));return e}function mo(t,e,i,n){var o=vn(t);if(!o)return vo(t,e,i,n);for(var r=fo(o,e),s=o[r],a=go(t,e,s.level%2?-i:i,n);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return fo(o,a)==r?a:i>0==(s=o[r+=i]).level%2?s.to:s.from;if(!(s=o[r+=i]))return null;a=i>0==s.level%2?go(t,s.to,-1,n):go(t,s.from,1,n)}}function vo(t,e,i,n){var o=e+i;if(n)for(;o>0&&Kn(t.text.charAt(o));)o+=i;return 0>o||o>t.text.length?null:o}var yo=navigator.userAgent,bo=navigator.platform,wo=/gecko\/\d/i.test(yo),xo=/MSIE \d/.test(yo),ko=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yo),Co=xo||ko,So=Co&&(xo?document.documentMode||6:ko[1]),To=/WebKit\//.test(yo),_o=To&&/Qt\/\d+\.\d+/.test(yo),Ao=/Chrome\//.test(yo),Do=/Opera\//.test(yo),Eo=/Apple Computer/.test(navigator.vendor),Mo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(yo),Io=/PhantomJS/.test(yo),$o=/AppleWebKit/.test(yo)&&/Mobile\/\w+/.test(yo),Lo=$o||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(yo),Oo=$o||/Mac/.test(bo),No=/\bCrOS\b/.test(yo),Po=/win/i.test(bo),jo=Do&&yo.match(/Version\/(\d*\.\d*)/);jo&&(jo=Number(jo[1])),jo&&jo>=15&&(Do=!1,To=!0);var Ho=Oo&&(_o||Do&&(null==jo||12.11>jo)),Fo=wo||Co&&So>=9,Bo=!1,Ro=!1;f.prototype=qn({update:function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var o=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var r=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+r+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Oo&&!Mo?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Fn,this.disableVert=new Fn},enableZeroWidthBar:function(t,e){t.style.pointerEvents="auto",e.set(1e3,(function i(){var n=t.getBoundingClientRect();document.elementFromPoint(n.left+1,n.bottom-1)!=t?t.style.pointerEvents="none":e.set(1e3,i)}))},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},f.prototype),g.prototype=qn({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),t.scrollbarModel={native:f,null:g},S.prototype.signal=function(t,e){jn(t,e)&&this.events.push(arguments)},S.prototype.finish=function(){for(var t=0;t<this.events.length;t++)jr.apply(null,this.events[t])};var zo=t.Pos=function(t,e){return this instanceof zo?(this.line=t,void(this.ch=e)):new zo(t,e)},Wo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Yo=null;Z.prototype=qn({init:function(t){function e(t){if(!Nn(n,t)){if(n.somethingSelected())Yo={lineWise:!1,text:n.getSelections()},i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,r.value=Yo.text.join("\n"),Xr(r));else{if(!n.options.lineWiseCopyCut)return;var e=K(n);Yo={lineWise:!0,text:e.text},"cut"==t.type?n.setSelections(e.ranges,null,Rr):(i.prevInput="",r.value=e.text.join("\n"),Xr(r))}"cut"==t.type&&(n.state.cutIncoming=!0)}}var i=this,n=this.cm,o=this.wrapper=J(),r=this.textarea=o.firstChild;t.wrapper.insertBefore(o,t.wrapper.firstChild),$o&&(r.style.width="0px"),Or(r,"input",(function(){Co&&So>=9&&i.hasSelection&&(i.hasSelection=null),i.poll()})),Or(r,"paste",(function(t){Nn(n,t)||Q(t,n)||(n.state.pasteIncoming=!0,i.fastPoll())})),Or(r,"cut",e),Or(r,"copy",e),Or(t.scroller,"paste",(function(e){De(t,e)||Nn(n,e)||(n.state.pasteIncoming=!0,i.focus())})),Or(t.lineSpace,"selectstart",(function(e){De(t,e)||Ir(e)})),Or(r,"compositionstart",(function(){var t=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:t,range:n.markText(t,n.getCursor("to"),{className:"CodeMirror-composing"})}})),Or(r,"compositionend",(function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)}))},prepareSelection:function(){var t=this.cm,e=t.display,i=t.doc,n=Dt(t);if(t.options.moveInputWithCursor){var o=ee(t,i.sel.primary().head,"div"),r=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,o.top+s.top-r.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,o.left+s.left-r.left))}return n},showSelection:function(t){var e=this.cm.display;Jn(e.cursorDiv,t.cursors),Jn(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,i,n=this.cm,o=n.doc;if(n.somethingSelected()){this.prevInput="";var r=o.sel.primary(),s=(e=as&&(r.to().line-r.from().line>100||(i=n.getSelection()).length>1e3))?"-":i||n.getSelection();this.textarea.value=s,n.state.focused&&Xr(this.textarea),Co&&So>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",Co&&So>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Lo||to()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},fastPoll:function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function i(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,i))}))},poll:function(){var t=this.cm,e=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||ss(e)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var n=e.value;if(n==i&&!t.somethingSelected())return!1;if(Co&&So>=9&&this.hasSelection===n||Oo&&/[\uf700-\uf7ff]/.test(n))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=n.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var r=0,s=Math.min(i.length,n.length);s>r&&i.charCodeAt(r)==n.charCodeAt(r);)++r;var a=this;return ge(t,(function(){X(t,n.slice(r),i.length-r,null,a.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?e.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=t.markText(a.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){Co&&So>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=s.selectionStart){var t=o.somethingSelected(),e="​"+(t?s.value:"");s.value="⇚",s.value=e,n.prevInput=t?"":"​",s.selectionStart=1,s.selectionEnd=e.length,r.selForContextMenu=o.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=d,s.style.cssText=c,Co&&9>So&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=s.selectionStart){(!Co||Co&&9>So)&&e();var t=0,i=function(){r.selForContextMenu==o.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==n.prevInput?me(o,fr.selectAll)(o):t++<10?r.detectingSelectAll=setTimeout(i,500):r.input.reset()};r.detectingSelectAll=setTimeout(i,200)}}var n=this,o=n.cm,r=o.display,s=n.textarea,a=Ee(o,t),l=r.scroller.scrollTop;if(a&&!Do){o.options.resetSelectionOnContextMenu&&-1==o.doc.sel.contains(a)&&me(o,bt)(o.doc,lt(a),Rr);var c=s.style.cssText,d=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var u=n.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-u.top-5)+"px; left: "+(t.clientX-u.left-5)+"px; z-index: 1000; background: "+(Co?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",To)var h=window.scrollY;if(r.input.focus(),To&&window.scrollTo(null,h),r.input.reset(),o.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,r.selForContextMenu=o.doc.sel,clearTimeout(r.detectingSelectAll),Co&&So>=9&&e(),Fo){Lr(t);var p=function(){Pr(window,"mouseup",p),setTimeout(i,20)};Or(window,"mouseup",p)}else setTimeout(i,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Yn,needsContentAttribute:!1},Z.prototype),tt.prototype=qn({init:function(t){function e(t){if(!Nn(n,t)){if(n.somethingSelected())Yo={lineWise:!1,text:n.getSelections()},"cut"==t.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var e=K(n);Yo={lineWise:!0,text:e.text},"cut"==t.type&&n.operation((function(){n.setSelections(e.ranges,0,Rr),n.replaceSelection("",null,"cut")}))}if(t.clipboardData&&!$o)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Yo.text.join("\n"));else{var i=J(),o=i.firstChild;n.display.lineSpace.insertBefore(i,n.display.lineSpace.firstChild),o.value=Yo.text.join("\n");var r=document.activeElement;Xr(o),setTimeout((function(){n.display.lineSpace.removeChild(i),r.focus()}),50)}}}var i=this,n=i.cm,o=i.div=t.lineDiv;G(o),Or(o,"paste",(function(t){Nn(n,t)||Q(t,n)})),Or(o,"compositionstart",(function(t){var e=t.data;if(i.composing={sel:n.doc.sel,data:e,startData:e},e){var o=n.doc.sel.primary(),r=n.getLine(o.head.line).indexOf(e,Math.max(0,o.head.ch-e.length));r>-1&&r<=o.head.ch&&(i.composing.sel=lt(zo(o.head.line,r),zo(o.head.line,r+e.length)))}})),Or(o,"compositionupdate",(function(t){i.composing.data=t.data})),Or(o,"compositionend",(function(t){var e=i.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout((function(){e.handled||i.applyComposition(e),i.composing==e&&(i.composing=null)}),50))})),Or(o,"touchstart",(function(){i.forceCompositionEnd()})),Or(o,"input",(function(){i.composing||!n.isReadOnly()&&i.pollContent()||ge(i.cm,(function(){xe(n)}))})),Or(o,"copy",e),Or(o,"cut",e)},prepareSelection:function(){var t=Dt(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),i=nt(this.cm,t.anchorNode,t.anchorOffset),n=nt(this.cm,t.focusNode,t.focusOffset);if(!i||i.bad||!n||n.bad||0!=Wo(U(i,n),e.from())||0!=Wo(Y(i,n),e.to())){var o=et(this.cm,e.from()),r=et(this.cm,e.to());if(o||r){var s=this.cm.display.view,a=t.rangeCount&&t.getRangeAt(0);if(o){if(!r){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;r={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else o={node:s[0].measure.map[2],offset:0};try{var d=Qr(o.node,o.offset,r.offset,r.node)}catch(t){}d&&(!wo&&this.cm.state.focused?(t.collapse(o.node,o.offset),d.collapsed||t.addRange(d)):(t.removeAllRanges(),t.addRange(d)),a&&null==t.anchorNode?t.addRange(a):wo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){t.cm.curOp.selectionChanged=!0}))}),20)},showMultipleSelections:function(t){Jn(this.cm.display.cursorDiv,t.cursors),Jn(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Zr(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var t=this;this.selectionInEditor()?this.pollSelection():ge(this.cm,(function(){t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}))},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var i=nt(e,t.anchorNode,t.anchorOffset),n=nt(e,t.focusNode,t.focusOffset);i&&n&&ge(e,(function(){bt(e.doc,lt(i,n),Rr),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)}))}},pollContent:function(){var t,e=this.cm,i=e.display,n=e.doc.sel.primary(),o=n.from(),r=n.to();if(o.line<i.viewFrom||r.line>i.viewTo-1)return!1;if(o.line==i.viewFrom||0==(t=Se(e,o.line)))var s=fn(i.view[0].line),a=i.view[0].node;else s=fn(i.view[t].line),a=i.view[t-1].node.nextSibling;var l=Se(e,r.line);if(l==i.view.length-1)var c=i.viewTo-1,d=i.lineDiv.lastChild;else c=fn(i.view[l+1].line)-1,d=i.view[l+1].node.previousSibling;for(var u=e.doc.splitLines(function(t,e,i,n,o){function r(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(null!=i)return""==i&&(i=e.textContent.replace(/\u200b/g,"")),void(s+=i);var c,d=e.getAttribute("cm-marker");if(d){var u=t.findMarks(zo(n,0),zo(o+1,0),function(t){return function(e){return e.id==t}}(+d));return void(u.length&&(c=u[0].find())&&(s+=un(t.doc,c.from,c.to).join(l)))}if("false"==e.getAttribute("contenteditable"))return;for(var h=0;h<e.childNodes.length;h++)r(e.childNodes[h]);/^(pre|div|p)$/i.test(e.nodeName)&&(a=!0)}else if(3==e.nodeType){var p=e.nodeValue;if(!p)return;a&&(s+=l,a=!1),s+=p}}for(var s="",a=!1,l=t.doc.lineSeparator();r(e),e!=i;)e=e.nextSibling;return s}(e,a,d,s,c)),h=un(e.doc,zo(s,0),zo(c,dn(e.doc,c).text.length));u.length>1&&h.length>1;)if(Rn(u)==Rn(h))u.pop(),h.pop(),c--;else{if(u[0]!=h[0])break;u.shift(),h.shift(),s++}for(var p=0,f=0,g=u[0],m=h[0],v=Math.min(g.length,m.length);v>p&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var y=Rn(u),b=Rn(h),w=Math.min(y.length-(1==u.length?p:0),b.length-(1==h.length?p:0));w>f&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;u[u.length-1]=y.slice(0,y.length-f),u[0]=u[0].slice(p);var x=zo(s,p),k=zo(c,h.length?Rn(h).length-f:0);return u.length>1||u[0]||Wo(x,k)?(ni(e.doc,u,x,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?me(this.cm,xe)(this.cm):t.data&&t.data!=t.startData&&me(this.cm,X)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||me(this.cm,X)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Yn,resetPosition:Yn,needsContentAttribute:!0},tt.prototype),t.inputStyles={textarea:Z,contenteditable:tt},rt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(0!=Wo(i.anchor,n.anchor)||0!=Wo(i.head,n.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new st(W(this.ranges[e].anchor),W(this.ranges[e].head));return new rt(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(Wo(e,n.from())>=0&&Wo(t,n.to())<=0)return i}return-1}},st.prototype={from:function(){return U(this.anchor,this.head)},to:function(){return Y(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Uo,qo,Xo,Qo={left:0,right:0,top:0,bottom:0},Vo=null,Ko=0,Go=0,Zo=0,Jo=null;Co?Jo=-.53:wo?Jo=15:Ao?Jo=-.7:Eo&&(Jo=-1/3);var tr=function(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}};t.wheelEventPixels=function(t){var e=tr(t);return e.x*=Jo,e.y*=Jo,e};var er=new Fn,ir=null,nr=t.changeEnd=function(t){return t.text?zo(t.from.line+t.text.length-1,Rn(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var i=this.options,n=i[t];i[t]==e&&"mode"!=t||(i[t]=e,rr.hasOwnProperty(t)&&me(this,rr[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](gi(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:ve((function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:i&&i.opaque}),this.state.modeGen++,xe(this)})),removeOverlay:ve((function(t){for(var e=this.state.overlays,i=0;i<e.length;++i){var n=e[i].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(i,1),this.state.modeGen++,void xe(this)}})),indentLine:ve((function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),ut(this.doc,t)&&li(this,t,e,i)})),indentSelection:ve((function(t){for(var e=this.doc.sel.ranges,i=-1,n=0;n<e.length;n++){var o=e[n];if(o.empty())o.head.line>i&&(li(this,o.head.line,t,!0),i=o.head.line,n==this.doc.sel.primIndex&&si(this));else{var r=o.from(),s=o.to(),a=Math.max(i,r.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;i>l;++l)li(this,l,t);var c=this.doc.sel.ranges;0==r.ch&&e.length==c.length&&c[n].from().ch>0&&mt(this.doc,n,new st(r,c[n].to()),Rr)}}})),getTokenAt:function(t,e){return Ui(this,t,e)},getLineTokens:function(t,e){return Ui(this,zo(t),e,!0)},getTokenTypeAt:function(t){t=dt(this.doc,t);var e,i=Qi(this,dn(this.doc,t.line)),n=0,o=(i.length-1)/2,r=t.ch;if(0==r)e=i[2];else for(;;){var s=n+o>>1;if((s?i[2*s-1]:0)>=r)o=s;else{if(!(i[2*s+1]<r)){e=i[2*s+2];break}n=s+1}}var a=e?e.indexOf("cm-overlay "):-1;return 0>a?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!ur.hasOwnProperty(e))return i;var n=ur[e],o=this.getModeAt(t);if("string"==typeof o[e])n[o[e]]&&i.push(n[o[e]]);else if(o[e])for(var r=0;r<o[e].length;r++){var s=n[o[e][r]];s&&i.push(s)}else o.helperType&&n[o.helperType]?i.push(n[o.helperType]):n[o.name]&&i.push(n[o.name]);for(r=0;r<n._global.length;r++){var a=n._global[r];a.pred(o,this)&&-1==zn(i,a.val)&&i.push(a.val)}return i},getStateAfter:function(t,e){var i=this.doc;return Ot(this,(t=ct(i,null==t?i.first+i.size-1:t))+1,e)},cursorCoords:function(t,e){var i=this.doc.sel.primary();return ee(this,null==t?i.head:"object"==typeof t?dt(this.doc,t):t?i.from():i.to(),e||"page")},charCoords:function(t,e){return te(this,dt(this.doc,t),e||"page")},coordsChar:function(t,e){return oe(this,(t=Jt(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Jt(this,{top:t,left:0},e||"page").top,gn(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var i,n=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,n=!0),i=dn(this.doc,t)}else i=t;return Zt(this,i,{top:0,left:0},e||"page").top+(n?this.doc.height-mn(i):0)},defaultTextHeight:function(){return se(this.display)},defaultCharWidth:function(){return ae(this.display)},setGutterMarker:ve((function(t,e,i){return ci(this.doc,t,"gutter",(function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&Vn(n)&&(t.gutterMarkers=null),!0}))})),clearGutter:ve((function(t){var e=this,i=e.doc,n=i.first;i.iter((function(i){i.gutterMarkers&&i.gutterMarkers[t]&&(i.gutterMarkers[t]=null,ke(e,n,"gutter"),Vn(i.gutterMarkers)&&(i.gutterMarkers=null)),++n}))})),lineInfo:function(t){if("number"==typeof t){if(!ut(this.doc,t))return null;var e=t;if(!(t=dn(this.doc,t)))return null}else{if(null==(e=fn(t)))return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,o){var r=this.display,s=(t=ee(this,dt(this.doc,t))).bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),r.sizer.appendChild(e),"over"==n)s=t.top;else if("above"==n||"near"==n){var l=Math.max(r.wrapper.clientHeight,this.doc.height),c=Math.max(r.sizer.clientWidth,r.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==o?(a=r.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==o?a=0:"middle"==o&&(a=(r.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&function(t,e,i,n,o){var r=oi(t,e,i,n,o);null!=r.scrollTop&&Ne(t,r.scrollTop),null!=r.scrollLeft&&Pe(t,r.scrollLeft)}(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:ve(Re),triggerOnKeyPress:ve(We),triggerOnKeyUp:ze,execCommand:function(t){return fr.hasOwnProperty(t)?fr[t].call(null,this):void 0},triggerElectric:ve((function(t){V(this,t)})),findPosH:function(t,e,i,n){var o=1;0>e&&(o=-1,e=-e);for(var r=0,s=dt(this.doc,t);e>r&&!(s=ui(this.doc,s,o,i,n)).hitSide;++r);return s},moveH:ve((function(t,e){var i=this;i.extendSelectionsBy((function(n){return i.display.shift||i.doc.extend||n.empty()?ui(i.doc,n.head,t,e,i.options.rtlMoveVisually):0>t?n.from():n.to()}),Wr)})),deleteH:ve((function(t,e){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):di(this,(function(i){var o=ui(n,i.head,t,e,!1);return 0>t?{from:o,to:i.head}:{from:i.head,to:o}}))})),findPosV:function(t,e,i,n){var o=1,r=n;0>e&&(o=-1,e=-e);for(var s=0,a=dt(this.doc,t);e>s;++s){var l=ee(this,a,"div");if(null==r?r=l.left:l.left=r,(a=hi(this,l,o,i)).hitSide)break}return a},moveV:ve((function(t,e){var i=this,n=this.doc,o=[],r=!i.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(s){if(r)return 0>t?s.from():s.to();var a=ee(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),o.push(a.left);var l=hi(i,a,t,e);return"page"==e&&s==n.sel.primary()&&ri(i,null,te(i,l,"div").top-a.top),l}),Wr),o.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=o[s]})),findWordAt:function(t){var e=dn(this.doc,t.line).text,i=t.ch,n=t.ch;if(e){var o=this.getHelper(t,"wordChars");(t.xRel<0||n==e.length)&&i?--i:++n;for(var r=e.charAt(i),s=Qn(r,o)?function(t){return Qn(t,o)}:/\s/.test(r)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Qn(t)};i>0&&s(e.charAt(i-1));)--i;for(;n<e.length&&s(e.charAt(n));)++n}return new st(zo(t.line,i),zo(t.line,n))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?is(this.display.cursorDiv,"CodeMirror-overwrite"):es(this.display.cursorDiv,"CodeMirror-overwrite"),jr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==to()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ve((function(t,e){null==t&&null==e||ai(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Ht(this)-this.display.barHeight,width:t.scrollWidth-Ht(this)-this.display.barWidth,clientHeight:Bt(this),clientWidth:Ft(this)}},scrollIntoView:ve((function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:zo(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)ai(this),this.curOp.scrollToPos=t;else{var i=oi(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}})),setSize:ve((function(t,e){function i(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var n=this;null!=t&&(n.display.wrapper.style.width=i(t)),null!=e&&(n.display.wrapper.style.height=i(e)),n.options.lineWrapping&&Qt(this);var o=n.display.viewFrom;n.doc.iter(o,n.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){ke(n,o,"widget");break}++o})),n.curOp.forceUpdate=!0,jr(n,"refresh",this)})),operation:function(t){return ge(this,t)},refresh:ve((function(){var t=this.display.cachedTextHeight;xe(this),this.curOp.forceUpdate=!0,Vt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==t||Math.abs(t-se(this.display))>.5)&&r(this),jr(this,"refresh",this)})),swapDoc:ve((function(t){var e=this.doc;return e.cm=null,cn(this,t),Vt(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Ln(this,"swapDoc",this,e),e})),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Hn(t);var or=t.defaults={},rr=t.optionHandlers={},sr=t.Init={toString:function(){return"CodeMirror.Init"}};pi("value","",(function(t,e){t.setValue(e)}),!0),pi("mode",null,(function(t,e){t.doc.modeOption=e,i(t)}),!0),pi("indentUnit",2,i,!0),pi("indentWithTabs",!1),pi("smartIndent",!0),pi("tabSize",4,(function(t){n(t),Vt(t),xe(t)}),!0),pi("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter((function(t){for(var o=0;;){var r=t.text.indexOf(e,o);if(-1==r)break;o=r+e.length,i.push(zo(n,r))}n++}));for(var o=i.length-1;o>=0;o--)ni(t.doc,e,i[o],zo(i[o].line,i[o].ch+e.length))}})),pi("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,(function(e,i,n){e.state.specialChars=new RegExp(i.source+(i.test("\t")?"":"|\t"),"g"),n!=t.Init&&e.refresh()})),pi("specialCharPlaceholder",(function(t){var e=Gn("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}),(function(t){t.refresh()}),!0),pi("electricChars",!0),pi("inputStyle",Lo?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),pi("rtlMoveVisually",!Po),pi("wholeLineUpdateBefore",!0),pi("theme","default",(function(t){s(t),a(t)}),!0),pi("keyMap","default",(function(e,i,n){var o=gi(i),r=n!=t.Init&&gi(n);r&&r.detach&&r.detach(e,o),o.attach&&o.attach(e,r||null)})),pi("extraKeys",null),pi("lineWrapping",!1,(function(t){t.options.lineWrapping?(is(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(es(t.display.wrapper,"CodeMirror-wrap"),u(t)),r(t),xe(t),Vt(t),setTimeout((function(){v(t)}),100)}),!0),pi("gutters",[],(function(t){h(t.options),a(t)}),!0),pi("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?C(t.display)+"px":"0",t.refresh()}),!0),pi("coverGutterNextToScrollbar",!1,(function(t){v(t)}),!0),pi("scrollbarStyle","native",(function(t){m(t),v(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),pi("lineNumbers",!1,(function(t){h(t.options),a(t)}),!0),pi("firstLineNumber",1,a,!0),pi("lineNumberFormatter",(function(t){return t}),a,!0),pi("showCursorWhenSelecting",!1,At,!0),pi("resetSelectionOnContextMenu",!0),pi("lineWiseCopyCut",!0),pi("readOnly",!1,(function(t,e){"nocursor"==e?(Ue(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)})),pi("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),pi("dragDrop",!0,(function(e,i,n){if(!i!=!(n&&n!=t.Init)){var o=e.display.dragFunctions,r=i?Or:Pr;r(e.display.scroller,"dragstart",o.start),r(e.display.scroller,"dragenter",o.enter),r(e.display.scroller,"dragover",o.over),r(e.display.scroller,"dragleave",o.leave),r(e.display.scroller,"drop",o.drop)}})),pi("allowDropFileTypes",null),pi("cursorBlinkRate",530),pi("cursorScrollMargin",0),pi("cursorHeight",1,At,!0),pi("singleCursorHeightPerLine",!0,At,!0),pi("workTime",100),pi("workDelay",100),pi("flattenSpans",!0,n,!0),pi("addModeClass",!1,n,!0),pi("pollInterval",100),pi("undoDepth",200,(function(t,e){t.doc.history.undoDepth=e})),pi("historyEventDelay",1250),pi("viewportMargin",10,(function(t){t.refresh()}),!0),pi("maxHighlightLength",1e4,n,!0),pi("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),pi("tabindex",null,(function(t,e){t.display.input.getField().tabIndex=e||""})),pi("autofocus",null);var ar=t.modes={},lr=t.mimeModes={};t.defineMode=function(e,i){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),ar[e]=i},t.defineMIME=function(t,e){lr[t]=e},t.resolveMode=function(e){if("string"==typeof e&&lr.hasOwnProperty(e))e=lr[e];else if(e&&"string"==typeof e.name&&lr.hasOwnProperty(e.name)){var i=lr[e.name];"string"==typeof i&&(i={name:i}),(e=Un(i,e)).name=i.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,i){i=t.resolveMode(i);var n=ar[i.name];if(!n)return t.getMode(e,"text/plain");var o=n(e,i);if(cr.hasOwnProperty(i.name)){var r=cr[i.name];for(var s in r)r.hasOwnProperty(s)&&(o.hasOwnProperty(s)&&(o["_"+s]=o[s]),o[s]=r[s])}if(o.name=i.name,i.helperType&&(o.helperType=i.helperType),i.modeProps)for(var s in i.modeProps)o[s]=i.modeProps[s];return o},t.defineMode("null",(function(){return{token:function(t){t.skipToEnd()}}})),t.defineMIME("text/plain","null");var cr=t.modeExtensions={};t.extendMode=function(t,e){qn(e,cr.hasOwnProperty(t)?cr[t]:cr[t]={})},t.defineExtension=function(e,i){t.prototype[e]=i},t.defineDocExtension=function(t,e){Dr.prototype[t]=e},t.defineOption=pi;var dr=[];t.defineInitHook=function(t){dr.push(t)};var ur=t.helpers={};t.registerHelper=function(e,i,n){ur.hasOwnProperty(e)||(ur[e]=t[e]={_global:[]}),ur[e][i]=n},t.registerGlobalHelper=function(e,i,n,o){t.registerHelper(e,i,o),ur[e]._global.push({pred:n,val:o})};var hr=t.copyState=function(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var o=e[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i},pr=t.startState=function(t,e,i){return!t.startState||t.startState(e,i)};t.innerMode=function(t,e){for(;t.innerMode;){var i=t.innerMode(e);if(!i||i.mode==t)break;e=i.state,t=i.mode}return i||{mode:t,state:e}};var fr=t.commands={selectAll:function(t){t.setSelection(zo(t.firstLine(),0),zo(t.lastLine()),Rr)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rr)},killLine:function(t){di(t,(function(e){if(e.empty()){var i=dn(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:zo(e.head.line+1,0)}:{from:e.head,to:zo(e.head.line,i)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){di(t,(function(e){return{from:zo(e.from().line,0),to:dt(t.doc,zo(e.to().line+1,0))}}))},delLineLeft:function(t){di(t,(function(t){return{from:zo(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){di(t,(function(e){var i=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:i},"div"),to:e.from()}}))},delWrappedLineRight:function(t){di(t,(function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}}))},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(zo(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(zo(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy((function(e){return uo(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy((function(e){return ho(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy((function(e){return function(t,e){for(var i,n=dn(t.doc,e);i=$i(n);)n=i.find(1,!0).line,e=null;var o=vn(n),r=o?o[0].level%2?lo(n):co(n):n.text.length;return zo(null==e?fn(n):e,r)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy((function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")}),Wr)},goLineLeft:function(t){t.extendSelectionsBy((function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")}),Wr)},goLineLeftSmart:function(t){t.extendSelectionsBy((function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\S/)?ho(t,e.head):n}),Wr)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,o=0;o<i.length;o++){var r=i[o].from(),s=Yr(t.getLine(r.line),r.ch,n);e.push(Bn(n-s%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){ge(t,(function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){var o=e[n].head,r=dn(t.doc,o.line).text;if(r)if(o.ch==r.length&&(o=new zo(o.line,o.ch-1)),o.ch>0)o=new zo(o.line,o.ch+1),t.replaceRange(r.charAt(o.ch-1)+r.charAt(o.ch-2),zo(o.line,o.ch-2),o,"+transpose");else if(o.line>t.doc.first){var s=dn(t.doc,o.line-1).text;s&&t.replaceRange(r.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),zo(o.line-1,s.length-1),zo(o.line,1),"+transpose")}i.push(new st(o,o))}t.setSelections(i)}))},newlineAndIndent:function(t){ge(t,(function(){for(var e=t.listSelections().length,i=0;e>i;i++){var n=t.listSelections()[i];t.replaceRange(t.doc.lineSeparator(),n.anchor,n.head,"+input"),t.indentLine(n.from().line+1,null,!0)}si(t)}))},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},gr=t.keyMap={};gr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},gr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},gr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},gr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},gr.default=Oo?gr.macDefault:gr.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete t[i];continue}for(var o=Wn(i.split(" "),fi),r=0;r<o.length;r++){var s,a;r==o.length-1?(a=o.join(" "),s=n):(a=o.slice(0,r+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[i]}for(var c in e)t[c]=e[c];return t};var mr=t.lookupKey=function(t,e,i,n){var o=(e=gi(e)).call?e.call(t,n):e[t];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return mr(t,e.fallthrough,i,n);for(var r=0;r<e.fallthrough.length;r++){var s=mr(t,e.fallthrough[r],i,n);if(s)return s}}},vr=t.isModifierKey=function(t){var e="string"==typeof t?t:cs[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},yr=t.keyName=function(t,e){if(Do&&34==t.keyCode&&t.char)return!1;var i=cs[t.keyCode],n=i;return null!=n&&!t.altGraphKey&&(t.altKey&&"Alt"!=i&&(n="Alt-"+n),(Ho?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(Ho?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!e&&t.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)};t.fromTextArea=function(e,i){function n(){e.value=l.getValue()}if((i=i?qn(i):{}).value=e.value,!i.tabindex&&e.tabIndex&&(i.tabindex=e.tabIndex),!i.placeholder&&e.placeholder&&(i.placeholder=e.placeholder),null==i.autofocus){var o=to();i.autofocus=o==e||null!=e.getAttribute("autofocus")&&o==document.body}if(e.form&&(Or(e.form,"submit",n),!i.leaveSubmitMethodAlone)){var r=e.form,s=r.submit;try{var a=r.submit=function(){n(),r.submit=s,r.submit(),r.submit=a}}catch(t){}}i.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Pr(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=s))}},e.style.display="none";var l=t((function(t){e.parentNode.insertBefore(t,e.nextSibling)}),i);return l};var br=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};br.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var i=e==t;else i=e&&(t.test?t.test(e):t(e));return i?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Yr(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Yr(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Yr(this.string,null,this.tabSize)-(this.lineStart?Yr(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}var o=function(t){return i?t.toLowerCase():t};return o(this.string.substr(this.pos,t.length))==o(t)?(!1!==e&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var wr=0,xr=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++wr};Hn(xr),xr.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&le(t),jn(this,"clear")){var i=this.find();i&&Ln(this,"clear",i.from,i.to)}for(var n=null,o=null,r=0;r<this.lines.length;++r){var s=this.lines[r],a=wi(s.markedSpans,this);t&&!this.collapsed?ke(t,fn(s),"text"):t&&(null!=a.to&&(o=fn(s)),null!=a.from&&(n=fn(s))),s.markedSpans=xi(s.markedSpans,a),null==a.from&&this.collapsed&&!ji(this.doc,s)&&t&&pn(s,se(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(r=0;r<this.lines.length;++r){var l=Oi(this.lines[r]),c=d(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&xe(t,n,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&kt(t.doc)),t&&Ln(t,"markerCleared",t,this),e&&ce(t),this.parent&&this.parent.clear()}},xr.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var i,n,o=0;o<this.lines.length;++o){var r=this.lines[o],s=wi(r.markedSpans,this);if(null!=s.from&&(i=zo(e?r:fn(r),s.from),-1==t))return i;if(null!=s.to&&(n=zo(e?r:fn(r),s.to),1==t))return n}return i&&{from:i,to:n}},xr.prototype.changed=function(){var t=this.find(-1,!0),e=this,i=this.doc.cm;t&&i&&ge(i,(function(){var n=t.line,o=fn(t.line),r=Wt(i,o);if(r&&(Xt(r),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!ji(e.doc,n)&&null!=e.height){var s=e.height;e.height=null;var a=Bi(e)-s;a&&pn(n,n.height+a)}}))},xr.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=zn(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},xr.prototype.detachLine=function(t){if(this.lines.splice(zn(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};wr=0;var kr=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};Hn(kr),kr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Ln(this,"clear")}},kr.prototype.find=function(t,e){return this.primary.find(t,e)};var Cr=t.LineWidget=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Hn(Cr),Cr.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=fn(i);if(null!=n&&e){for(var o=0;o<e.length;++o)e[o]==this&&e.splice(o--,1);e.length||(i.widgets=null);var r=Bi(this);pn(i,Math.max(0,i.height-r)),t&&ge(t,(function(){Fi(t,i,-r),ke(t,n,"widget")}))}},Cr.prototype.changed=function(){var t=this.height,e=this.doc.cm,i=this.line;this.height=null;var n=Bi(this)-t;n&&(pn(i,i.height+n),e&&ge(e,(function(){e.curOp.forceUpdate=!0,Fi(e,i,n)})))};var Sr=t.Line=function(t,e,i){this.text=t,_i(this,e),this.height=i?i(this):1};Hn(Sr),Sr.prototype.lineNo=function(){return fn(this)};var Tr={},_r={};sn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;n>i;++i){var o=this.lines[i];this.height-=o.height,Ri(o),Ln(o,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;n>t;++t)if(i(this.lines[t]))return!0}},an.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(o>t){var r=Math.min(e,o-t),s=n.height;if(n.removeInner(t,r),this.height-=s-n.height,o==r&&(this.children.splice(i--,1),n.parent=null),0==(e-=r))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof sn))){var a=[];this.collapse(a),this.children=[new sn(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var o=this.children[n],r=o.chunkSize();if(r>=t){if(o.insertInner(t,e,i),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var l=new sn(o.lines.slice(a,a+=25));o.height-=l.height,this.children.splice(++n,0,l),l.parent=this}o.lines=o.lines.slice(0,s),this.maybeSpill()}break}t-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new an(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var i=zn(t.parent.children,t);t.parent.children.splice(i+1,0,e)}else{var n=new an(t.children);n.parent=t,t.children=[n,e],t=n}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var o=this.children[n],r=o.chunkSize();if(r>t){var s=Math.min(e,r-t);if(o.iterN(t,s,i))return!0;if(0==(e-=s))break;t=0}else t-=r}}};var Ar=0,Dr=t.Doc=function(t,e,i,n){if(!(this instanceof Dr))return new Dr(t,e,i,n);null==i&&(i=0),an.call(this,[new sn([new Sr("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var o=zo(i,0);this.sel=lt(o),this.history=new yn(null),this.id=++Ar,this.modeOption=e,this.lineSep=n,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),rn(this,{from:o,to:o,text:t}),bt(this,lt(o),Rr)};Dr.prototype=Un(an.prototype,{constructor:Dr,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=hn(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:ye((function(t){var e=zo(this.first,0),i=this.first+this.size-1;Ge(this,{from:e,to:zo(i,dn(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),bt(this,lt(e))})),replaceRange:function(t,e,i,n){ni(this,t,e=dt(this,e),i=i?dt(this,i):e,n)},getRange:function(t,e,i){var n=un(this,dt(this,t),dt(this,e));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return ut(this,t)?dn(this,t):void 0},getLineNumber:function(t){return fn(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=dn(this,t)),Oi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return dt(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ye((function(t,e,i){vt(this,dt(this,"number"==typeof t?zo(t,e||0):t),null,i)})),setSelection:ye((function(t,e,i){vt(this,dt(this,t),dt(this,e||t),i)})),extendSelection:ye((function(t,e,i){ft(this,dt(this,t),e&&dt(this,e),i)})),extendSelections:ye((function(t,e){gt(this,ht(this,t),e)})),extendSelectionsBy:ye((function(t,e){gt(this,ht(this,Wn(this.sel.ranges,t)),e)})),setSelections:ye((function(t,e,i){if(t.length){for(var n=0,o=[];n<t.length;n++)o[n]=new st(dt(this,t[n].anchor),dt(this,t[n].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),bt(this,at(o,e),i)}})),addSelection:ye((function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new st(dt(this,t),dt(this,e||t))),bt(this,at(n,n.length-1),i)})),getSelection:function(t){for(var e,i=this.sel.ranges,n=0;n<i.length;n++){var o=un(this,i[n].from(),i[n].to());e=e?e.concat(o):o}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var o=un(this,i[n].from(),i[n].to());!1!==t&&(o=o.join(t||this.lineSeparator())),e[n]=o}return e},replaceSelection:function(t,e,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:ye((function(t,e,i){for(var n=[],o=this.sel,r=0;r<o.ranges.length;r++){var s=o.ranges[r];n[r]={from:s.from(),to:s.to(),text:this.splitLines(t[r]),origin:i}}var a=e&&"end"!=e&&function(t,e,i){for(var n=[],o=zo(t.first,0),r=o,s=0;s<e.length;s++){var a=e[s],l=Ve(a.from,o,r),c=Ve(nr(a),o,r);if(o=a.to,r=c,"around"==i){var d=t.sel.ranges[s],u=Wo(d.head,d.anchor)<0;n[s]=new st(u?c:l,u?l:c)}else n[s]=new st(l,l)}return new rt(n,t.sel.primIndex)}(this,n,e);for(r=n.length-1;r>=0;r--)Ge(this,n[r]);a?yt(this,a):this.cm&&si(this.cm)})),undo:ye((function(){Je(this,"undo")})),redo:ye((function(){Je(this,"redo")})),undoSelection:ye((function(){Je(this,"undo",!0)})),redoSelection:ye((function(){Je(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(n=0;n<t.undone.length;n++)t.undone[n].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new yn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Tn(this.history.done),undone:Tn(this.history.undone)}},setHistory:function(t){var e=this.history=new yn(this.history.maxGeneration);e.done=Tn(t.done.slice(0),null,!0),e.undone=Tn(t.undone.slice(0),null,!0)},addLineClass:ye((function(t,e,i){return ci(this,t,"gutter"==e?"gutter":"class",(function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[n]){if(eo(i).test(t[n]))return!1;t[n]+=" "+i}else t[n]=i;return!0}))})),removeLineClass:ye((function(t,e,i){return ci(this,t,"gutter"==e?"gutter":"class",(function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",o=t[n];if(!o)return!1;if(null==i)t[n]=null;else{var r=o.match(eo(i));if(!r)return!1;var s=r.index+r[0].length;t[n]=o.slice(0,r.index)+(r.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0}))})),addLineWidget:ye((function(t,e,i){return function(t,e,i,n){var o=new Cr(t,i,n),r=t.cm;return r&&o.noHScroll&&(r.display.alignWidgets=!0),ci(t,e,"widget",(function(e){var i=e.widgets||(e.widgets=[]);if(null==o.insertAt?i.push(o):i.splice(Math.min(i.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,r&&!ji(t,e)){var n=mn(e)<t.scrollTop;pn(e,e.height+Bi(o)),n&&ri(r,null,o.height),r.curOp.forceUpdate=!0}return!0})),o}(this,t,e,i)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return mi(this,dt(this,t),dt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return mi(this,t=dt(this,t),t,i,"bookmark")},findMarksAt:function(t){var e=[],i=dn(this,(t=dt(this,t)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=t.ch)&&(null==o.to||o.to>=t.ch)&&e.push(o.marker.parent||o.marker)}return e},findMarks:function(t,e,i){t=dt(this,t),e=dt(this,e);var n=[],o=t.line;return this.iter(t.line,e.line+1,(function(r){var s=r.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&o==t.line&&t.ch>=l.to||null==l.from&&o!=t.line||null!=l.from&&o==e.line&&l.from>=e.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++o})),n},getAllMarks:function(){var t=[];return this.iter((function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&t.push(i[n].marker)})),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter((function(o){var r=o.text.length+n;return r>t?(e=t,!0):(t-=r,void++i)})),dt(this,zo(i,e))},indexFromPos:function(t){var e=(t=dt(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+i})),e},copy:function(t){var e=new Dr(hn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var n=new Dr(hn(this,e,i),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var i=0;i<e.length;i++){var n=e[i],o=n.find(),r=t.clipPos(o.from),s=t.clipPos(o.to);if(Wo(r,s)){var a=mi(t,r,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}(n,vi(this)),n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i){if(this.linked[i].doc==e){this.linked.splice(i,1),e.unlinkDoc(this),yi(vi(this));break}}if(e.history==this.history){var n=[e.id];ln(e,(function(t){n.push(t.id)}),!0),e.history=new yn(null),e.history.done=Tn(this.history.done,n),e.history.undone=Tn(this.history.undone,n)}},iterLinkedDocs:function(t){ln(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):rs(t)},lineSeparator:function(){return this.lineSep||"\n"}}),Dr.prototype.eachLine=Dr.prototype.iter;var Er="iter insert remove copy getEditor constructor".split(" ");for(var Mr in Dr.prototype)Dr.prototype.hasOwnProperty(Mr)&&zn(Er,Mr)<0&&(t.prototype[Mr]=function(t){return function(){return t.apply(this.doc,arguments)}}(Dr.prototype[Mr]));Hn(Dr);var Ir=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},$r=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Lr=t.e_stop=function(t){Ir(t),$r(t)},Or=t.on=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});(n[e]||(n[e]=[])).push(i)}},Nr=[],Pr=t.off=function(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else for(var n=$n(t,e,!1),o=0;o<n.length;++o)if(n[o]==i){n.splice(o,1);break}},jr=t.signal=function(t,e){var i=$n(t,e,!0);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)},Hr=null,Fr=30,Br=t.Pass={toString:function(){return"CodeMirror.Pass"}},Rr={scroll:!1},zr={origin:"*mouse"},Wr={origin:"+move"};Fn.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Yr=t.countColumn=function(t,e,i,n,o){null==e&&(-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length));for(var r=n||0,s=o||0;;){var a=t.indexOf("\t",r);if(0>a||a>=e)return s+(e-r);s+=a-r,s+=i-s%i,r=a+1}},Ur=t.findColumn=function(t,e,i){for(var n=0,o=0;;){var r=t.indexOf("\t",n);-1==r&&(r=t.length);var s=r-n;if(r==t.length||o+s>=e)return n+Math.min(s,e-o);if(o+=r-n,n=r+1,(o+=i-o%i)>=e)return n}},qr=[""],Xr=function(t){t.select()};$o?Xr=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:Co&&(Xr=function(t){try{t.select()}catch(t){}});var Qr,Vr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Kr=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Vr.test(t))},Gr=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Qr=document.createRange?function(t,e,i,n){var o=document.createRange();return o.setEnd(n||t,i),o.setStart(t,e),o}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(t){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var Zr=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)};Co&&11>So&&(to=function(){try{return document.activeElement}catch(t){return document.body}});var Jr,ts,es=t.rmClass=function(t,e){var i=t.className,n=eo(e).exec(i);if(n){var o=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(o?n[1]+o:"")}},is=t.addClass=function(t,e){var i=t.className;eo(e).test(i)||(t.className+=(i?" ":"")+e)},ns=!1,os=function(){if(Co&&9>So)return!1;var t=Gn("div");return"draggable"in t||"dragDrop"in t}(),rs=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],n=t.length;n>=e;){var o=t.indexOf("\n",e);-1==o&&(o=t.length);var r=t.slice(e,"\r"==t.charAt(o-1)?o-1:o),s=r.indexOf("\r");-1!=s?(i.push(r.slice(0,s)),e+=s+1):(i.push(r),e=o+1)}return i}:function(t){return t.split(/\r\n?|\n/)},ss=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},as=function(){var t=Gn("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),ls=null,cs=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;10>t;t++)cs[t+48]=cs[t+96]=String(t);for(t=65;90>=t;t++)cs[t]=String.fromCharCode(t);for(t=1;12>=t;t++)cs[t+111]=cs[t+63235]="F"+t}();var ds,us=function(){function t(t){return 247>=t?i.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?n.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,i){this.level=t,this.from=e,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(i){if(!o.test(i))return!1;for(var n=i.length,d=[],u=0;n>u;++u)d.push(v=t(i.charCodeAt(u)));u=0;for(var h=c;n>u;++u){"m"==(v=d[u])?d[u]=h:h=v}u=0;for(var p=c;n>u;++u){"1"==(v=d[u])&&"r"==p?d[u]="n":s.test(v)&&(p=v,"r"==v&&(d[u]="R"))}for(u=1,h=d[0];n-1>u;++u){"+"==(v=d[u])&&"1"==h&&"1"==d[u+1]?d[u]="1":","!=v||h!=d[u+1]||"1"!=h&&"n"!=h||(d[u]=h),h=v}for(u=0;n>u;++u){if(","==(v=d[u]))d[u]="N";else if("%"==v){for(var f=u+1;n>f&&"%"==d[f];++f);for(var g=u&&"!"==d[u-1]||n>f&&"1"==d[f]?"1":"N",m=u;f>m;++m)d[m]=g;u=f-1}}for(u=0,p=c;n>u;++u){var v=d[u];"L"==p&&"1"==v?d[u]="L":s.test(v)&&(p=v)}for(u=0;n>u;++u)if(r.test(d[u])){for(f=u+1;n>f&&r.test(d[f]);++f);var y="L"==(u?d[u-1]:c),b="L"==(n>f?d[f]:c);for(g=y||b?"L":"R",m=u;f>m;++m)d[m]=g;u=f-1}var w,x=[];for(u=0;n>u;)if(a.test(d[u])){var k=u;for(++u;n>u&&a.test(d[u]);++u);x.push(new e(0,k,u))}else{var C=u,S=x.length;for(++u;n>u&&"L"!=d[u];++u);for(m=C;u>m;)if(l.test(d[m])){m>C&&x.splice(S,0,new e(1,C,m));var T=m;for(++m;u>m&&l.test(d[m]);++m);x.splice(S,0,new e(2,T,m)),C=m}else++m;u>C&&x.splice(S,0,new e(1,C,u))}return 1==x[0].level&&(w=i.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new e(0,0,w[0].length))),1==Rn(x).level&&(w=i.match(/\s+$/))&&(Rn(x).to-=w[0].length,x.push(new e(0,n-w[0].length,n))),2==x[0].level&&x.unshift(new e(1,x[0].to,x[0].to)),x[0].level!=Rn(x).level&&x.push(new e(x[0].level,n,n)),x}}();return t.version="5.15.2",t}))},{}],11:[function(t,e,i){var n;n=function(t){"use strict";var e=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;t.defineMode("gfm",(function(i,n){var o=0,r={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(t){return{code:t.code,codeBlock:t.codeBlock,ateSpace:t.ateSpace}},token:function(t,i){if(i.combineTokens=null,i.codeBlock)return t.match(/^```+/)?(i.codeBlock=!1,null):(t.skipToEnd(),null);if(t.sol()&&(i.code=!1),t.sol()&&t.match(/^```+/))return t.skipToEnd(),i.codeBlock=!0,null;if("`"===t.peek()){t.next();var r=t.pos;t.eatWhile("`");var s=1+t.pos-r;return i.code?s===o&&(i.code=!1):(o=s,i.code=!0),null}if(i.code)return t.next(),null;if(t.eatSpace())return i.ateSpace=!0,null;if((t.sol()||i.ateSpace)&&(i.ateSpace=!1,!1!==n.gitHubSpice)){if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return i.combineTokens=!0,"link";if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return i.combineTokens=!0,"link"}return t.match(e)&&"]("!=t.string.slice(t.start-2,t.start)&&(0==t.start||/\W/.test(t.string.charAt(t.start-1)))?(i.combineTokens=!0,"link"):(t.next(),null)},blankLine:function(t){return t.code=!1,null}},s={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var a in n)s[a]=n[a];return s.name="markdown",t.overlayMode(t.getMode(i,s),r)}),"markdown"),t.defineMIME("text/x-gfm","gfm")},"object"==typeof i&&"object"==typeof e?n(t("../../lib/codemirror"),t("../markdown/markdown"),t("../../addon/mode/overlay")):n(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(t,e,i){var n;n=function(t){"use strict";t.defineMode("markdown",(function(e,i){function n(i){if(t.findModeByName){var n=t.findModeByName(i);n&&(i=n.mime||n.mimes[0])}var o=t.getMode(e,i);return"null"==o.name?null:o}function o(t,e,i){return e.f=e.inline=i,i(t,e)}function r(t){return!t||!/\S/.test(t.string)}function s(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,w&&t.f==l&&(t.f=p,t.block=a),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine=null,null}function a(e,s){var a=e.sol(),l=!1!==s.list,d=s.indentedCode;s.indentedCode=!1,l&&(s.indentationDiff>=0?(s.indentationDiff<4&&(s.indentation-=s.indentationDiff),s.list=null):s.indentation>0?s.list=null:s.list=!1);var h=null;if(s.indentationDiff>=4)return e.skipToEnd(),d||r(s.prevLine)?(s.indentation-=4,s.indentedCode=!0,x.code):null;if(e.eatSpace())return null;if((h=e.match(A))&&h[1].length<=6)return s.header=h[1].length,i.highlightFormatting&&(s.formatting="header"),s.f=s.inline,u(s);if(!(r(s.prevLine)||s.quote||l||d)&&(h=e.match(D)))return s.header="="==h[0].charAt(0)?1:2,i.highlightFormatting&&(s.formatting="header"),s.f=s.inline,u(s);if(e.eat(">"))return s.quote=a?1:s.quote+1,i.highlightFormatting&&(s.formatting="quote"),e.eatSpace(),u(s);if("["===e.peek())return o(e,s,m);if(e.match(C,!0))return s.hr=!0,x.hr;if((r(s.prevLine)||l)&&(e.match(S,!1)||e.match(T,!1))){var p=null;for(e.match(S,!0)?p="ul":(e.match(T,!0),p="ol"),s.indentation=e.column()+e.current().length,s.list=!0;s.listStack&&e.column()<s.listStack[s.listStack.length-1];)s.listStack.pop();return s.listStack.push(s.indentation),i.taskLists&&e.match(_,!1)&&(s.taskList=!0),s.f=s.inline,i.highlightFormatting&&(s.formatting=["list","list-"+p]),u(s)}return i.fencedCodeBlocks&&(h=e.match(M,!0))?(s.fencedChars=h[1],s.localMode=n(h[2]),s.localMode&&(s.localState=t.startState(s.localMode)),s.f=s.block=c,i.highlightFormatting&&(s.formatting="code-block"),s.code=-1,u(s)):o(e,s,s.inline)}function l(e,i){var n=b.token(e,i.htmlState);if(!w){var o=t.innerMode(b,i.htmlState);("xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText||i.md_inside&&e.current().indexOf(">")>-1)&&(i.f=p,i.block=a,i.htmlState=null)}return n}function c(t,e){return e.fencedChars&&t.match(e.fencedChars,!1)?(e.localMode=e.localState=null,e.f=e.block=d,null):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),x.code)}function d(t,e){t.match(e.fencedChars),e.block=a,e.f=p,e.fencedChars=null,i.highlightFormatting&&(e.formatting="code-block"),e.code=1;var n=u(e);return e.code=0,n}function u(t){var e=[];if(t.formatting){e.push(x.formatting),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var n=0;n<t.formatting.length;n++)e.push(x.formatting+"-"+t.formatting[n]),"header"===t.formatting[n]&&e.push(x.formatting+"-"+t.formatting[n]+"-"+t.header),"quote"===t.formatting[n]&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=t.quote?e.push(x.formatting+"-"+t.formatting[n]+"-"+t.quote):e.push("error"))}if(t.taskOpen)return e.push("meta"),e.length?e.join(" "):null;if(t.taskClosed)return e.push("property"),e.length?e.join(" "):null;if(t.linkHref?e.push(x.linkHref,"url"):(t.strong&&e.push(x.strong),t.em&&e.push(x.em),t.strikethrough&&e.push(x.strikethrough),t.linkText&&e.push(x.linkText),t.code&&e.push(x.code)),t.header&&e.push(x.header,x.header+"-"+t.header),t.quote&&(e.push(x.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=t.quote?e.push(x.quote+"-"+t.quote):e.push(x.quote+"-"+i.maxBlockquoteDepth)),!1!==t.list){var o=(t.listStack.length-1)%3;o?1===o?e.push(x.list2):e.push(x.list3):e.push(x.list1)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function h(t,e){return t.match(E,!0)?u(e):void 0}function p(e,n){var o=n.text(e,n);if(void 0!==o)return o;if(n.list)return n.list=null,u(n);if(n.taskList)return"x"!==e.match(_,!0)[1]?n.taskOpen=!0:n.taskClosed=!0,i.highlightFormatting&&(n.formatting="task"),n.taskList=!1,u(n);if(n.taskOpen=!1,n.taskClosed=!1,n.header&&e.match(/^#+$/,!0))return i.highlightFormatting&&(n.formatting="header"),u(n);var r=e.sol(),s=e.next();if(n.linkTitle){n.linkTitle=!1;var a=s;"("===s&&(a=")");var c="^\\s*(?:[^"+(a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+a;if(e.match(new RegExp(c),!0))return x.linkHref}if("`"===s){var d=n.formatting;i.highlightFormatting&&(n.formatting="code"),e.eatWhile("`");var h=e.current().length;if(0==n.code)return n.code=h,u(n);if(h==n.code){var p=u(n);return n.code=0,p}return n.formatting=d,u(n)}if(n.code)return u(n);if("\\"===s&&(e.next(),i.highlightFormatting)){var m=u(n),v=x.formatting+"-escape";return m?m+" "+v:v}if("!"===s&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return e.match(/\[[^\]]*\]/),n.inline=n.f=g,x.image;if("["===s&&e.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return n.linkText=!0,i.highlightFormatting&&(n.formatting="link"),u(n);if("]"===s&&n.linkText&&e.match(/\(.*?\)| ?\[.*?\]/,!1)){i.highlightFormatting&&(n.formatting="link");var m=u(n);return n.linkText=!1,n.inline=n.f=g,m}if("<"===s&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return n.f=n.inline=f,i.highlightFormatting&&(n.formatting="link"),(m=u(n))?m+=" ":m="",m+x.linkInline;if("<"===s&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return n.f=n.inline=f,i.highlightFormatting&&(n.formatting="link"),(m=u(n))?m+=" ":m="",m+x.linkEmail;if("<"===s&&e.match(/^(!--|\w)/,!1)){var y=e.string.indexOf(">",e.pos);if(-1!=y){var w=e.string.substring(e.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(n.md_inside=!0)}return e.backUp(1),n.htmlState=t.startState(b),function(t,e,i){return e.f=e.block=i,i(t,e)}(e,n,l)}if("<"===s&&e.match(/^\/\w*?>/))return n.md_inside=!1,"tag";var k=!1;if(!i.underscoresBreakWords&&"_"===s&&"_"!==e.peek()&&e.match(/(\w)/,!1)){var C=e.pos-2;if(C>=0){var S=e.string.charAt(C);"_"!==S&&S.match(/(\w)/,!1)&&(k=!0)}}if("*"===s||"_"===s&&!k)if(r&&" "===e.peek());else{if(n.strong===s&&e.eat(s))return i.highlightFormatting&&(n.formatting="strong"),p=u(n),n.strong=!1,p;if(!n.strong&&e.eat(s))return n.strong=s,i.highlightFormatting&&(n.formatting="strong"),u(n);if(n.em===s)return i.highlightFormatting&&(n.formatting="em"),p=u(n),n.em=!1,p;if(!n.em)return n.em=s,i.highlightFormatting&&(n.formatting="em"),u(n)}else if(" "===s&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return u(n);e.backUp(1)}if(i.strikethrough)if("~"===s&&e.eatWhile(s)){if(n.strikethrough)return i.highlightFormatting&&(n.formatting="strikethrough"),p=u(n),n.strikethrough=!1,p;if(e.match(/^[^\s]/,!1))return n.strikethrough=!0,i.highlightFormatting&&(n.formatting="strikethrough"),u(n)}else if(" "===s&&e.match(/^~~/,!0)){if(" "===e.peek())return u(n);e.backUp(2)}return" "===s&&(e.match(/ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),u(n)}function f(t,e){if(">"===t.next()){e.f=e.inline=p,i.highlightFormatting&&(e.formatting="link");var n=u(e);return n?n+=" ":n="",n+x.linkInline}return t.match(/^[^>]+/,!0),x.linkInline}function g(t,e){if(t.eatSpace())return null;var n=t.next();return"("===n||"["===n?(e.f=e.inline=function(t){return function(e,n){if(e.next()===t){n.f=n.inline=p,i.highlightFormatting&&(n.formatting="link-string");var o=u(n);return n.linkHref=!1,o}return e.match(I[t]),n.linkHref=!0,u(n)}}("("===n?")":"]"),i.highlightFormatting&&(e.formatting="link-string"),e.linkHref=!0,u(e)):"error"}function m(t,e){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(e.f=v,t.next(),i.highlightFormatting&&(e.formatting="link"),e.linkText=!0,u(e)):o(t,e,p)}function v(t,e){if(t.match(/^\]:/,!0)){e.f=e.inline=y,i.highlightFormatting&&(e.formatting="link");var n=u(e);return e.linkText=!1,n}return t.match(/^([^\]\\]|\\.)+/,!0),x.linkText}function y(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=p,x.linkHref+" url")}var b=t.getMode(e,"text/html"),w="null"==b.name;void 0===i.highlightFormatting&&(i.highlightFormatting=!1),void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0),void 0===i.underscoresBreakWords&&(i.underscoresBreakWords=!0),void 0===i.taskLists&&(i.taskLists=!1),void 0===i.strikethrough&&(i.strikethrough=!1),void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});var x={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var k in x)x.hasOwnProperty(k)&&i.tokenTypeOverrides[k]&&(x[k]=i.tokenTypeOverrides[k]);var C=/^([*\-_])(?:\s*\1){2,}\s*$/,S=/^[*\-+]\s+/,T=/^[0-9]+([.)])\s+/,_=/^\[(x| )\](?=\s)/,A=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,D=/^ *(?:\={1,}|-{1,})\s*$/,E=/^[^#!\[\]*_\\<>` "'(~]+/,M=new RegExp("^("+(!0===i.fencedCodeBlocks?"~~~+|```+":i.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),I={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},$={startState:function(){return{f:a,prevLine:null,thisLine:null,block:a,htmlState:null,indentation:0,inline:p,text:h,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&t.copyState(b,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?t.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkTitle:e.linkTitle,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,header:e.header,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedChars:e.fencedChars}},token:function(t,e){if(e.formatting=!1,t!=e.thisLine){var i=e.header||e.hr;if(e.header=0,e.hr=!1,t.match(/^\s*$/,!0)||i){if(s(e),!i)return null;e.prevLine=null}e.prevLine=e.thisLine,e.thisLine=t,e.taskList=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(e.indentationDiff=Math.min(n-e.indentation,4),e.indentation=e.indentation+e.indentationDiff,n>0)return null}return e.f(t,e)},innerMode:function(t){return t.block==l?{state:t.htmlState,mode:b}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:$}},blankLine:s,getType:u,fold:"markdown"};return $}),"xml"),t.defineMIME("text/x-markdown","markdown")},"object"==typeof i&&"object"==typeof e?n(t("../../lib/codemirror"),t("../xml/xml"),t("../meta")):n(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(t,e,i){var n;n=function(t){"use strict";t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var e=0;e<t.modeInfo.length;e++){var i=t.modeInfo[e];i.mimes&&(i.mime=i.mimes[0])}t.findModeByMIME=function(e){e=e.toLowerCase();for(var i=0;i<t.modeInfo.length;i++){var n=t.modeInfo[i];if(n.mime==e)return n;if(n.mimes)for(var o=0;o<n.mimes.length;o++)if(n.mimes[o]==e)return n}},t.findModeByExtension=function(e){for(var i=0;i<t.modeInfo.length;i++){var n=t.modeInfo[i];if(n.ext)for(var o=0;o<n.ext.length;o++)if(n.ext[o]==e)return n}},t.findModeByFileName=function(e){for(var i=0;i<t.modeInfo.length;i++){var n=t.modeInfo[i];if(n.file&&n.file.test(e))return n}var o=e.lastIndexOf("."),r=o>-1&&e.substring(o+1,e.length);return r?t.findModeByExtension(r):void 0},t.findModeByName=function(e){e=e.toLowerCase();for(var i=0;i<t.modeInfo.length;i++){var n=t.modeInfo[i];if(n.name.toLowerCase()==e)return n;if(n.alias)for(var o=0;o<n.alias.length;o++)if(n.alias[o].toLowerCase()==e)return n}}},n("object"==typeof i&&"object"==typeof e?t("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":10}],14:[function(t,e,i){var n;n=function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};t.defineMode("xml",(function(n,o){function r(t,e){function i(i){return e.tokenize=i,i(t,e)}var n=t.next();return"<"==n?t.eat("!")?t.eat("[")?t.match("CDATA[")?i(a("atom","]]>")):null:t.match("--")?i(a("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),i(l(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=a("meta","?>"),"meta"):(x=t.eat("/")?"closeTag":"openTag",e.tokenize=s,"tag bracket"):"&"==n?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function s(t,e){var i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=r,x=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return x="equals",null;if("<"==i){e.tokenize=r,e.state=h,e.tagName=e.tagStart=null;var n=e.tokenize(t,e);return n?n+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=function(t){var e=function(e,i){for(;!e.eol();)if(e.next()==t){i.tokenize=s;break}return"string"};return e.isInAttribute=!0,e}(i),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(t,e){return function(i,n){for(;!i.eol();){if(i.match(e)){n.tokenize=r;break}i.next()}return t}}function l(t){return function(e,i){for(var n;null!=(n=e.next());){if("<"==n)return i.tokenize=l(t+1),i.tokenize(e,i);if(">"==n){if(1==t){i.tokenize=r;break}return i.tokenize=l(t-1),i.tokenize(e,i)}}return"meta"}}function c(t,e,i){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=i,(S.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function d(t){t.context&&(t.context=t.context.prev)}function u(t,e){for(var i;;){if(!t.context)return;if(i=t.context.tagName,!S.contextGrabbers.hasOwnProperty(i)||!S.contextGrabbers[i].hasOwnProperty(e))return;d(t)}}function h(t,e,i){return"openTag"==t?(i.tagStart=e.column(),p):"closeTag"==t?f:h}function p(t,e,i){return"word"==t?(i.tagName=e.current(),k="tag",v):(k="error",p)}function f(t,e,i){if("word"==t){var n=e.current();return i.context&&i.context.tagName!=n&&S.implicitlyClosed.hasOwnProperty(i.context.tagName)&&d(i),i.context&&i.context.tagName==n||!1===S.matchClosing?(k="tag",g):(k="tag error",m)}return k="error",m}function g(t,e,i){return"endTag"!=t?(k="error",g):(d(i),h)}function m(t,e,i){return k="error",g(t,0,i)}function v(t,e,i){if("word"==t)return k="attribute",y;if("endTag"==t||"selfcloseTag"==t){var n=i.tagName,o=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==t||S.autoSelfClosers.hasOwnProperty(n)?u(i,n):(u(i,n),i.context=new c(i,n,o==i.indented)),h}return k="error",v}function y(t,e,i){return"equals"==t?b:(S.allowMissing||(k="error"),v(t,0,i))}function b(t,e,i){return"string"==t?w:"word"==t&&S.allowUnquoted?(k="string",v):(k="error",v(t,0,i))}function w(t,e,i){return"string"==t?w:v(t,0,i)}var x,k,C=n.indentUnit,S={},T=o.htmlMode?e:i;for(var _ in T)S[_]=T[_];for(var _ in o)S[_]=o[_];return r.isInText=!0,{startState:function(t){var e={tokenize:r,state:h,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;x=null;var i=e.tokenize(t,e);return(i||x)&&"comment"!=i&&(k=null,e.state=e.state(x||i,t,e),k&&(i="error"==k?i+" error":k)),i},indent:function(e,i,n){var o=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+C;if(o&&o.noIndent)return t.Pass;if(e.tokenize!=s&&e.tokenize!=r)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==S.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+C*(S.multilineTagIndentFactor||1);if(S.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var a=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(a&&a[1])for(;o;){if(o.tagName==a[2]){o=o.prev;break}if(!S.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(a)for(;o;){var l=S.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(a[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+C:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:S.htmlMode?"html":"xml",helperType:S.htmlMode?"html":"xml",skipAttribute:function(t){t.state==b&&(t.state=v)}}})),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})},n("object"==typeof i&&"object"==typeof e?t("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],15:[function(t,e,i){i.read=function(t,e,i,n,o){var r,s,a=8*o-n-1,l=(1<<a)-1,c=l>>1,d=-7,u=i?o-1:0,h=i?-1:1,p=t[e+u];for(u+=h,r=p&(1<<-d)-1,p>>=-d,d+=a;d>0;r=256*r+t[e+u],u+=h,d-=8);for(s=r&(1<<-d)-1,r>>=-d,d+=n;d>0;s=256*s+t[e+u],u+=h,d-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),r-=c}return(p?-1:1)*s*Math.pow(2,r-n)},i.write=function(t,e,i,n,o,r){var s,a,l,c=8*r-o-1,d=(1<<c)-1,u=d>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=d?(a=0,s=d):s+u>=1?(a=(e*l-1)*Math.pow(2,o),s+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,o),s=0));o>=8;t[i+p]=255&a,p+=f,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[i+p]=255&s,p+=f,s/=256,c-=8);t[i+p-f]|=128*g}},{}],16:[function(t,e,i){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],17:[function(t,e,i){(function(t){(function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||d.defaults,this.rules=u.normal,this.options.gfm&&(this.options.tables?this.rules=u.tables:this.rules=u.gfm)}function n(t,e){if(this.options=e||d.defaults,this.links=t,this.rules=h.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function o(t){this.options=t||{}}function r(t){this.tokens=[],this.token=null,this.options=t||d.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(t,e){return t=t.source,e=e||"",function i(n,o){return n?(o=(o=o.source||o).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(n,o),i):new RegExp(t,e)}}function l(){}function c(t){for(var e,i,n=1;n<arguments.length;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function d(e,i,n){if(n||"function"==typeof i){n||(n=i,i=null);var o,a,l=(i=c({},d.defaults,i||{})).highlight,u=0;try{o=t.lex(e,i)}catch(t){return n(t)}a=o.length;var h=function(t){if(t)return i.highlight=l,n(t);var e;try{e=r.parse(o,i)}catch(e){t=e}return i.highlight=l,t?n(t):n(null,e)};if(!l||l.length<3)return h();if(delete i.highlight,!a)return h();for(;u<o.length;u++)!function(t){"code"!==t.type?--a||h():l(t.text,t.lang,(function(e,i){return e?h(e):null==i||i===t.text?--a||h():(t.text=i,t.escaped=!0,void(--a||h()))}))}(o[u])}else try{return i&&(i=c({},d.defaults,i)),r.parse(t.lex(e,i),i)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(i||d.defaults).silent)return"<p>An error occured:</p><pre>"+s(t.message+"",!0)+"</pre>";throw t}}var u={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};u.item=a(u.item,"gm")(/bull/g,u.bullet)(),u.list=a(u.list)(/bull/g,u.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+u.def.source+")")(),u.blockquote=a(u.blockquote)("def",u.def)(),u._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",u.html=a(u.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,u._tag)(),u.paragraph=a(u.paragraph)("hr",u.hr)("heading",u.heading)("lheading",u.lheading)("blockquote",u.blockquote)("tag","<"+u._tag)("def",u.def)(),u.normal=c({},u),u.gfm=c({},u.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),u.gfm.paragraph=a(u.paragraph)("(?!","(?!"+u.gfm.fences.source.replace("\\1","\\2")+"|"+u.list.source.replace("\\1","\\3")+"|")(),u.tables=c({},u.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=u,t.lex=function(e,i){return new t(i).lex(e)},t.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},t.prototype.token=function(t,e,i){var n,o,r,s,a,l,c,d,h;for(t=t.replace(/^ +$/gm,"");t;)if((r=this.rules.newline.exec(t))&&(t=t.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(t))t=t.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]||""});else if(r=this.rules.heading.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(e&&(r=this.rules.nptable.exec(t))){for(t=t.substring(r[0].length),l={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].split(/ *\| */);this.tokens.push(l)}else if(r=this.rules.lheading.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(r=this.rules.hr.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,e,!0),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(t)){for(t=t.substring(r[0].length),s=r[2],this.tokens.push({type:"list_start",ordered:s.length>1}),n=!1,h=(r=r[0].match(this.rules.item)).length,d=0;h>d;d++)c=(l=r[d]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&d!==h-1&&(s===(a=u.bullet.exec(r[d+1])[0])||s.length>1&&a.length>1||(t=r.slice(d+1).join("\n")+t,d=h-1)),o=n||/\n\n(?!\s*$)/.test(l),d!==h-1&&(n="\n"===l.charAt(l.length-1),o||(o=n)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(l,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(t))t=t.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(!i&&e&&(r=this.rules.def.exec(t)))t=t.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};else if(e&&(r=this.rules.table.exec(t))){for(t=t.substring(r[0].length),l={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(r=this.rules.paragraph.exec(t)))t=t.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};h.link=a(h.link)("inside",h._inside)("href",h._href)(),h.reflink=a(h.reflink)("inside",h._inside)(),h.normal=c({},h),h.pedantic=c({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=c({},h.normal,{escape:a(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=c({},h.gfm,{br:a(h.br)("{2,}","*")(),text:a(h.gfm.text)("{2,}","*")()}),n.rules=h,n.output=function(t,e,i){return new n(e,i).output(t)},n.prototype.output=function(t){for(var e,i,n,o,r="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),r+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),"@"===o[2]?(i=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),n=this.mangle("mailto:")+i):n=i=s(o[1]),r+=this.renderer.link(n,null,i);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),t=t.substring(o[0].length),r+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):s(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),this.inLink=!0,r+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){r+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,r+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),r+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),r+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),r+=this.renderer.codespan(s(o[2],!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),r+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),r+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),r+=this.renderer.text(s(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(o[0].length),n=i=s(o[1]),r+=this.renderer.link(n,null,i);return r},n.prototype.outputLink=function(t,e){var i=s(e.href),n=e.title?s(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(i,n,this.output(t[1])):this.renderer.image(i,n,s(t[1]))},n.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},n.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,i="",n=t.length,o=0;n>o;o++)e=t.charCodeAt(o),Math.random()>.5&&(e="x"+e.toString(16)),i+="&#"+e+";";return i},o.prototype.code=function(t,e,i){if(this.options.highlight){var n=this.options.highlight(t,e);null!=n&&n!==t&&(i=!0,t=n)}return e?'<pre><code class="'+this.options.langPrefix+s(e,!0)+'">'+(i?t:s(t,!0))+"\n</code></pre>\n":"<pre><code>"+(i?t:s(t,!0))+"\n</code></pre>"},o.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},o.prototype.html=function(t){return t},o.prototype.heading=function(t,e,i){return"<h"+e+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(t,e){var i=e?"ol":"ul";return"<"+i+">\n"+t+"</"+i+">\n"},o.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},o.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},o.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},o.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},o.prototype.tablecell=function(t,e){var i=e.header?"th":"td";return(e.align?"<"+i+' style="text-align:'+e.align+'">':"<"+i+">")+t+"</"+i+">\n"},o.prototype.strong=function(t){return"<strong>"+t+"</strong>"},o.prototype.em=function(t){return"<em>"+t+"</em>"},o.prototype.codespan=function(t){return"<code>"+t+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(t){return"<del>"+t+"</del>"},o.prototype.link=function(t,e,i){if(this.options.sanitize){try{var n=decodeURIComponent(function(t){return t.replace(/&([#\w]+);/g,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:"))return""}var o='<a href="'+t+'"';return e&&(o+=' title="'+e+'"'),o+">"+i+"</a>"},o.prototype.image=function(t,e,i){var n='<img src="'+t+'" alt="'+i+'"';return e&&(n+=' title="'+e+'"'),n+(this.options.xhtml?"/>":">")},o.prototype.text=function(t){return t},r.parse=function(t,e,i){return new r(e,i).parse(t)},r.prototype.parse=function(t){this.inline=new n(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,i,n,o="",r="";for(i="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],i="",n=0;n<e.length;n++)i+=this.renderer.tablecell(this.inline.output(e[n]),{header:!1,align:this.token.align[n]});r+=this.renderer.tablerow(i)}return this.renderer.table(o,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var s=this.token.ordered;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,s);case"list_item_start":for(r="";"list_item_end"!==this.next().type;)r+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(r);case"loose_item_start":for(r="";"list_item_end"!==this.next().type;)r+=this.tok();return this.renderer.listitem(r);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,d.options=d.setOptions=function(t){return c(d.defaults,t),d},d.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},d.Parser=r,d.parser=r.parse,d.Renderer=o,d.Lexer=t,d.lexer=t.lex,d.InlineLexer=n,d.inlineLexer=n.output,d.parse=d,void 0!==e&&"object"==typeof i?e.exports=d:this.marked=d}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(t,e,i){(function(i,n){"use strict";var o=function(t,e,i,o){if(o=o||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=o.flags||{},t){if(this.dictionary=t,"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)e||(e=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+t+"/"+t+".aff"))),i||(i=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+t+"/"+t+".dic")));else{if(o.dictionaryPath)var r=o.dictionaryPath;else if(void 0!==n)r=n+"/dictionaries";else r="./dictionaries";e||(e=this._readFile(r+"/"+t+"/"+t+".aff")),i||(i=this._readFile(r+"/"+t+"/"+t+".dic"))}this.rules=this._parseAFF(e),this.compoundRuleCodes={};for(var s=0,a=this.compoundRules.length;a>s;s++)for(var l=this.compoundRules[s],c=0,d=l.length;d>c;c++)this.compoundRuleCodes[l[c]]=[];for(var s in"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(i),this.compoundRuleCodes)0==this.compoundRuleCodes[s].length&&delete this.compoundRuleCodes[s];for(s=0,a=this.compoundRules.length;a>s;s++){var u=this.compoundRules[s],h="";for(c=0,d=u.length;d>c;c++){var p=u[c];h+=p in this.compoundRuleCodes?"("+this.compoundRuleCodes[p].join("|")+")":p}this.compoundRules[s]=new RegExp(h,"i")}}return this};o.prototype={load:function(t){for(var e in t)this[e]=t[e];return this},_readFile:function(e,n){if(n||(n="utf8"),"undefined"!=typeof XMLHttpRequest){var o=new XMLHttpRequest;return o.open("GET",e,!1),o.overrideMimeType&&o.overrideMimeType("text/plain; charset="+n),o.send(null),o.responseText}if(void 0!==t){var r=t("fs");try{if(r.existsSync(e)){var s=r.statSync(e),a=r.openSync(e,"r"),l=new i(s.size);return r.readSync(a,l,0,l.length,null),l.toString(n,0,l.length)}console.log("Path "+e+" does not exist.")}catch(t){return console.log(t),""}}},_parseAFF:function(t){for(var e={},i=(t=this._removeAffixComments(t)).split("\n"),n=0,o=i.length;o>n;n++){var r=(b=i[n]).split(/\s+/),s=r[0];if("PFX"==s||"SFX"==s){for(var a=r[1],l=r[2],c=[],d=n+1,u=n+1+(y=parseInt(r[3],10));u>d;d++){var h=(w=(b=i[d]).split(/\s+/))[2],p=w[3].split("/"),f=p[0];"0"===f&&(f="");var g=this.parseRuleCodes(p[1]),m=w[4],v={};v.add=f,g.length>0&&(v.continuationClasses=g),"."!==m&&(v.match="SFX"===s?new RegExp(m+"$"):new RegExp("^"+m)),"0"!=h&&(v.remove="SFX"===s?new RegExp(h+"$"):h),c.push(v)}e[a]={type:s,combineable:"Y"==l,entries:c},n+=y}else if("COMPOUNDRULE"===s){var y;for(d=n+1,u=n+1+(y=parseInt(r[1],10));u>d;d++){var b,w=(b=i[d]).split(/\s+/);this.compoundRules.push(w[1])}n+=y}else if("REP"===s){3===(w=b.split(/\s+/)).length&&this.replacementTable.push([w[1],w[2]])}else this.flags[s]=r[1]}return e},_removeAffixComments:function(t){return(t=(t=(t=t.replace(/#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(t){function e(t,e){t in n&&"object"==typeof n[t]||(n[t]=[]),n[t].push(e)}for(var i=(t=this._removeDicComments(t)).split("\n"),n={},o=1,r=i.length;r>o;o++){var s=i[o].split("/",2),a=s[0];if(s.length>1){var l=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||e(a,l);for(var c=0,d=l.length;d>c;c++){var u=l[c],h=this.rules[u];if(h)for(var p=this._applyRule(a,h),f=0,g=p.length;g>f;f++){var m=p[f];if(e(m,[]),h.combineable)for(var v=c+1;d>v;v++){var y=l[v],b=this.rules[y];if(b&&b.combineable&&h.type!=b.type)for(var w=this._applyRule(m,b),x=0,k=w.length;k>x;x++){e(w[x],[])}}}u in this.compoundRuleCodes&&this.compoundRuleCodes[u].push(a)}}else e(a.trim(),[])}return n},_removeDicComments:function(t){return t.replace(/^\t.*$/gm,"")},parseRuleCodes:function(t){if(!t)return[];if(!("FLAG"in this.flags))return t.split("");if("long"===this.flags.FLAG){for(var e=[],i=0,n=t.length;n>i;i+=2)e.push(t.substr(i,2));return e}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(t,e){for(var i=e.entries,n=[],o=0,r=i.length;r>o;o++){var s=i[o];if(!s.match||t.match(s.match)){var a=t;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===e.type?a+=s.add:a=s.add+a,n.push(a),"continuationClasses"in s)for(var l=0,c=s.continuationClasses.length;c>l;l++){var d=this.rules[s.continuationClasses[l]];d&&(n=n.concat(this._applyRule(a,d)))}}}return n},check:function(t){var e=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(e))return!0;if(e.toUpperCase()===e){var i=e[0]+e.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}var n=e.toLowerCase();if(n!==e){if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}return!1},checkExact:function(t){var e=this.dictionaryTable[t];if(void 0===e){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN)for(var i=0,n=this.compoundRules.length;n>i;i++)if(t.match(this.compoundRules[i]))return!0;return!1}if("object"==typeof e){for(i=0,n=e.length;n>i;i++)if(!this.hasFlag(t,"ONLYINCOMPOUND",e[i]))return!0;return!1}},hasFlag:function(t,e,i){if(e in this.flags){if(void 0===i)i=Array.prototype.concat.apply([],this.dictionaryTable[t]);if(i&&-1!==i.indexOf(this.flags[e]))return!0}return!1},alphabet:"",suggest:function(t,e){function i(t){for(var e=[],i=0,n=t.length;n>i;i++){for(var o=t[i],r=[],s=0,a=o.length+1;a>s;s++)r.push([o.substring(0,s),o.substring(s,o.length)]);var c=[];for(s=0,a=r.length;a>s;s++){(f=r[s])[1]&&c.push(f[0]+f[1].substring(1))}var d=[];for(s=0,a=r.length;a>s;s++){(f=r[s])[1].length>1&&d.push(f[0]+f[1][1]+f[1][0]+f[1].substring(2))}var u=[];for(s=0,a=r.length;a>s;s++){if((f=r[s])[1])for(var h=0,p=l.alphabet.length;p>h;h++)u.push(f[0]+l.alphabet[h]+f[1].substring(1))}for(s=0,a=r.length;a>s;s++){var f;if((f=r[s])[1])for(h=0,p=l.alphabet.length;p>h;h++)u.push(f[0]+l.alphabet[h]+f[1])}e=(e=(e=(e=e.concat(c)).concat(d)).concat(u)).concat([])}return e}function n(t){for(var e=[],i=0;i<t.length;i++)l.check(t[i])&&e.push(t[i]);return e}if(e||(e=5),this.check(t))return[];for(var o=0,r=this.replacementTable.length;r>o;o++){var s=this.replacementTable[o];if(-1!==t.indexOf(s[0])){var a=t.replace(s[0],s[1]);if(this.check(a))return[a]}}var l=this;return l.alphabet="abcdefghijklmnopqrstuvwxyz",function(t){for(var o=i([t]),r=i(o),s=n(o).concat(n(r)),a={},c=0,d=s.length;d>c;c++)s[c]in a?a[s[c]]+=1:a[s[c]]=1;var u=[];for(var c in a)u.push([c,a[c]]);u.sort((function(t,e){return t[1]<e[1]?-1:1})).reverse();var h=[];for(c=0,d=Math.min(e,u.length);d>c;c++)l.hasFlag(u[c][0],"NOSUGGEST")||h.push(u[c][0]);return h}(t)}},void 0!==e&&(e.exports=o)}).call(this,t("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(t,e,i){var n=t("codemirror");n.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentMore");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var i=Array(t.options.tabSize+1).join(" ");t.replaceSelection(i)}},n.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentLess");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var i=Array(t.options.tabSize+1).join(" ");t.replaceSelection(i)}}},{codemirror:10}],20:[function(t,e,i){"use strict";function n(t){return z?t.replace("Ctrl","Cmd"):t.replace("Cmd","Ctrl")}function o(t,e,i){t=t||{};var n=document.createElement("a");return e=null==e||e,t.title&&e&&(n.title=s(t.title,t.action,i),z&&(n.title=n.title.replace("Ctrl","⌘"),n.title=n.title.replace("Alt","⌥"))),n.tabIndex=-1,n.className=t.className,n}function r(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function s(t,e,i){var o,r=t;return e&&(i[o=U(e)]&&(r+=" ("+n(i[o])+")")),r}function a(t,e){e=e||t.getCursor("start");var i=t.getTokenAt(e);if(!i.type)return{};for(var n,o,r=i.type.split(" "),s={},a=0;a<r.length;a++)"strong"===(n=r[a])?s.bold=!0:"variable-2"===n?(o=t.getLine(e.line),/^\s*\d+\.\s/.test(o)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===n?s.quote=!0:"em"===n?s.italic=!0:"quote"===n?s.quote=!0:"strikethrough"===n?s.strikethrough=!0:"comment"===n?s.code=!0:"link"===n?s.link=!0:"tag"===n?s.image=!0:n.match(/^header(\-[1-6])?$/)&&(s[n.replace("header","heading")]=!0);return s}function l(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(X=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=X;var i=e.getWrapperElement();/fullscreen/.test(i.previousSibling.className)?i.previousSibling.className=i.previousSibling.className.replace(/\s*fullscreen\b/,""):i.previousSibling.className+=" fullscreen";var n=t.toolbarElements.fullscreen;/active/.test(n.className)?n.className=n.className.replace(/\s*active\s*/g,""):n.className+=" active";var o=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(o.className)&&D(t)}function c(t){L(t,"bold",t.options.blockStyles.bold)}function d(t){L(t,"italic",t.options.blockStyles.italic)}function u(t){L(t,"strikethrough","~~")}function h(t){function e(t){if("object"!=typeof t)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof t+": "+t;return t.styles&&t.styles[2]&&-1!==t.styles[2].indexOf("formatting-code-block")}function i(t){return t.state.base.base||t.state.base}function n(t,n,o,r,s){o=o||t.getLineHandle(n),r=r||t.getTokenAt({line:n,ch:1}),s=s||!!o.text&&t.getTokenAt({line:n,ch:o.text.length-1});var a=r.type?r.type.split(" "):[];return s&&i(s).indentedCode?"indented":-1!==a.indexOf("comment")&&(i(r).fencedChars||i(s).fencedChars||e(o)?"fenced":"single")}var o,r,s,a=t.options.blockStyles.code,l=t.codemirror,c=l.getCursor("start"),d=l.getCursor("end"),u=l.getTokenAt({line:c.line,ch:c.ch||1}),h=l.getLineHandle(c.line),p=n(l,c.line,h,u);if("single"===p){var f=h.text.slice(0,c.ch).replace("`",""),g=h.text.slice(c.ch).replace("`","");l.replaceRange(f+g,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),c.ch--,c!==d&&d.ch--,l.setSelection(c,d),l.focus()}else if("fenced"===p)if(c.line!==d.line||c.ch!==d.ch){for(o=c.line;o>=0&&!e(h=l.getLineHandle(o));o--);var m,v,y,b,w=i(l.getTokenAt({line:o,ch:1})).fencedChars;e(l.getLineHandle(c.line))?(m="",v=c.line):e(l.getLineHandle(c.line-1))?(m="",v=c.line-1):(m=w+"\n",v=c.line),e(l.getLineHandle(d.line))?(y="",b=d.line,0===d.ch&&(b+=1)):0!==d.ch&&e(l.getLineHandle(d.line+1))?(y="",b=d.line+1):(y=w+"\n",b=d.line+1),0===d.ch&&(b-=1),l.operation((function(){l.replaceRange(y,{line:b,ch:0},{line:b+(y?0:1),ch:0}),l.replaceRange(m,{line:v,ch:0},{line:v+(m?0:1),ch:0})})),l.setSelection({line:v+(m?1:0),ch:0},{line:b+(m?1:-1),ch:0}),l.focus()}else{var x=c.line;if(e(l.getLineHandle(c.line))&&("fenced"===n(l,c.line+1)?(o=c.line,x=c.line+1):(r=c.line,x=c.line-1)),void 0===o)for(o=x;o>=0&&!e(h=l.getLineHandle(o));o--);if(void 0===r)for(s=l.lineCount(),r=x;s>r&&!e(h=l.getLineHandle(r));r++);l.operation((function(){l.replaceRange("",{line:o,ch:0},{line:o+1,ch:0}),l.replaceRange("",{line:r-1,ch:0},{line:r,ch:0})})),l.focus()}else if("indented"===p){if(c.line!==d.line||c.ch!==d.ch)o=c.line,r=d.line,0===d.ch&&r--;else{for(o=c.line;o>=0;o--)if(!(h=l.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==n(l,o,h)){o+=1;break}for(s=l.lineCount(),r=c.line;s>r;r++)if(!(h=l.getLineHandle(r)).text.match(/^\s*$/)&&"indented"!==n(l,r,h)){r-=1;break}}var k=l.getLineHandle(r+1),C=k&&l.getTokenAt({line:r+1,ch:k.text.length-1});C&&i(C).indentedCode&&l.replaceRange("\n",{line:r+1,ch:0});for(var S=o;r>=S;S++)l.indentLine(S,"subtract");l.focus()}else{var T=c.line===d.line&&c.ch===d.ch&&0===c.ch,_=c.line!==d.line;T||_?function(t,e,i,n){var o=e.line+1,r=i.line+1,s=e.line!==i.line,a=n+"\n",l="\n"+n;s&&r++,s&&0===i.ch&&(l=n+"\n",r--),M(t,!1,[a,l]),t.setSelection({line:o,ch:0},{line:r,ch:0})}(l,c,d,a):M(l,!1,["`","`"])}}function p(t){$(t.codemirror,"quote")}function f(t){I(t.codemirror,"smaller")}function g(t){I(t.codemirror,"bigger")}function m(t){I(t.codemirror,void 0,1)}function v(t){I(t.codemirror,void 0,2)}function y(t){I(t.codemirror,void 0,3)}function b(t){$(t.codemirror,"unordered-list")}function w(t){$(t.codemirror,"ordered-list")}function x(t){!function(t){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className))for(var e,i=t.getCursor("start"),n=t.getCursor("end"),o=i.line;o<=n.line;o++)e=(e=t.getLine(o)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(e,{line:o,ch:0},{line:o,ch:99999999999999})}(t.codemirror)}function k(t){var e=t.codemirror,i=a(e),n=t.options,o="http://";return!(n.promptURLs&&(o=prompt(n.promptTexts.link),!o))&&void M(e,i.link,n.insertTexts.link,o)}function C(t){var e=t.codemirror,i=a(e),n=t.options,o="http://";return!(n.promptURLs&&(o=prompt(n.promptTexts.image),!o))&&void M(e,i.image,n.insertTexts.image,o)}function S(t){var e=t.codemirror,i=a(e),n=t.options;M(e,i.table,n.insertTexts.table)}function T(t){var e=t.codemirror,i=a(e),n=t.options;M(e,i.image,n.insertTexts.horizontalRule)}function _(t){var e=t.codemirror;e.undo(),e.focus()}function A(t){var e=t.codemirror;e.redo(),e.focus()}function D(t){var e=t.codemirror,i=e.getWrapperElement(),n=i.nextSibling,o=t.toolbarElements["side-by-side"],r=!1;/editor-preview-active-side/.test(n.className)?(n.className=n.className.replace(/\s*editor-preview-active-side\s*/g,""),o.className=o.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout((function(){e.getOption("fullScreen")||l(t),n.className+=" editor-preview-active-side"}),1),o.className+=" active",i.className+=" CodeMirror-sided",r=!0);var s=i.lastChild;if(/editor-preview-active/.test(s.className)){s.className=s.className.replace(/\s*editor-preview-active\s*/g,"");var a=t.toolbarElements.preview,c=i.previousSibling;a.className=a.className.replace(/\s*active\s*/g,""),c.className=c.className.replace(/\s*disabled-for-preview*/g,"")}e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=function(){n.innerHTML=t.options.previewRender(t.value(),n)}),r?(n.innerHTML=t.options.previewRender(t.value(),n),e.on("update",e.sideBySideRenderingFunction)):e.off("update",e.sideBySideRenderingFunction),e.refresh()}function E(t){var e=t.codemirror,i=e.getWrapperElement(),n=i.previousSibling,o=!!t.options.toolbar&&t.toolbarElements.preview,r=i.lastChild;r&&/editor-preview/.test(r.className)||((r=document.createElement("div")).className="editor-preview",i.appendChild(r)),/editor-preview-active/.test(r.className)?(r.className=r.className.replace(/\s*editor-preview-active\s*/g,""),o&&(o.className=o.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout((function(){r.className+=" editor-preview-active"}),1),o&&(o.className+=" active",n.className+=" disabled-for-preview")),r.innerHTML=t.options.previewRender(t.value(),r);var s=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&D(t)}function M(t,e,i,n){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){var o,r=i[0],s=i[1],a=t.getCursor("start"),l=t.getCursor("end");n&&(s=s.replace("#url#",n)),e?(r=(o=t.getLine(a.line)).slice(0,a.ch),s=o.slice(a.ch),t.replaceRange(r+s,{line:a.line,ch:0})):(o=t.getSelection(),t.replaceSelection(r+o+s),a.ch+=r.length,a!==l&&(l.ch+=r.length)),t.setSelection(a,l),t.focus()}}function I(t,e,i){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var n=t.getCursor("start"),o=t.getCursor("end"),r=n.line;r<=o.line;r++)!function(n){var o=t.getLine(n),r=o.search(/[^#]/);o=void 0!==e?0>=r?"bigger"==e?"###### "+o:"# "+o:6==r&&"smaller"==e?o.substr(7):1==r&&"bigger"==e?o.substr(2):"bigger"==e?o.substr(1):"#"+o:1==i?0>=r?"# "+o:r==i?o.substr(r+1):"# "+o.substr(r+1):2==i?0>=r?"## "+o:r==i?o.substr(r+1):"## "+o.substr(r+1):0>=r?"### "+o:r==i?o.substr(r+1):"### "+o.substr(r+1),t.replaceRange(o,{line:n,ch:0},{line:n,ch:99999999999999})}(r);t.focus()}}function $(t,e){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var i=a(t),n=t.getCursor("start"),o=t.getCursor("end"),r={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},s={quote:"> ","unordered-list":"* ","ordered-list":"1. "},l=n.line;l<=o.line;l++)!function(n){var o=t.getLine(n);o=i[e]?o.replace(r[e],"$1"):s[e]+o,t.replaceRange(o,{line:n,ch:0},{line:n,ch:99999999999999})}(l);t.focus()}}function L(t,e,i,n){if(!/editor-preview-active/.test(t.codemirror.getWrapperElement().lastChild.className)){n=void 0===n?i:n;var o,r=t.codemirror,s=a(r),l=i,c=n,d=r.getCursor("start"),u=r.getCursor("end");s[e]?(l=(o=r.getLine(d.line)).slice(0,d.ch),c=o.slice(d.ch),"bold"==e?(l=l.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),c=c.replace(/(\*\*|__)/,"")):"italic"==e?(l=l.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),c=c.replace(/(\*|_)/,"")):"strikethrough"==e&&(l=l.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),c=c.replace(/(\*\*|~~)/,"")),r.replaceRange(l+c,{line:d.line,ch:0},{line:d.line,ch:99999999999999}),"bold"==e||"strikethrough"==e?(d.ch-=2,d!==u&&(u.ch-=2)):"italic"==e&&(d.ch-=1,d!==u&&(u.ch-=1))):(o=r.getSelection(),"bold"==e?o=(o=o.split("**").join("")).split("__").join(""):"italic"==e?o=(o=o.split("*").join("")).split("_").join(""):"strikethrough"==e&&(o=o.split("~~").join("")),r.replaceSelection(l+o+c),d.ch+=i.length,u.ch=d.ch+o.length),r.setSelection(d,u),r.focus()}}function O(t,e){for(var i in e)e.hasOwnProperty(i)&&(e[i]instanceof Array?t[i]=e[i].concat(t[i]instanceof Array?t[i]:[]):null!==e[i]&&"object"==typeof e[i]&&e[i].constructor===Object?t[i]=O(t[i]||{},e[i]):t[i]=e[i]);return t}function N(t){for(var e=1;e<arguments.length;e++)t=O(t,arguments[e]);return t}function P(t){var e=t.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),i=0;if(null===e)return i;for(var n=0;n<e.length;n++)i+=e[n].charCodeAt(0)>=19968?e[n].length:1;return i}function j(t){(t=t||{}).parent=this;var e=!0;if(!1===t.autoDownloadFontAwesome&&(e=!1),!0!==t.autoDownloadFontAwesome)for(var i=document.styleSheets,n=0;n<i.length;n++)i[n].href&&i[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var o=document.createElement("link");o.rel="stylesheet",o.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(o)}if(t.element)this.element=t.element;else if(null===t.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===t.toolbar)for(var r in t.toolbar=[],Q)Q.hasOwnProperty(r)&&(-1!=r.indexOf("separator-")&&t.toolbar.push("|"),(!0===Q[r].default||t.showIcons&&t.showIcons.constructor===Array&&-1!=t.showIcons.indexOf(r))&&t.toolbar.push(r));t.hasOwnProperty("status")||(t.status=["autosave","lines","words","cursor"]),t.previewRender||(t.previewRender=function(t){return this.parent.markdown(t)}),t.parsingConfig=N({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=N({},V,t.insertTexts||{}),t.promptTexts=K,t.blockStyles=N({},G,t.blockStyles||{}),t.shortcuts=N({},Y,t.shortcuts||{}),null!=t.autosave&&null!=t.autosave.unique_id&&""!=t.autosave.unique_id&&(t.autosave.uniqueId=t.autosave.unique_id),this.options=t,this.render(),!t.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(t.initialValue)}function H(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(t){return!1}return!0}var F=t("codemirror");t("codemirror/addon/edit/continuelist.js"),t("./codemirror/tablist"),t("codemirror/addon/display/fullscreen.js"),t("codemirror/mode/markdown/markdown.js"),t("codemirror/addon/mode/overlay.js"),t("codemirror/addon/display/placeholder.js"),t("codemirror/addon/selection/mark-selection.js"),t("codemirror/mode/gfm/gfm.js"),t("codemirror/mode/xml/xml.js");var B=t("codemirror-spell-checker"),R=t("marked"),z=/Mac/.test(navigator.platform),W={toggleBold:c,toggleItalic:d,drawLink:k,toggleHeadingSmaller:f,toggleHeadingBigger:g,drawImage:C,toggleBlockquote:p,toggleOrderedList:w,toggleUnorderedList:b,toggleCodeBlock:h,togglePreview:E,toggleStrikethrough:u,toggleHeading1:m,toggleHeading2:v,toggleHeading3:y,cleanBlock:x,drawTable:S,drawHorizontalRule:T,undo:_,redo:A,toggleSideBySide:D,toggleFullScreen:l},Y={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},U=function(t){for(var e in W)if(W[e]===t)return e;return null},q=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},X="",Q={bold:{name:"bold",action:c,className:"fa fa-bold",title:"Жирный",default:!0},italic:{name:"italic",action:d,className:"fa fa-italic",title:"Наклонный",default:!0},strikethrough:{name:"strikethrough",action:u,className:"fa fa-strikethrough",title:"Зачеркнутый"},heading:{name:"heading",action:f,className:"fa fa-header",title:"Заголовок",default:!0},"heading-smaller":{name:"heading-smaller",action:f,className:"fa fa-header fa-header-x fa-header-smaller",title:"Меньший заголовок"},"heading-bigger":{name:"heading-bigger",action:g,className:"fa fa-header fa-header-x fa-header-bigger",title:"Больший заголовок"},"heading-1":{name:"heading-1",action:m,className:"fa fa-header fa-header-x fa-header-1",title:"Большой заголовок"},"heading-2":{name:"heading-2",action:v,className:"fa fa-header fa-header-x fa-header-2",title:"Средний заголовок"},"heading-3":{name:"heading-3",action:y,className:"fa fa-header fa-header-x fa-header-3",title:"Маленький заголовок"},"separator-1":{name:"separator-1"},code:{name:"code",action:h,className:"fa fa-code",title:"Код"},quote:{name:"quote",action:p,className:"fa fa-quote-left",title:"Цитата",default:!0},"unordered-list":{name:"unordered-list",action:b,className:"fa fa-list-ul",title:"Общий список",default:!0},"ordered-list":{name:"ordered-list",action:w,className:"fa fa-list-ol",title:"Нумерованный список",default:!0},"clean-block":{name:"clean-block",action:x,className:"fa fa-eraser fa-clean-block",title:"Чистый блок"},"separator-2":{name:"separator-2"},link:{name:"link",action:k,className:"fa fa-link",title:"Добавить ссылку",default:!0},image:{name:"image",action:C,className:"fa fa-picture-o",title:"Вставить картинку",default:!0},table:{name:"table",action:S,className:"fa fa-table",title:"Вставить таблицу"},"horizontal-rule":{name:"horizontal-rule",action:T,className:"fa fa-minus",title:"Вставить горизонтальную линию"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:E,className:"fa fa-eye no-disable",title:"Переключить вид",default:!0},"side-by-side":{name:"side-by-side",action:D,className:"fa fa-columns no-disable no-mobile",title:"Переключить бок о бок",default:!0},fullscreen:{name:"fullscreen",action:l,className:"fa fa-arrows-alt no-disable no-mobile",title:"Переключить на полный экран",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Руководство по Markdown",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:_,className:"fa fa-undo no-disable",title:"Отменить"},redo:{name:"redo",action:A,className:"fa fa-repeat no-disable",title:"Повторить"}},V={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},K={link:"URL for the link:",image:"URL of the image:"},G={bold:"**",code:"```",italic:"*"};j.prototype.markdown=function(t){if(R){var e={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(e.highlight=function(t){return window.hljs.highlightAuto(t).value}),R.setOptions(e),R(t)}},j.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==t){this.element=t;var e,i,o=this.options,r=this,s={};for(var a in o.shortcuts)null!==o.shortcuts[a]&&null!==W[a]&&function(t){s[n(o.shortcuts[t])]=function(){W[t](r)}}(a);if(s.Enter="newlineAndIndentContinueMarkdownList",s.Tab="tabAndIndentMarkdownList",s["Shift-Tab"]="shiftTabAndUnindentMarkdownList",s.Esc=function(t){t.getOption("fullScreen")&&l(r)},document.addEventListener("keydown",(function(t){27==(t=t||window.event).keyCode&&r.codemirror.getOption("fullScreen")&&l(r)}),!1),!1!==o.spellChecker?(e="spell-checker",(i=o.parsingConfig).name="gfm",i.gitHubSpice=!1,B({codeMirrorInstance:F})):((e=o.parsingConfig).name="gfm",e.gitHubSpice=!1),this.codemirror=F.fromTextArea(t,{mode:e,backdrop:i,theme:"paper",tabSize:null!=o.tabSize?o.tabSize:2,indentUnit:null!=o.tabSize?o.tabSize:2,indentWithTabs:!1!==o.indentWithTabs,lineNumbers:!1,autofocus:!0===o.autofocus,extraKeys:s,lineWrapping:!1!==o.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:o.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:null==o.styleSelectedText||o.styleSelectedText}),!0===o.forceSync){var c=this.codemirror;c.on("change",(function(){c.save()}))}this.gui={},!1!==o.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==o.status&&(this.gui.statusbar=this.createStatusbar()),null!=o.autosave&&!0===o.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var d=this.codemirror;setTimeout(function(){d.refresh()}.bind(d),0)}},j.prototype.autosave=function(){if(H()){var t=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=t.element.form&&null!=t.element.form&&t.element.form.addEventListener("submit",(function(){localStorage.removeItem("smde_"+t.options.autosave.uniqueId)})),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,t.value());var e=document.getElementById("autosaved");if(null!=e&&null!=e&&""!=e){var i=new Date,n=i.getHours(),o=i.getMinutes(),r="am",s=n;s>=12&&(s=n-12,r="pm"),0==s&&(s=12),o=10>o?"0"+o:o,e.innerHTML="Autosaved: "+s+":"+o+" "+r}this.autosaveTimeoutId=setTimeout((function(){t.autosave()}),this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},j.prototype.clearAutosavedValue=function(){if(H()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},j.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),i=e.nextSibling;i&&/editor-preview-side/.test(i.className)||((i=document.createElement("div")).className="editor-preview-side",e.parentNode.insertBefore(i,e.nextSibling));var n=!1,o=!1;return t.on("scroll",(function(t){if(n)n=!1;else{o=!0;var e=t.getScrollInfo().height-t.getScrollInfo().clientHeight,r=parseFloat(t.getScrollInfo().top)/e,s=(i.scrollHeight-i.clientHeight)*r;i.scrollTop=s}})),i.onscroll=function(){if(o)o=!1;else{n=!0;var e=i.scrollHeight-i.clientHeight,r=parseFloat(i.scrollTop)/e,s=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*r;t.scrollTo(0,s)}},i},j.prototype.createToolbar=function(t){if((t=t||this.options.toolbar)&&0!==t.length){var e;for(e=0;e<t.length;e++)null!=Q[t[e]]&&(t[e]=Q[t[e]]);var i=document.createElement("div");i.className="editor-toolbar";var n=this,s={};for(n.toolbar=t,e=0;e<t.length;e++)if(("guide"!=t[e].name||!1!==n.options.toolbarGuideIcon)&&!(n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(t[e].name)||("fullscreen"==t[e].name||"side-by-side"==t[e].name)&&q())){if("|"===t[e]){for(var l=!1,c=e+1;c<t.length;c++)"|"===t[c]||n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(t[c].name)||(l=!0);if(!l)continue}!function(t){var e;e="|"===t?r():o(t,n.options.toolbarTips,n.options.shortcuts),t.action&&("function"==typeof t.action?e.onclick=function(e){e.preventDefault(),t.action(n)}:"string"==typeof t.action&&(e.href=t.action,e.target="_blank")),s[t.name||t]=e,i.appendChild(e)}(t[e])}n.toolbarElements=s;var d=this.codemirror;d.on("cursorActivity",(function(){var t=a(d);for(var e in s)!function(e){var i=s[e];t[e]?i.className+=" active":"fullscreen"!=e&&"side-by-side"!=e&&(i.className=i.className.replace(/\s*active\s*/g,""))}(e)}));var u=d.getWrapperElement();return u.parentNode.insertBefore(i,u),i}},j.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,i=this.codemirror;if(t&&0!==t.length){var n,o,r,s=[];for(n=0;n<t.length;n++)if(o=void 0,r=void 0,"object"==typeof t[n])s.push({className:t[n].className,defaultValue:t[n].defaultValue,onUpdate:t[n].onUpdate});else{var a=t[n];"words"===a?(r=function(t){t.innerHTML=P(i.getValue())},o=function(t){t.innerHTML=P(i.getValue())}):"lines"===a?(r=function(t){t.innerHTML=i.lineCount()},o=function(t){t.innerHTML=i.lineCount()}):"cursor"===a?(r=function(t){t.innerHTML="0:0"},o=function(t){var e=i.getCursor();t.innerHTML=e.line+":"+e.ch}):"autosave"===a&&(r=function(t){null!=e.autosave&&!0===e.autosave.enabled&&t.setAttribute("id","autosaved")}),s.push({className:a,defaultValue:r,onUpdate:o})}var l=document.createElement("div");for(l.className="editor-statusbar",n=0;n<s.length;n++){var c=s[n],d=document.createElement("span");d.className=c.className,"function"==typeof c.defaultValue&&c.defaultValue(d),"function"==typeof c.onUpdate&&this.codemirror.on("update",function(t,e){return function(){e.onUpdate(t)}}(d,c)),l.appendChild(d)}var u=this.codemirror.getWrapperElement();return u.parentNode.insertBefore(l,u.nextSibling),l}},j.prototype.value=function(t){return void 0===t?this.codemirror.getValue():(this.codemirror.getDoc().setValue(t),this)},j.toggleBold=c,j.toggleItalic=d,j.toggleStrikethrough=u,j.toggleBlockquote=p,j.toggleHeadingSmaller=f,j.toggleHeadingBigger=g,j.toggleHeading1=m,j.toggleHeading2=v,j.toggleHeading3=y,j.toggleCodeBlock=h,j.toggleUnorderedList=b,j.toggleOrderedList=w,j.cleanBlock=x,j.drawLink=k,j.drawImage=C,j.drawTable=S,j.drawHorizontalRule=T,j.undo=_,j.redo=A,j.togglePreview=E,j.toggleSideBySide=D,j.toggleFullScreen=l,j.prototype.toggleBold=function(){c(this)},j.prototype.toggleItalic=function(){d(this)},j.prototype.toggleStrikethrough=function(){u(this)},j.prototype.toggleBlockquote=function(){p(this)},j.prototype.toggleHeadingSmaller=function(){f(this)},j.prototype.toggleHeadingBigger=function(){g(this)},j.prototype.toggleHeading1=function(){m(this)},j.prototype.toggleHeading2=function(){v(this)},j.prototype.toggleHeading3=function(){y(this)},j.prototype.toggleCodeBlock=function(){h(this)},j.prototype.toggleUnorderedList=function(){b(this)},j.prototype.toggleOrderedList=function(){w(this)},j.prototype.cleanBlock=function(){x(this)},j.prototype.drawLink=function(){k(this)},j.prototype.drawImage=function(){C(this)},j.prototype.drawTable=function(){S(this)},j.prototype.drawHorizontalRule=function(){T(this)},j.prototype.undo=function(){_(this)},j.prototype.redo=function(){A(this)},j.prototype.togglePreview=function(){E(this)},j.prototype.toggleSideBySide=function(){D(this)},j.prototype.toggleFullScreen=function(){l(this)},j.prototype.isPreviewActive=function(){var t=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(t.className)},j.prototype.isSideBySideActive=function(){var t=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(t.className)},j.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},j.prototype.getState=function(){return a(this.codemirror)},j.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement();e.parentNode&&(this.gui.toolbar&&e.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&e.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&e.parentNode.removeChild(this.gui.sideBySide)),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},e.exports=j},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}((function(t){function e(e,i,n){var r,s,a;"string"==typeof n&&(n={className:n}),this.options=(r=y,s=t.isPlainObject(n)?n:{},(a=function(){}).prototype=r,t.extend(!0,new a,s)),this.loadHTML(),this.wrapper=t(h.html),this.options.clickToHide&&this.wrapper.addClass(o+"-hidable"),this.wrapper.data(o,this),this.arrow=this.wrapper.find("."+o+"-arrow"),this.container=this.wrapper.find("."+o+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=x(e),this.elem.data(o,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(i)}var i=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},n="notify",o=n+"js",r=n+"!blank",s={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},a=["l","c","r"],l=["t","m","b"],c=["t","b","l","r"],d={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},u={},h={name:"core",html:'<div class="'+o+'-wrapper">\n\t<div class="'+o+'-arrow"></div>\n\t<div class="'+o+'-container"></div>\n</div>',css:"."+o+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+o+"-corner ."+o+"-wrapper,\n."+o+"-corner ."+o+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+o+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+o+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+o+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+o+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},p={"border-radius":["-webkit-","-moz-"]},f=function(e,i){if(!e)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";var r=u[e];r&&r.cssElem&&(window.console&&console.warn(n+": overwriting style '"+e+"'"),u[e].cssElem.remove()),i.name=e,u[e]=i;var s="";i.classes&&t.each(i.classes,(function(e,n){return s+="."+o+"-"+i.name+"-"+e+" {\n",t.each(n,(function(e,i){return p[e]&&t.each(p[e],(function(t,n){return s+="\t"+n+e+": "+i+";\n"})),s+="\t"+e+": "+i+";\n"})),s+="}\n"})),i.css&&(s+="/* styles for "+i.name+" */\n"+i.css),s&&(i.cssElem=g(s),i.cssElem.attr("id","notify-"+i.name));var a={},l=t(i.html);m("html",l,a),m("text",l,a),i.fields=a},g=function(e){var i;(i=b("style")).attr("type","text/css"),t("head").append(i);try{i.html(e)}catch(t){i[0].styleSheet.cssText=e}return i},m=function(e,i,n){var o;return"html"!==e&&(e="text"),v(i,"["+(o="data-notify-"+e)+"]").each((function(){var i;(i=t(this).attr(o))||(i=r),n[i]=e}))},v=function(t,e){return t.is(e)?t:t.find(e)},y={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},b=function(e){return t("<"+e+"></"+e+">")},w={},x=function(e){return e.is("[type=radio]")&&(e=e.parents("form:first").find("[type=radio]").filter((function(i,n){return t(n).attr("name")===e.attr("name")})).first()),e},k=function(t,e,i){var n;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;if(!isNaN(i))return void 0!==t[n=s[d[e.charAt(0)]]]&&(e=s[n.charAt(0)],i=-i),void 0===t[e]?t[e]=i:t[e]+=i,null},C=function(t,e,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-e/2;if("r"===t||"b"===t)return i-e;throw"Invalid alignment"};e.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},e.prototype.show=function(t,e){var i,n,o,r,s,a;if(n=function(){if(!t&&!a.elem&&a.destroy(),e)return e()},s=0<(a=this).container.parent().parents(":hidden").length,o=this.container.add(this.arrow),i=[],s&&t)r="show";else if(s&&!t)r="hide";else if(!s&&t)r=this.options.showAnimation,i.push(this.options.showDuration);else{if(s||t)return n();r=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(n),o[r].apply(o,i)},e.prototype.setGlobalPosition=function(){var e=this.getPosition(),i=e[0],n=e[1],r=s[i],a=s[n],l=i+"|"+n,c=w[l];if(!c||!document.body.contains(c[0])){c=w[l]=b("div");var d={};d[r]=0,"middle"===a?d.top="45%":"center"===a?d.left="45%":d[a]=0,c.css(d).addClass(o+"-corner"),t("body").append(c)}return c.prepend(this.wrapper)},e.prototype.setElementPosition=function(){var e,n,o,r,u,h,p,f,g,m,v,y,b,w,x,S,T,_,A,D,E,M,I,$,L,O,N,P;for(I=(O=this.getPosition())[0],M=O[1],O[2],v=this.elem.position(),f=this.elem.outerHeight(),y=this.elem.outerWidth(),g=this.elem.innerHeight(),m=this.elem.innerWidth(),P=this.wrapper.position(),u=this.container.height(),h=this.container.width(),_=s[I],(p={})[E=s[D=d[I]]]="b"===I?f:"r"===I?y:0,k(p,"top",v.top-P.top),k(p,"left",v.left-P.left),w=0,S=(N=["top","left"]).length;w<S;w++)$=N[w],(A=parseInt(this.elem.css("margin-"+$),10))&&k(p,$,A);if(b=Math.max(0,this.options.gap-(this.options.arrowShow?o:0)),k(p,E,b),this.options.arrowShow){for(o=this.options.arrowSize,n=t.extend({},p),e=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",x=0,T=c.length;x<T;x++)L=s[$=c[x]],$!==D&&(r=L===_?e:"transparent",n["border-"+L]=o+"px solid "+r);k(p,s[D],o),0<=i.call(c,M)&&k(n,s[M],2*o)}else this.arrow.hide();if(0<=i.call(l,I)?(k(p,"left",C(M,h,y)),n&&k(n,"left",C(M,o,m))):0<=i.call(a,I)&&(k(p,"top",C(M,u,f)),n&&k(n,"top",C(M,o,g))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p),n)return this.arrow.removeAttr("style").css(n)},e.prototype.getPosition=function(){var e,n,o,r,d,u,h,p,f;if(p=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),f=[],t.each(p.split(/\W+/),(function(t,e){var i;if(i=e.toLowerCase().charAt(0),s[i])return f.push(i)})),0===(e=f).length&&(e[0]="b"),n=e[0],i.call(c,n)<0)throw"Must be one of ["+c+"]";return(1===e.length||(o=e[0],0<=i.call(l,o)&&(r=e[1],i.call(a,r)<0))||(d=e[0],0<=i.call(a,d)&&(u=e[1],i.call(l,u)<0)))&&(e[1]=(h=e[0],0<=i.call(a,h)?"m":"l")),2===e.length&&(e[2]=e[1]),e},e.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=u[t]))throw"Missing style: "+t;return e},e.prototype.updateClasses=function(){var e,i;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),i=this.getStyle(),e=t.map(e,(function(t){return o+"-"+i.name+"-"+t})).join(" "),this.userContainer.attr("class",e)},e.prototype.run=function(e,i){var n,o,s,a,l;if(t.isPlainObject(i)?t.extend(this.options,i):"string"===t.type(i)&&(this.options.className=i),!this.container||e){if(this.container||e){for(s in o={},t.isPlainObject(e)?o=e:o[r]=e,o)n=o[s],(a=this.userFields[s])&&("text"===a&&this.options.breakNewLines&&(n=n.replace(/\n/g,"<br/>")),l=s===r?"":"="+s,v(this.userContainer,"[data-notify-"+a+l+"]").html(n));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},e.prototype.destroy=function(){this.wrapper.data(o,null),this.wrapper.remove()},t[n]=function(i,o,r){return i&&i.nodeName||i.jquery?t(i)[n](o,r):(r=o,new e(null,o=i,r)),i},t.fn[n]=function(i,n){return t(this).each((function(){var r=x(t(this)).data(o);r&&r.destroy(),new e(t(this),i,n)})),this},t.extend(t[n],{defaults:function(e){return t.extend(y,e)},addStyle:f,removeStyle:function(t){if(!t)throw"Missing Style name";u[t]&&delete u[t]},pluginOptions:y,getStyle:function(t){return u[t]},insertCSS:g}),f("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),t((function(){g(h.css).attr("id","core-notify"),t(document).on("click","."+o+"-hidable",(function(e){t(this).trigger("notify-hide")})),t(document).on("notify-hide","."+o+"-wrapper",(function(e){var i=t(this).data(o);i&&i.show(!1)}))}))})),notify=function(t,e,i){e=e||"success",icon="fa fa-info","success"==e?icon="fa fa-check-circle":"error"==e?icon="fa fa-exclamation-triangle":"info"==e&&(icon="fa fa-info-circle"),$.notify.addStyle("ddr",{html:'<div><i class="'+icon+'"></i><span data-notify-text/></div>'}),$.notify(t,{clickToHide:!0,autoHide:!0,autoHideDelay:i?1e3*i:5e3,arrowShow:!1,arrowSize:15,position:"top right",style:"ddr",className:e,showAnimation:"fadeIn",showDuration:300,hideAnimation:"fadeOut",hideDuration:200,gap:40})};