"use strict";function _typeof(r){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(r)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a,i,u=[],l=!0,s=!1;try{if(a=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=a.call(t)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(r){s=!0,o=r}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return u}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){u=!0,a=r},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw a}}}}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function _getRequireWildcardCache(r){if("function"!=typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(r){return r?t:e})(r)}function _interopRequireWildcard(r,e){if(!e&&r&&r.__esModule)return r;if(null===r||"object"!=_typeof(r)&&"function"!=typeof r)return{default:r};var t=_getRequireWildcardCache(e);if(t&&t.has(r))return t.get(r);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if("default"!==a&&{}.hasOwnProperty.call(r,a)){var i=o?Object.getOwnPropertyDescriptor(r,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=r[a]}return n.default=r,t&&t.set(r,n),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,await Promise.resolve().then((function(){return _interopRequireWildcard(require("/public/js/plugins/lodash.js"))})),await Promise.resolve().then((function(){return _interopRequireWildcard(require("https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"))}));var ddrQry={},methods=["get","post","put","patch","delete","options","head"];function _action(r,e){var t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"/"!=e.substr(0,1)&&(e="/"+e),["get","head","options"].includes(r)&&_hasQueryInUrl(e)&&(o=n);var a=Object.assign({method:r,url:e,responseType:"json",headers:{},abortContr:null},o);return a.headers["X-Requested-With"]="XMLHttpRequest",_hasFiles(n)&&(a.headers["Content-Type"]="multipart/form-data"),["get","head","options"].includes(r)?0==_hasQueryInUrl(e)&&n&&_.set(a,"params",n):a.data=n,a.abortContr&&(a.signal=null===(t=a.abortContr)||void 0===t?void 0:t.signal),new Promise((function(r,e){try{axios(a).then((function(e){var t=e.data,n=e.status,o=e.headers,a=(null==t?void 0:t.status)||n;r(a>=200&&a<300?{data:t,error:!1,status:a,headers:o}:{data:!1,error:t,status:a,headers:o})})).catch((function(t){axios.isCancel(t)?(console.log("ddrQuery: запрос отменен!"),r({abort:!0})):(console.log("ddrQuery: reject!"),r({data:!1,error:t,status:null,headers:null}),e(t))}))}catch(r){console.log("ddrQuery try catch: ошибка загрузки","error"),e(r)}}))}function _setMethodField(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_.isNull(e))throw new Error("ddrQuery -> _setMethodField: не указан method!");return e=e.toUpperCase(),r instanceof FormData?r.append("_method",e):r._method=e,r}function _hasQueryInUrl(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(_.isNull(r))throw new Error("ddrQuery -> _hasQueryInUrl: не указан url!");return r.includes("?")}function _hasFiles(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(_.isNull(r))return!1;if(r instanceof FormData){var e,t=_createForOfIteratorHelper(r.entries());try{for(t.s();!(e=t.n()).done;){var n=_slicedToArray(e.value,2);n[0];if(n[1]instanceof File)return!0}}catch(r){t.e(r)}finally{t.f()}}else if("object"===_typeof(r))for(var o in r)if(r.hasOwnProperty(o)&&r[o]instanceof File)return!0;return!1}ddrQry.get=function(r,e,t){return _action("get",r,e,t)},ddrQry.post=function(r,e,t){return _action("post",r,e,t)},ddrQry.put=function(r,e,t){return _action("put",r,e,t)},ddrQry.patch=function(r,e,t){return _action("patch",r,e,t)},ddrQry.delete=function(r,e,t){return _action("delete",r,e,t)},ddrQry.options=function(r,e,t){return _action("options",r,e,t)},ddrQry.head=function(r,e,t){return _action("head",r,e,t)};var _default=exports.default=ddrQry;